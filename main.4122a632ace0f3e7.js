"use strict";(self.webpackChunkinquizitiv=self.webpackChunkinquizitiv||[]).push([[179],{276:(xf,Cb,Sb)=>{function ke(t){return"function"==typeof t}function Ab(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Mf=Ab(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Pc(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Rn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(ke(r))try{r()}catch(s){e=s instanceof Mf?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{Nb(s)}catch(o){e=e??[],o instanceof Mf?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Mf(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Nb(e);else{if(e instanceof Rn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Pc(n,e)}remove(e){const{_finalizers:n}=this;n&&Pc(n,e),e instanceof Rn&&e._removeParent(this)}}Rn.EMPTY=(()=>{const t=new Rn;return t.closed=!0,t})();const xb=Rn.EMPTY;function Mb(t){return t instanceof Rn||t&&"closed"in t&&ke(t.remove)&&ke(t.add)&&ke(t.unsubscribe)}function Nb(t){ke(t)?t():t.unsubscribe()}const Si={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Oc={setTimeout(t,e,...n){const{delegate:r}=Oc;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Oc;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function kb(t){Oc.setTimeout(()=>{const{onUnhandledError:e}=Si;if(!e)throw t;e(t)})}function Rb(){}const eV=Nf("C",void 0,void 0);function Nf(t,e,n){return{kind:t,value:e,error:n}}let Ai=null;function Fc(t){if(Si.useDeprecatedSynchronousErrorHandling){const e=!Ai;if(e&&(Ai={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Ai;if(Ai=null,n)throw r}}else t()}class kf extends Rn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Mb(e)&&e.add(this)):this.destination=aV}static create(e,n,r){return new ya(e,n,r)}next(e){this.isStopped?Pf(function nV(t){return Nf("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Pf(function tV(t){return Nf("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Pf(eV,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const iV=Function.prototype.bind;function Rf(t,e){return iV.call(t,e)}class sV{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Lc(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Lc(r)}else Lc(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Lc(n)}}}class ya extends kf{constructor(e,n,r){let i;if(super(),ke(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Si.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Rf(e.next,s),error:e.error&&Rf(e.error,s),complete:e.complete&&Rf(e.complete,s)}):i=e}this.destination=new sV(i)}}function Lc(t){Si.useDeprecatedSynchronousErrorHandling?function rV(t){Si.useDeprecatedSynchronousErrorHandling&&Ai&&(Ai.errorThrown=!0,Ai.error=t)}(t):kb(t)}function Pf(t,e){const{onStoppedNotification:n}=Si;n&&Oc.setTimeout(()=>n(t,e))}const aV={closed:!0,next:Rb,error:function oV(t){throw t},complete:Rb},Of="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ff(t){return t}let mt=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function cV(t){return t&&t instanceof kf||function uV(t){return t&&ke(t.next)&&ke(t.error)&&ke(t.complete)}(t)&&Mb(t)}(n)?n:new ya(n,r,i);return Fc(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Ob(r))((i,s)=>{const o=new ya({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Of](){return this}pipe(...n){return function Pb(t){return 0===t.length?Ff:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=Ob(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function Ob(t){var e;return null!==(e=t??Si.Promise)&&void 0!==e?e:Promise}const lV=Ab(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Lf=(()=>{class t extends mt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new Fb(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new lV}next(n){Fc(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Fc(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Fc(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?xb:(this.currentObservers=null,s.push(n),new Rn(()=>{this.currentObservers=null,Pc(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new mt;return n.source=this,n}}return t.create=(e,n)=>new Fb(e,n),t})();class Fb extends Lf{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:xb}}function Ms(t){return e=>{if(function dV(t){return ke(t?.lift)}(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ns(t,e,n,r,i){return new hV(t,e,n,r,i)}class hV extends kf{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Vf(t,e){return Ms((n,r)=>{let i=0;n.subscribe(Ns(r,s=>{r.next(t.call(e,s,i++))}))})}function Uf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function xi(t){return this instanceof xi?(this.v=t,this):new xi(t)}function mV(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Bb(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}const Ub=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function $b(t){return ke(t?.then)}function jb(t){return ke(t[Of])}function Hb(t){return Symbol.asyncIterator&&ke(t?.[Symbol.asyncIterator])}function Gb(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const qb=function _V(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function zb(t){return ke(t?.[qb])}function Wb(t){return function gV(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof xi?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield xi(n.read());if(i)return yield xi(void 0);yield yield xi(r)}}finally{n.releaseLock()}})}function Kb(t){return ke(t?.getReader)}function pr(t){if(t instanceof mt)return t;if(null!=t){if(jb(t))return function vV(t){return new mt(e=>{const n=t[Of]();if(ke(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Ub(t))return function wV(t){return new mt(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if($b(t))return function IV(t){return new mt(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,kb)})}(t);if(Hb(t))return Qb(t);if(zb(t))return function EV(t){return new mt(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(Kb(t))return function DV(t){return Qb(Wb(t))}(t)}throw Gb(t)}function Qb(t){return new mt(e=>{(function bV(t,e){var n,r,i,s;return function fV(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=mV(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Qr(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Yb(t,e,n=1/0){return ke(e)?Yb((r,i)=>Vf((s,o)=>e(r,s,i,o))(pr(t(r,i))),n):("number"==typeof e&&(n=e),Ms((r,i)=>function TV(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=m=>c<r?p(m):u.push(m),p=m=>{s&&e.next(m),c++;let y=!1;pr(n(m,l++)).subscribe(Ns(e,I=>{i?.(I),s?f(I):e.next(I)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;u.length&&c<r;){const I=u.shift();o?Qr(e,o,()=>p(I)):p(I)}h()}catch(I){e.error(I)}}))};return t.subscribe(Ns(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}const Xb=new mt(t=>t.complete());function $f(t){return t[t.length-1]}function Vc(t,e=0){return Ms((n,r)=>{n.subscribe(Ns(r,i=>Qr(r,t,()=>r.next(i),e),()=>Qr(r,t,()=>r.complete(),e),i=>Qr(r,t,()=>r.error(i),e)))})}function Bc(t,e=0){return Ms((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Jb(t,e){if(!t)throw new Error("Iterable cannot be null");return new mt(n=>{Qr(n,e,()=>{const r=t[Symbol.asyncIterator]();Qr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Zb(t,e){return e?function LV(t,e){if(null!=t){if(jb(t))return function kV(t,e){return pr(t).pipe(Bc(e),Vc(e))}(t,e);if(Ub(t))return function PV(t,e){return new mt(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if($b(t))return function RV(t,e){return pr(t).pipe(Bc(e),Vc(e))}(t,e);if(Hb(t))return Jb(t,e);if(zb(t))return function OV(t,e){return new mt(n=>{let r;return Qr(n,e,()=>{r=t[qb](),Qr(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>ke(r?.return)&&r.return()})}(t,e);if(Kb(t))return function FV(t,e){return Jb(Wb(t),e)}(t,e)}throw Gb(t)}(t,e):pr(t)}function VV(...t){const e=function MV(t){return function AV(t){return t&&ke(t.schedule)}($f(t))?t.pop():void 0}(t),n=function NV(t,e){return"number"==typeof $f(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?pr(r[0]):function CV(t=1/0){return Yb(Ff,t)}(n)(Zb(r,e)):Xb}function jf(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new ya({next:()=>{r.unsubscribe(),t()}});return pr(e(...n)).subscribe(r)}function we(t){for(let e in t)if(t[e]===we)return e;throw Error("Could not find renamed property on target object.")}function Hf(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Ee(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Ee).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Gf(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const UV=we({__forward_ref__:we});function De(t){return t.__forward_ref__=De,t.toString=function(){return Ee(this())},t}function H(t){return qf(t)?t():t}function qf(t){return"function"==typeof t&&t.hasOwnProperty(UV)&&t.__forward_ref__===De}function zf(t){return t&&!!t.\u0275providers}const eT="https://g.co/ng/security#xss";class k extends Error{constructor(e,n){super(Uc(e,n)),this.code=e}}function Uc(t,e){return`NG0${Math.abs(t)}${e?": "+e.trim():""}`}function Y(t){return"string"==typeof t?t:null==t?"":String(t)}function $c(t,e){throw new k(-201,!1)}function En(t,e){null==t&&function ge(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function Ie(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Dn(t){return{providers:t.providers||[],imports:t.imports||[]}}function jc(t){return tT(t,Hc)||tT(t,rT)}function tT(t,e){return t.hasOwnProperty(e)?t[e]:null}function nT(t){return t&&(t.hasOwnProperty(Wf)||t.hasOwnProperty(KV))?t[Wf]:null}const Hc=we({\u0275prov:we}),Wf=we({\u0275inj:we}),rT=we({ngInjectableDef:we}),KV=we({ngInjectorDef:we});var z=(()=>((z=z||{})[z.Default=0]="Default",z[z.Host=1]="Host",z[z.Self=2]="Self",z[z.SkipSelf=4]="SkipSelf",z[z.Optional=8]="Optional",z))();let Kf;function bn(t){const e=Kf;return Kf=t,e}function iT(t,e,n){const r=jc(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&z.Optional?null:void 0!==e?e:void $c(Ee(t))}const Te=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),_a={},Qf="__NG_DI_FLAG__",Gc="ngTempTokenPath",YV="ngTokenPath",XV=/\n/gm,JV="\u0275",sT="__source";let va;function ks(t){const e=va;return va=t,e}function ZV(t,e=z.Default){if(void 0===va)throw new k(-203,!1);return null===va?iT(t,void 0,e):va.get(t,e&z.Optional?null:void 0,e)}function ue(t,e=z.Default){return(function QV(){return Kf}()||ZV)(H(t),e)}function qc(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Yf(t){const e=[];for(let n=0;n<t.length;n++){const r=H(t[n]);if(Array.isArray(r)){if(0===r.length)throw new k(900,!1);let i,s=z.Default;for(let o=0;o<r.length;o++){const a=r[o],u=e2(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(ue(i,s))}else e.push(ue(r))}return e}function wa(t,e){return t[Qf]=e,t.prototype[Qf]=e,t}function e2(t){return t[Qf]}function gr(t){return{toString:t}.toString()}var Kn=(()=>((Kn=Kn||{})[Kn.OnPush=0]="OnPush",Kn[Kn.Default=1]="Default",Kn))(),Qn=(()=>{return(t=Qn||(Qn={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",Qn;var t})();const mr={},fe=[],zc=we({\u0275cmp:we}),Xf=we({\u0275dir:we}),Jf=we({\u0275pipe:we}),uT=we({\u0275mod:we}),yr=we({\u0275fac:we}),Ia=we({__NG_ELEMENT_ID__:we});let r2=0;function cT(t){return gr(()=>{const e=dT(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Kn.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,data:t.data||{},encapsulation:t.encapsulation||Qn.Emulated,id:"c"+r2++,styles:t.styles||fe,_:null,schemas:t.schemas||null,tView:null};hT(n);const r=t.dependencies;return n.directiveDefs=Wc(r,!1),n.pipeDefs=Wc(r,!0),n})}function s2(t){return me(t)||St(t)}function o2(t){return null!==t}function Pn(t){return gr(()=>({type:t.type,bootstrap:t.bootstrap||fe,declarations:t.declarations||fe,imports:t.imports||fe,exports:t.exports||fe,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function lT(t,e){if(null==t)return mr;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function X(t){return gr(()=>{const e=dT(t);return hT(e),e})}function me(t){return t[zc]||null}function St(t){return t[Xf]||null}function Zt(t){return t[Jf]||null}function dT(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,exportAs:t.exportAs||null,standalone:!0===t.standalone,selectors:t.selectors||fe,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:lT(t.inputs,e),outputs:lT(t.outputs)}}function hT(t){t.features?.forEach(e=>e(t))}function Wc(t,e){if(!t)return null;const n=e?Zt:s2;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(o2)}const _r=0,O=1,te=2,Fe=3,On=4,Mi=5,At=6,Rs=7,je=8,Kc=9,Qc=10,re=11,Zf=12,Da=13,fT=14,Ps=15,xt=16,ba=17,Os=18,Yn=19,Ta=20,pT=21,Ce=22,ep=1,gT=2,Yc=7,Xc=8,Fs=9,Ut=10;function hn(t){return Array.isArray(t)&&"object"==typeof t[ep]}function Fn(t){return Array.isArray(t)&&!0===t[ep]}function tp(t){return 0!=(4&t.flags)}function Ca(t){return t.componentOffset>-1}function Jc(t){return 1==(1&t.flags)}function Ln(t){return!!t.template}function u2(t){return 0!=(256&t[te])}function Ni(t,e){return t.hasOwnProperty(yr)?t[yr]:null}class d2{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function vr(){return _T}function _T(t){return t.type.prototype.ngOnChanges&&(t.setInput=f2),h2}function h2(){const t=wT(this),e=t?.current;if(e){const n=t.previous;if(n===mr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function f2(t,e,n,r){const i=this.declaredInputs[n],s=wT(t)||function p2(t,e){return t[vT]=e}(t,{previous:mr,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new d2(u&&u.currentValue,e,a===mr),t[r]=e}vr.ngInherit=!0;const vT="__ngSimpleChanges__";function wT(t){return t[vT]||null}const Tn=function(t,e,n){},IT="svg";function yt(t){for(;Array.isArray(t);)t=t[_r];return t}function Zc(t,e){return yt(e[t])}function fn(t,e){return yt(e[t.index])}function DT(t,e){return t.data[e]}function pn(t,e){const n=e[t];return hn(n)?n:n[_r]}function el(t){return 64==(64&t[te])}function Xr(t,e){return null==e?null:t[e]}function bT(t){t[Os]=0}function rp(t,e){t[Mi]+=e;let n=t,r=t[Fe];for(;null!==r&&(1===e&&1===n[Mi]||-1===e&&0===n[Mi]);)r[Mi]+=e,n=r,r=r[Fe]}const J={lFrame:PT(null),bindingsEnabled:!0};function CT(){return J.bindingsEnabled}function E(){return J.lFrame.lView}function ce(){return J.lFrame.tView}function Sa(t){return J.lFrame.contextLView=t,t[je]}function Aa(t){return J.lFrame.contextLView=null,t}function _t(){let t=ST();for(;null!==t&&64===t.type;)t=t.parent;return t}function ST(){return J.lFrame.currentTNode}function Xn(t,e){const n=J.lFrame;n.currentTNode=t,n.isParent=e}function ip(){return J.lFrame.isParent}function sp(){J.lFrame.isParent=!1}function Vs(){return J.lFrame.bindingIndex++}function Ir(t){const e=J.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function S2(t,e){const n=J.lFrame;n.bindingIndex=n.bindingRootIndex=t,op(e)}function op(t){J.lFrame.currentDirectiveIndex=t}function up(t){J.lFrame.currentQueryIndex=t}function x2(t){const e=t[O];return 2===e.type?e.declTNode:1===e.type?t[At]:null}function kT(t,e,n){if(n&z.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&z.Host||(i=x2(s),null===i||(s=s[Ps],10&i.type))););if(null===i)return!1;e=i,t=s}const r=J.lFrame=RT();return r.currentTNode=e,r.lView=t,!0}function cp(t){const e=RT(),n=t[O];J.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function RT(){const t=J.lFrame,e=null===t?null:t.child;return null===e?PT(t):e}function PT(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function OT(){const t=J.lFrame;return J.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const FT=OT;function lp(){const t=OT();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function jt(){return J.lFrame.selectedIndex}function ki(t){J.lFrame.selectedIndex=t}function Re(){const t=J.lFrame;return DT(t.tView,t.selectedIndex)}function Jr(){J.lFrame.currentNamespace=IT}function Ri(){!function R2(){J.lFrame.currentNamespace=null}()}function tl(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),u&&(t.viewHooks||(t.viewHooks=[])).push(-n,u),c&&((t.viewHooks||(t.viewHooks=[])).push(n,c),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,c)),null!=l&&(t.destroyHooks||(t.destroyHooks=[])).push(n,l)}}function nl(t,e,n){LT(t,e,3,n)}function rl(t,e,n,r){(3&t[te])===n&&LT(t,e,n,r)}function dp(t,e){let n=t[te];(3&n)===e&&(n&=2047,n+=1,t[te]=n)}function LT(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[Os]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[Os]+=65536),(a<s||-1==s)&&(F2(t,n,e,u),t[Os]=(4294901760&t[Os])+u+2),u++}function F2(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[te]>>11<t[Os]>>16&&(3&t[te])===e){t[te]+=2048,Tn(4,a,s);try{s.call(a)}finally{Tn(5,a,s)}}}else{Tn(4,a,s);try{s.call(a)}finally{Tn(5,a,s)}}}const Bs=-1;class Ma{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function fp(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];BT(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function VT(t){return 3===t||4===t||6===t}function BT(t){return 64===t.charCodeAt(0)}function Na(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||UT(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function UT(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function $T(t){return t!==Bs}function il(t){return 32767&t}function sl(t,e){let n=function U2(t){return t>>16}(t),r=e;for(;n>0;)r=r[Ps],n--;return r}let pp=!0;function ol(t){const e=pp;return pp=t,e}const jT=255,HT=5;let $2=0;const Jn={};function al(t,e){const n=GT(t,e);if(-1!==n)return n;const r=e[O];r.firstCreatePass&&(t.injectorIndex=e.length,gp(r.data,t),gp(e,null),gp(r.blueprint,null));const i=mp(t,e),s=t.injectorIndex;if($T(i)){const o=il(i),a=sl(i,e),u=a[O].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function gp(t,e){t.push(0,0,0,0,0,0,0,0,e)}function GT(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function mp(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=XT(i),null===r)return Bs;if(n++,i=i[Ps],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Bs}function yp(t,e,n){!function j2(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ia)&&(r=n[Ia]),null==r&&(r=n[Ia]=$2++);const i=r&jT;e.data[t+(i>>HT)]|=1<<i}(t,e,n)}function qT(t,e,n){if(n&z.Optional||void 0!==t)return t;$c()}function zT(t,e,n,r){if(n&z.Optional&&void 0===r&&(r=null),!(n&(z.Self|z.Host))){const i=t[Kc],s=bn(void 0);try{return i?i.get(e,r,n&z.Optional):iT(e,r,n&z.Optional)}finally{bn(s)}}return qT(r,0,n)}function WT(t,e,n,r=z.Default,i){if(null!==t){if(1024&e[te]){const o=function W2(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&1024&o[te]&&!(256&o[te]);){const a=KT(s,o,n,r|z.Self,Jn);if(a!==Jn)return a;let u=s.parent;if(!u){const c=o[pT];if(c){const l=c.get(n,Jn,r);if(l!==Jn)return l}u=XT(o),o=o[Ps]}s=u}return i}(t,e,n,r,Jn);if(o!==Jn)return o}const s=KT(t,e,n,r,Jn);if(s!==Jn)return s}return zT(e,n,r,i)}function KT(t,e,n,r,i){const s=function q2(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Ia)?t[Ia]:void 0;return"number"==typeof e?e>=0?e&jT:z2:e}(n);if("function"==typeof s){if(!kT(e,t,r))return r&z.Host?qT(i,0,r):zT(e,n,r,i);try{const o=s(r);if(null!=o||r&z.Optional)return o;$c()}finally{FT()}}else if("number"==typeof s){let o=null,a=GT(t,e),u=Bs,c=r&z.Host?e[xt][At]:null;for((-1===a||r&z.SkipSelf)&&(u=-1===a?mp(t,e):e[a+8],u!==Bs&&YT(r,!1)?(o=e[O],a=il(u),e=sl(u,e)):a=-1);-1!==a;){const l=e[O];if(QT(s,a,l.data)){const d=G2(a,e,n,o,r,c);if(d!==Jn)return d}u=e[a+8],u!==Bs&&YT(r,e[O].data[a+8]===c)&&QT(s,a,e)?(o=l,a=il(u),e=sl(u,e)):a=-1}}return i}function G2(t,e,n,r,i,s){const o=e[O],a=o.data[t+8],l=function ul(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&Ln(f)&&f.type===n)return u}return null}(a,o,n,null==r?Ca(a)&&pp:r!=o&&0!=(3&a.type),i&z.Host&&s===a);return null!==l?Pi(e,o,l,a):Jn}function Pi(t,e,n,r){let i=t[n];const s=e.data;if(function L2(t){return t instanceof Ma}(i)){const o=i;o.resolving&&function $V(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new k(-200,`Circular dependency in DI detected for ${t}${n}`)}(function pe(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Y(t)}(s[n]));const a=ol(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?bn(o.injectImpl):null;kT(t,r,z.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function O2(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=_T(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&bn(u),ol(a),o.resolving=!1,FT()}}return i}function QT(t,e,n){return!!(n[e+(t>>HT)]&1<<t)}function YT(t,e){return!(t&z.Self||t&z.Host&&e)}class Us{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return WT(this._tNode,this._lView,e,qc(r),n)}}function z2(){return new Us(_t(),E())}function _p(t){return qf(t)?()=>{const e=_p(H(t));return e&&e()}:Ni(t)}function XT(t){const e=t[O],n=e.type;return 2===n?e.declTNode:1===n?t[At]:null}const js="__parameters__";function Gs(t,e,n){return gr(()=>{const r=function wp(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(js)?u[js]:Object.defineProperty(u,js,{value:[]})[js];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class G{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Ie({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Oi(t,e){t.forEach(n=>Array.isArray(n)?Oi(n,e):e(n))}function ZT(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function cl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function gn(t,e,n){let r=qs(t,e);return r>=0?t[1|r]=n:(r=~r,function X2(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Ep(t,e){const n=qs(t,e);if(n>=0)return t[1|n]}function qs(t,e){return function e0(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const Ht=wa(Gs("Optional"),8),dl=wa(Gs("SkipSelf"),4);var en=(()=>((en=en||{})[en.Important=1]="Important",en[en.DashCase=2]="DashCase",en))();const Ap=new Map;let vB=0;const Mp="__ngContext__";function Nt(t,e){hn(e)?(t[Mp]=e[Ta],function IB(t){Ap.set(t[Ta],t)}(e)):t[Mp]=e}let Np;function kp(t,e){return Np(t,e)}function Va(t){const e=t[Fe];return Fn(e)?e[Fe]:e}function Rp(t){return I0(t[Da])}function Pp(t){return I0(t[On])}function I0(t){for(;null!==t&&!Fn(t);)t=t[On];return t}function Ws(t,e,n,r,i){if(null!=r){let s,o=!1;Fn(r)?s=r:hn(r)&&(o=!0,r=r[_r]);const a=yt(r);0===t&&null!==n?null==i?S0(e,n,a):Fi(e,n,a,i||null,!0):1===t&&null!==n?Fi(e,n,a,i||null,!0):2===t?function $p(t,e,n){const r=pl(t,e);r&&function $B(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function GB(t,e,n,r,i){const s=n[Yc];s!==yt(n)&&Ws(e,t,r,s,i);for(let a=Ut;a<n.length;a++){const u=n[a];Ba(u[O],u,t,e,r,s)}}(e,t,s,n,i)}}function Fp(t,e,n){return t.createElement(e,n)}function D0(t,e){const n=t[Fs],r=n.indexOf(e),i=e[Fe];512&e[te]&&(e[te]&=-513,rp(i,-1)),n.splice(r,1)}function Lp(t,e){if(t.length<=Ut)return;const n=Ut+e,r=t[n];if(r){const i=r[ba];null!==i&&i!==t&&D0(i,r),e>0&&(t[n-1][On]=r[On]);const s=cl(t,Ut+e);!function RB(t,e){Ba(t,e,e[re],2,null,null),e[_r]=null,e[At]=null}(r[O],r);const o=s[Yn];null!==o&&o.detachView(s[O]),r[Fe]=null,r[On]=null,r[te]&=-65}return r}function b0(t,e){if(!(128&e[te])){const n=e[re];n.destroyNode&&Ba(t,e,n,3,null,null),function FB(t){let e=t[Da];if(!e)return Vp(t[O],t);for(;e;){let n=null;if(hn(e))n=e[Da];else{const r=e[Ut];r&&(n=r)}if(!n){for(;e&&!e[On]&&e!==t;)hn(e)&&Vp(e[O],e),e=e[Fe];null===e&&(e=t),hn(e)&&Vp(e[O],e),n=e&&e[On]}e=n}}(e)}}function Vp(t,e){if(!(128&e[te])){e[te]&=-65,e[te]|=128,function UB(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Ma)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];Tn(4,a,u);try{u.call(a)}finally{Tn(5,a,u)}}else{Tn(4,i,s);try{s.call(i)}finally{Tn(5,i,s)}}}}}(t,e),function BB(t,e){const n=t.cleanup,r=e[Rs];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[i=o]():r[i=-o].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[Rs]=null}}(t,e),1===e[O].type&&e[re].destroy();const n=e[ba];if(null!==n&&Fn(e[Fe])){n!==e[Fe]&&D0(n,e);const r=e[Yn];null!==r&&r.detachView(t)}!function EB(t){Ap.delete(t[Ta])}(e)}}function T0(t,e,n){return function C0(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[_r];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===Qn.None||s===Qn.Emulated)return null}return fn(r,n)}}(t,e.parent,n)}function Fi(t,e,n,r,i){t.insertBefore(e,n,r,i)}function S0(t,e,n){t.appendChild(e,n)}function A0(t,e,n,r,i){null!==r?Fi(t,e,n,r,i):S0(t,e,n)}function pl(t,e){return t.parentNode(e)}let Bp,Gp,N0=function M0(t,e,n){return 40&t.type?fn(t,n):null};function gl(t,e,n,r){const i=T0(t,r,e),s=e[re],a=function x0(t,e,n){return N0(t,e,n)}(r.parent||e[At],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)A0(s,i,n[u],a,!1);else A0(s,i,n,a,!1);void 0!==Bp&&Bp(s,r,e,n,i)}function ml(t,e){if(null!==e){const n=e.type;if(3&n)return fn(e,t);if(4&n)return Up(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return ml(t,r);{const i=t[e.index];return Fn(i)?Up(-1,i):yt(i)}}if(32&n)return kp(e,t)()||yt(t[e.index]);{const r=R0(t,e);return null!==r?Array.isArray(r)?r[0]:ml(Va(t[xt]),r):ml(t,e.next)}}return null}function R0(t,e){return null!==e?t[xt][At].projection[e.projection]:null}function Up(t,e){const n=Ut+t+1;if(n<e.length){const r=e[n],i=r[O].firstChild;if(null!==i)return ml(r,i)}return e[Yc]}function jp(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Nt(yt(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)jp(t,e,n.child,r,i,s,!1),Ws(e,t,i,a,s);else if(32&u){const c=kp(n,r);let l;for(;l=c();)Ws(e,t,i,l,s);Ws(e,t,i,a,s)}else 16&u?P0(t,e,r,n,i,s):Ws(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Ba(t,e,n,r,i,s){jp(n,r,t.firstChild,e,i,s,!1)}function P0(t,e,n,r,i,s){const o=n[xt],u=o[At].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Ws(e,t,i,u[c],s);else jp(t,e,u,o[Fe],i,s,!0)}function O0(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function F0(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&fp(t,e,r),null!==i&&O0(t,e,i),null!==s&&function zB(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}class $0{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${eT})`}}function Zr(t){return t instanceof $0?t.changingThisBreaksApplicationSecurity:t}const oU=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var Qe=(()=>((Qe=Qe||{})[Qe.NONE=0]="NONE",Qe[Qe.HTML=1]="HTML",Qe[Qe.STYLE=2]="STYLE",Qe[Qe.SCRIPT=3]="SCRIPT",Qe[Qe.URL=4]="URL",Qe[Qe.RESOURCE_URL=5]="RESOURCE_URL",Qe))();function Yp(t){const e=function ja(){const t=E();return t&&t[Zf]}();return e?e.sanitize(Qe.URL,t)||"":function Ua(t,e){const n=function nU(t){return t instanceof $0&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${eT})`)}return n===e}(t,"URL")?Zr(t):function zp(t){return(t=String(t)).match(oU)?t:"unsafe:"+t}(Y(t))}const Q0=new G("ENVIRONMENT_INITIALIZER"),Y0=new G("INJECTOR",-1),X0=new G("INJECTOR_DEF_TYPES");class J0{get(e,n=_a){if(n===_a){const r=new Error(`NullInjectorError: No provider for ${Ee(e)}!`);throw r.name="NullInjectorError",r}return n}}function wU(...t){return{\u0275providers:Z0(0,t),\u0275fromNgModule:!0}}function Z0(t,...e){const n=[],r=new Set;let i;return Oi(e,s=>{const o=s;Xp(o,n,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&eC(i,n),n}function eC(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];Jp(i,s=>{e.push(s)})}}function Xp(t,e,n,r){if(!(t=H(t)))return!1;let i=null,s=nT(t);const o=!s&&me(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=nT(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)Xp(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{Oi(s.imports,l=>{Xp(l,e,n,r)&&(c||(c=[]),c.push(l))})}finally{}void 0!==c&&eC(c,e)}if(!a){const c=Ni(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:fe},{provide:X0,useValue:i,multi:!0},{provide:Q0,useValue:()=>ue(i),multi:!0})}const u=s.providers;null==u||a||Jp(u,l=>{e.push(l)})}}return i!==t&&void 0!==t.providers}function Jp(t,e){for(let n of t)zf(n)&&(n=n.\u0275providers),Array.isArray(n)?Jp(n,e):e(n)}const IU=we({provide:String,useValue:we});function Zp(t){return null!==t&&"object"==typeof t&&IU in t}function Li(t){return"function"==typeof t}const eg=new G("Set Injector scope."),wl={},DU={};let tg;function Il(){return void 0===tg&&(tg=new J0),tg}class Qs{}class rC extends Qs{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,rg(e,o=>this.processProvider(o)),this.records.set(Y0,Ys(void 0,this)),i.has("environment")&&this.records.set(Qs,Ys(void 0,this));const s=this.records.get(eg);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(X0.multi,fe,z.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const n=ks(this),r=bn(void 0);try{return e()}finally{ks(n),bn(r)}}get(e,n=_a,r=z.Default){this.assertNotDestroyed(),r=qc(r);const i=ks(this),s=bn(void 0);try{if(!(r&z.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function AU(t){return"function"==typeof t||"object"==typeof t&&t instanceof G}(e)&&jc(e);a=u&&this.injectableDefInScope(u)?Ys(ng(e),wl):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&z.Self?Il():this.parent).get(e,n=r&z.Optional&&n===_a?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[Gc]=o[Gc]||[]).unshift(Ee(e)),i)throw o;return function t2(t,e,n,r){const i=t[Gc];throw e[sT]&&i.unshift(e[sT]),t.message=function n2(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&t.charAt(1)==JV?t.slice(2):t;let i=Ee(e);if(Array.isArray(e))i=e.map(Ee).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Ee(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(XV,"\n  ")}`}("\n"+t.message,i,n,r),t[YV]=i,t[Gc]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{bn(s),ks(i)}}resolveInjectorInitializers(){const e=ks(this),n=bn(void 0);try{const r=this.get(Q0.multi,fe,z.Self);for(const i of r)i()}finally{ks(e),bn(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Ee(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new k(205,!1)}processProvider(e){let n=Li(e=H(e))?e:H(e&&e.provide);const r=function TU(t){return Zp(t)?Ys(void 0,t.useValue):Ys(iC(t),wl)}(e);if(Li(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Ys(void 0,wl,!0),i.factory=()=>Yf(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===wl&&(n.value=DU,n.value=n.factory()),"object"==typeof n.value&&n.value&&function SU(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=H(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function ng(t){const e=jc(t),n=null!==e?e.factory:Ni(t);if(null!==n)return n;if(t instanceof G)throw new k(204,!1);if(t instanceof Function)return function bU(t){const e=t.length;if(e>0)throw function Pa(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new k(204,!1);const n=function zV(t){const e=t&&(t[Hc]||t[rT]);return e?(function WV(t){if(t.hasOwnProperty("name"))return t.name;(""+t).match(/^function\s*([^\s(]+)/)}(t),e):null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new k(204,!1)}function iC(t,e,n){let r;if(Li(t)){const i=H(t);return Ni(i)||ng(i)}if(Zp(t))r=()=>H(t.useValue);else if(function nC(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Yf(t.deps||[]));else if(function tC(t){return!(!t||!t.useExisting)}(t))r=()=>ue(H(t.useExisting));else{const i=H(t&&(t.useClass||t.provide));if(!function CU(t){return!!t.deps}(t))return Ni(i)||ng(i);r=()=>new i(...Yf(t.deps))}return r}function Ys(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function rg(t,e){for(const n of t)Array.isArray(n)?rg(n,e):n&&zf(n)?rg(n.\u0275providers,e):e(n)}class xU{}class sC{}class NU{resolveComponentFactory(e){throw function MU(t){const e=Error(`No component factory found for ${Ee(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let El=(()=>{class t{}return t.NULL=new NU,t})();function kU(){return Xs(_t(),E())}function Xs(t,e){return new Vn(fn(t,e))}let Vn=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=kU,t})();class aC{}let Vi=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function PU(){const t=E(),n=pn(_t().index,t);return(hn(n)?n:t)[re]}(),t})(),OU=(()=>{class t{}return t.\u0275prov=Ie({token:t,providedIn:"root",factory:()=>null}),t})();class Ha{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const uC=new Ha("15.2.4"),ig={},sg="ngOriginalError";function og(t){return t[sg]}class Js{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&og(e);for(;n&&og(n);)n=og(n);return n||null}}function lC(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const dC="ng-template";function zU(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==lC(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function hC(t){return 4===t.type&&t.value!==dC}function WU(t,e,n){return e===(4!==t.type||n?t.value:dC)}function KU(t,e,n){let r=4;const i=t.attrs||[],s=function XU(t){for(let e=0;e<t.length;e++)if(VT(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!WU(t,u,n)||""===u&&1===e.length){if(Bn(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!zU(t.attrs,c,n)){if(Bn(r))return!1;o=!0}continue}const d=QU(8&r?"class":u,i,hC(t),n);if(-1===d){if(Bn(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==lC(f,c,0)||2&r&&c!==h){if(Bn(r))return!1;o=!0}}}}else{if(!o&&!Bn(r)&&!Bn(u))return!1;if(o&&Bn(u))continue;o=!1,r=u|1&r}}return Bn(r)||o}function Bn(t){return 0==(1&t)}function QU(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function JU(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function fC(t,e,n=!1){for(let r=0;r<e.length;r++)if(KU(t,e[r],n))return!0;return!1}function pC(t,e){return t?":not("+e.trim()+")":e}function e$(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Bn(o)&&(e+=pC(s,i),i=""),r=o,s=s||!Bn(r);n++}return""!==i&&(e+=pC(s,i)),e}const Z={};function Un(t){gC(ce(),E(),jt()+t,!1)}function gC(t,e,n,r){if(!r)if(3==(3&e[te])){const s=t.preOrderCheckHooks;null!==s&&nl(e,s,n)}else{const s=t.preOrderHooks;null!==s&&rl(e,s,0,n)}ki(n)}function vC(t,e=null,n=null,r){const i=wC(t,e,n,r);return i.resolveInjectorInitializers(),i}function wC(t,e=null,n=null,r,i=new Set){const s=[n||fe,wU(t)];return r=r||("object"==typeof t?void 0:Ee(t)),new rC(s,e||Il(),r||null,i)}let $n=(()=>{class t{static create(n,r){if(Array.isArray(n))return vC({name:""},r,n,"");{const i=n.name??"";return vC({name:i},n.parent,n.providers,i)}}}return t.THROW_IF_NOT_FOUND=_a,t.NULL=new J0,t.\u0275prov=Ie({token:t,providedIn:"any",factory:()=>ue(Y0)}),t.__NG_ELEMENT_ID__=-1,t})();function C(t,e=z.Default){const n=E();return null===n?ue(t,e):WT(_t(),n,H(t),e)}function SC(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];up(n[r]),o.contentQueries(2,e[s],s)}}}function bl(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[_r]=i,d[te]=76|r,(null!==l||t&&1024&t[te])&&(d[te]|=1024),bT(d),d[Fe]=d[Ps]=t,d[je]=n,d[Qc]=o||t&&t[Qc],d[re]=a||t&&t[re],d[Zf]=u||t&&t[Zf]||null,d[Kc]=c||t&&t[Kc]||null,d[At]=s,d[Ta]=function wB(){return vB++}(),d[pT]=l,d[xt]=2==e.type?t[xt]:d,d}function to(t,e,n,r,i){let s=t.data[e];if(null===s)s=function dg(t,e,n,r,i){const s=ST(),o=ip(),u=t.data[e]=function S$(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(t,e,n,r,i),function C2(){return J.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function xa(){const t=J.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Xn(s,!0),s}function Ga(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function hg(t,e,n){cp(e);try{const r=t.viewQuery;null!==r&&Eg(1,r,n);const i=t.template;null!==i&&AC(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&SC(t,e),t.staticViewQueries&&Eg(2,t.viewQuery,n);const s=t.components;null!==s&&function b$(t,e){for(let n=0;n<e.length;n++)z$(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[te]&=-5,lp()}}function Tl(t,e,n,r){const i=e[te];if(128!=(128&i)){cp(e);try{bT(e),function xT(t){return J.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&AC(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&nl(e,c,null)}else{const c=t.preOrderHooks;null!==c&&rl(e,c,0,null),dp(e,0)}if(function G$(t){for(let e=Rp(t);null!==e;e=Pp(e)){if(!e[gT])continue;const n=e[Fs];for(let r=0;r<n.length;r++){const i=n[r];512&i[te]||rp(i[Fe],1),i[te]|=512}}}(e),function H$(t){for(let e=Rp(t);null!==e;e=Pp(e))for(let n=Ut;n<e.length;n++){const r=e[n],i=r[O];el(r)&&Tl(i,r,i.template,r[je])}}(e),null!==t.contentQueries&&SC(t,e),o){const c=t.contentCheckHooks;null!==c&&nl(e,c)}else{const c=t.contentHooks;null!==c&&rl(e,c,1),dp(e,1)}!function E$(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)ki(~i);else{const s=i,o=n[++r],a=n[++r];S2(o,s),a(2,e[s])}}}finally{ki(-1)}}(t,e);const a=t.components;null!==a&&function D$(t,e){for(let n=0;n<e.length;n++)q$(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Eg(2,u,r),o){const c=t.viewCheckHooks;null!==c&&nl(e,c)}else{const c=t.viewHooks;null!==c&&rl(e,c,2),dp(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[te]&=-41,512&e[te]&&(e[te]&=-513,rp(e[Fe],-1))}finally{lp()}}}function AC(t,e,n,r,i){const s=jt(),o=2&r;try{ki(-1),o&&e.length>Ce&&gC(t,e,Ce,!1),Tn(o?2:0,i),n(r,i)}finally{ki(s),Tn(o?3:1,i)}}function fg(t,e,n){if(tp(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}function pg(t,e,n){CT()&&(function R$(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;Ca(n)&&function U$(t,e,n){const r=fn(e,t),i=xC(n),s=t[Qc],o=Cl(t,bl(t,i,null,n.onPush?32:16,r,e,s,s.createRenderer(r,n),null,null,null));t[e.index]=o}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||al(n,e),Nt(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=Pi(e,t,a,n);Nt(c,e),null!==o&&$$(0,a-i,c,u,0,o),Ln(u)&&(pn(n.index,e)[je]=Pi(e,t,a,n))}}(t,e,n,fn(n,e)),64==(64&n.flags)&&OC(t,e,n))}function gg(t,e,n=fn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function xC(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=mg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function mg(t,e,n,r,i,s,o,a,u,c){const l=Ce+r,d=l+i,h=function T$(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Z);return n}(l,d),f="function"==typeof c?c():c;return h[O]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function NC(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?kC(n,e,i,s):r.hasOwnProperty(i)&&kC(n,e,r[i],s)}return n}function kC(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function mn(t,e,n,r,i,s,o,a){const u=fn(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(Dg(t,n,l,r,i),Ca(e)&&RC(n,e.index)):3&e.type&&(r=function x$(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}function RC(t,e){const n=pn(e,t);16&n[te]||(n[te]|=32)}function yg(t,e,n,r){if(CT()){const i=null===r?null:{"":-1},s=function O$(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(fC(e,o.selectors,!1))if(r||(r=[]),Ln(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),_g(t,e,a.length)}else r.unshift(o),_g(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&PC(t,e,n,o,i,a),i&&function F$(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new k(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=Na(n.mergedAttrs,n.attrs)}function PC(t,e,n,r,i,s){for(let c=0;c<r.length;c++)yp(al(n,e),t,r[c].type);!function V$(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=Ga(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=Na(n.mergedAttrs,l.hostAttrs),B$(t,n,e,u,l),L$(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function A$(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=n?n.get(d):null,p=h?h.outputs:null;u=NC(d.inputs,l,u,h?h.inputs:null),c=NC(d.outputs,l,c,p);const m=null===u||null===o||hC(e)?null:j$(u,l,o);a.push(m)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,s)}function OC(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function A2(){return J.lFrame.currentDirectiveIndex}();try{ki(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];op(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&P$(u,c)}}finally{ki(-1),op(o)}}function P$(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function _g(t,e,n){e.componentOffset=n,(t.components||(t.components=[])).push(e.index)}function L$(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ln(e)&&(n[""]=t)}}function B$(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Ni(i.type)),o=new Ma(s,Ln(i),C);t.blueprint[r]=o,n[r]=o,function N$(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function k$(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,Ga(t,n,i.hostVars,Z),i)}function $$(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const c=o[u++],l=o[u++],d=o[u++];null!==a?r.setInput(n,d,c,l):n[l]=d}}}function j$(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function FC(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null]}function q$(t,e){const n=pn(e,t);if(el(n)){const r=n[O];48&n[te]?Tl(r,n,r.template,n[je]):n[Mi]>0&&wg(n)}}function wg(t){for(let r=Rp(t);null!==r;r=Pp(r))for(let i=Ut;i<r.length;i++){const s=r[i];if(el(s))if(512&s[te]){const o=s[O];Tl(o,s,o.template,s[je])}else s[Mi]>0&&wg(s)}const n=t[O].components;if(null!==n)for(let r=0;r<n.length;r++){const i=pn(n[r],t);el(i)&&i[Mi]>0&&wg(i)}}function z$(t,e){const n=pn(e,t),r=n[O];(function W$(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),hg(r,n,n[je])}function Cl(t,e){return t[Da]?t[fT][On]=e:t[Da]=e,t[fT]=e,e}function Ig(t){for(;t;){t[te]|=32;const e=Va(t);if(u2(t)&&!e)return t;t=e}return null}function Sl(t,e,n,r=!0){const i=e[Qc];i.begin&&i.begin();try{Tl(t,e,t.template,n)}catch(o){throw r&&UC(e,o),o}finally{i.end&&i.end()}}function Eg(t,e,n){up(0),e(t,n)}function LC(t){return t[Rs]||(t[Rs]=[])}function VC(t){return t.cleanup||(t.cleanup=[])}function UC(t,e){const n=t[Kc],r=n?n.get(Js,null):null;r&&r.handleError(e)}function Dg(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Al(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Gf(i,a):2==s&&(r=Gf(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function xl(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(yt(s)),Fn(s))for(let a=Ut;a<s.length;a++){const u=s[a],c=u[O].firstChild;null!==c&&xl(u[O],u,c,r)}const o=n.type;if(8&o)xl(t,e,n.child,r);else if(32&o){const a=kp(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=R0(e,n);if(Array.isArray(a))r.push(...a);else{const u=Va(e[xt]);xl(u[O],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class qa{get rootNodes(){const e=this._lView,n=e[O];return xl(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[je]}set context(e){this._lView[je]=e}get destroyed(){return 128==(128&this._lView[te])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Fe];if(Fn(e)){const n=e[Xc],r=n?n.indexOf(this):-1;r>-1&&(Lp(e,r),cl(n,r))}this._attachedToViewContainer=!1}b0(this._lView[O],this._lView)}onDestroy(e){!function MC(t,e,n,r){const i=LC(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&VC(t).push(r,i.length-1))}(this._lView[O],this._lView,null,e)}markForCheck(){Ig(this._cdRefInjectingView||this._lView)}detach(){this._lView[te]&=-65}reattach(){this._lView[te]|=64}detectChanges(){Sl(this._lView[O],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new k(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function OB(t,e){Ba(t,e,e[re],2,null,null)}(this._lView[O],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new k(902,!1);this._appRef=e}}class K$ extends qa{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Sl(e[O],e,e[je],!1)}checkNoChanges(){}get context(){return null}}class $C extends El{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=me(e);return new za(n,this.ngModule)}}function jC(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class Y${constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=qc(r);const i=this.injector.get(e,ig,r);return i!==ig||n===ig?i:this.parentInjector.get(e,n,r)}}class za extends sC{get inputs(){return jC(this.componentDef.inputs)}get outputs(){return jC(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function t$(t){return t.map(e$).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof Qs?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new Y$(e,s):e,a=o.get(aC,null);if(null===a)throw new k(407,!1);const u=o.get(OU,null),c=a.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",d=r?function C$(t,e,n){return t.selectRootElement(e,n===Qn.ShadowDom)}(c,r,this.componentDef.encapsulation):Fp(c,l,function Q$(t){const e=t.toLowerCase();return"svg"===e?IT:"math"===e?"math":null}(l)),h=this.componentDef.onPush?288:272,f=mg(0,null,null,1,0,null,null,null,null,null),p=bl(null,f,null,h,null,null,a,c,u,o,null);let m,y;cp(p);try{const I=this.componentDef;let T,_=null;I.findHostDirectiveDefs?(T=[],_=new Map,I.findHostDirectiveDefs(I,T,_),T.push(I)):T=[I];const P=function J$(t,e){const n=t[O],r=Ce;return t[r]=e,to(n,r,2,"#host",null)}(p,d),B=function Z$(t,e,n,r,i,s,o,a){const u=i[O];!function ej(t,e,n,r){for(const i of t)e.mergedAttrs=Na(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Al(e,e.mergedAttrs,!0),null!==n&&F0(r,n,e))}(r,t,e,o);const c=s.createRenderer(e,n),l=bl(i,xC(n),null,n.onPush?32:16,i[t.index],t,s,c,a||null,null,null);return u.firstCreatePass&&_g(u,t,r.length-1),Cl(i,l),i[t.index]=l}(P,d,I,T,p,a,c);y=DT(f,Ce),d&&function nj(t,e,n,r){if(r)fp(t,n,["ng-version",uC.full]);else{const{attrs:i,classes:s}=function n$(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Bn(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&fp(t,n,i),s&&s.length>0&&O0(t,n,s.join(" "))}}(c,I,d,r),void 0!==n&&function rj(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(y,this.ngContentSelectors,n),m=function tj(t,e,n,r,i,s){const o=_t(),a=i[O],u=fn(o,i);PC(a,i,o,n,null,r);for(let l=0;l<n.length;l++)Nt(Pi(i,a,o.directiveStart+l,o),i);OC(a,i,o),u&&Nt(u,i);const c=Pi(i,a,o.directiveStart+o.componentOffset,o);if(t[je]=i[je]=c,null!==s)for(const l of s)l(c,e);return fg(a,o,t),c}(B,I,T,_,p,[ij]),hg(f,p,null)}finally{lp()}return new X$(this.componentType,m,Xs(y,p),p,y)}}class X$ extends xU{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new K$(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;Dg(s[O],s,i,e,n),RC(s,this._tNode.index)}}get injector(){return new Us(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function ij(){const t=_t();tl(E()[O],t)}function ye(t){let e=function HC(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Ln(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new k(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=bg(t.inputs),o.declaredInputs=bg(t.declaredInputs),o.outputs=bg(t.outputs);const a=i.hostBindings;a&&uj(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&oj(t,u),c&&aj(t,c),Hf(t.inputs,i.inputs),Hf(t.declaredInputs,i.declaredInputs),Hf(t.outputs,i.outputs),Ln(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===ye&&(n=!1)}}e=Object.getPrototypeOf(e)}!function sj(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Na(i.hostAttrs,n=Na(n,i.hostAttrs))}}(r)}function bg(t){return t===mr?{}:t===fe?[]:t}function oj(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function aj(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function uj(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function Ml(t){return!!function Tg(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function kt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function ro(t,e,n,r){return kt(t,Vs(),n)?e+Y(n)+r:Z}function ho(t,e,n,r,i,s,o,a){const u=E(),c=ce(),l=t+Ce,d=c.firstCreatePass?function _j(t,e,n,r,i,s,o,a,u){const c=e.consts,l=to(e,t,4,o||null,Xr(c,a));yg(e,n,l,Xr(c,u)),tl(e,l);const d=l.tView=mg(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];Xn(d,!1);const h=u[re].createComment("");gl(c,u,h,d),Nt(h,u),Cl(u,u[l]=FC(h,u,h,d)),Jc(d)&&pg(c,u,d),null!=o&&gg(u,d,a)}function ei(t,e,n){const r=E();return kt(r,Vs(),e)&&mn(ce(),Re(),r,t,e,r[re],n,!1),ei}function Cg(t,e,n,r,i){const o=i?"class":"style";Dg(t,n,e.inputs[o],o,r)}function M(t,e,n,r){const i=E(),s=ce(),o=Ce+t,a=i[re],u=s.firstCreatePass?function Ij(t,e,n,r,i,s){const o=e.consts,u=to(e,t,2,r,Xr(o,i));return yg(e,n,u,Xr(o,s)),null!==u.attrs&&Al(u,u.attrs,!1),null!==u.mergedAttrs&&Al(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,n,r):s.data[o],c=i[o]=Fp(a,e,function P2(){return J.lFrame.currentNamespace}()),l=Jc(u);return Xn(u,!0),F0(a,c,u),32!=(32&u.flags)&&gl(s,i,c,u),0===function w2(){return J.lFrame.elementDepthCount}()&&Nt(c,i),function I2(){J.lFrame.elementDepthCount++}(),l&&(pg(s,i,u),fg(s,u,i)),null!==r&&gg(i,u),M}function N(){let t=_t();ip()?sp():(t=t.parent,Xn(t,!1));const e=t;!function E2(){J.lFrame.elementDepthCount--}();const n=ce();return n.firstCreatePass&&(tl(n,t),tp(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function V2(t){return 0!=(8&t.flags)}(e)&&Cg(n,e,E(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function B2(t){return 0!=(16&t.flags)}(e)&&Cg(n,e,E(),e.stylesWithoutHost,!1),N}function oe(t,e,n,r){return M(t,e,n,r),N(),oe}function fo(t,e,n){const r=E(),i=ce(),s=t+Ce,o=i.firstCreatePass?function Ej(t,e,n,r,i){const s=e.consts,o=Xr(s,r),a=to(e,t,8,"ng-container",o);return null!==o&&Al(a,o,!0),yg(e,n,a,Xr(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];Xn(o,!0);const a=r[s]=r[re].createComment("");return gl(i,r,a,o),Nt(a,r),Jc(o)&&(pg(i,r,o),fg(i,o,r)),null!=n&&gg(r,o),fo}function po(){let t=_t();const e=ce();return ip()?sp():(t=t.parent,Xn(t,!1)),e.firstCreatePass&&(tl(e,t),tp(t)&&e.queries.elementEnd(t)),po}function kl(){return E()}function Rl(t){return!!t&&"function"==typeof t.then}const iS=function rS(t){return!!t&&"function"==typeof t.subscribe};function vt(t,e,n,r){const i=E(),s=ce(),o=_t();return function oS(t,e,n,r,i,s,o){const a=Jc(r),c=t.firstCreatePass&&VC(t),l=e[je],d=LC(e);let h=!0;if(3&r.type||o){const m=fn(r,e),y=o?o(m):m,I=d.length,T=o?P=>o(yt(P[r.index])):r.index;let _=null;if(!o&&a&&(_=function Dj(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[Rs],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==_)(_.__ngLastListenerFn__||_).__ngNextListenerFn__=s,_.__ngLastListenerFn__=s,h=!1;else{s=uS(r,e,l,s,!1);const P=n.listen(y,i,s);d.push(s,P),c&&c.push(i,T,I,I+1)}}else s=uS(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const m=p.length;if(m)for(let y=0;y<m;y+=2){const B=e[p[y]][p[y+1]].subscribe(s),$=d.length;d.push(s,B),c&&c.push(i,r.index,$,-($+1))}}}(s,i,i[re],o,t,e,r),vt}function aS(t,e,n,r){try{return Tn(6,e,n),!1!==n(r)}catch(i){return UC(t,i),!1}finally{Tn(7,e,n)}}function uS(t,e,n,r,i){return function s(o){if(o===Function)return r;Ig(t.componentOffset>-1?pn(t.index,e):e);let u=aS(e,n,r,o),c=s.__ngNextListenerFn__;for(;c;)u=aS(e,n,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function ti(t=1){return function M2(t){return(J.lFrame.contextLView=function N2(t,e){for(;t>0;)e=e[Ps],t--;return e}(t,J.lFrame.contextLView))[je]}(t)}function Pl(t,e,n){return Sg(t,"",e,"",n),Pl}function Sg(t,e,n,r,i){const s=E(),o=ro(s,e,n,r);return o!==Z&&mn(ce(),Re(),s,t,o,s[re],i,!1),Sg}function Ol(t,e){return t<<17|e<<2}function ni(t){return t>>17&32767}function Ag(t){return 2|t}function Ui(t){return(131068&t)>>2}function xg(t,e){return-131069&t|e<<2}function Mg(t){return 1|t}function yS(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?ni(s):Ui(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];kj(t[a],e)&&(u=!0,t[a+1]=r?Mg(l):Ag(l)),a=r?ni(l):Ui(l)}u&&(t[n+1]=r?Ag(s):Mg(s))}function kj(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&qs(t,e)>=0}const rt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function _S(t){return t.substring(rt.key,rt.keyEnd)}function vS(t,e){const n=rt.textEnd;return n===e?-1:(e=rt.keyEnd=function Fj(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,rt.key=e,n),go(t,e,n))}function go(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Fl(t,e){return function jn(t,e,n,r){const i=E(),s=ce(),o=Ir(2);s.firstUpdatePass&&CS(s,t,o,r),e!==Z&&kt(i,o,e)&&AS(s,s.data[jt()],i,i[re],t,i[o+1]=function Wj(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Ee(Zr(t)))),t}(e,n),r,o)}(t,e,null,!0),Fl}function nr(t,e){for(let n=function Pj(t){return function IS(t){rt.key=0,rt.keyEnd=0,rt.value=0,rt.valueEnd=0,rt.textEnd=t.length}(t),vS(t,go(t,0,rt.textEnd))}(e);n>=0;n=vS(e,n))gn(t,_S(e),!0)}function TS(t,e){return e>=t.expandoStartIndex}function CS(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[jt()],o=TS(t,n);MS(s,r)&&null===e&&!o&&(e=!1),e=function $j(t,e,n,r){const i=function ap(t){const e=J.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Ka(n=Ng(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=Ng(i,t,e,n,r),null===s){let u=function jj(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Ui(r))return t[ni(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=Ng(null,t,e,u[1],r),u=Ka(u,e.attrs,r),function Hj(t,e,n,r){t[ni(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function Gj(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Ka(r,t[s].hostAttrs,n);return Ka(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function Mj(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=ni(o),u=Ui(o);t[r]=n;let l,c=!1;if(Array.isArray(n)?(l=n[1],(null===l||qs(n,l)>0)&&(c=!0)):l=n,i)if(0!==u){const h=ni(t[a+1]);t[r+1]=Ol(h,a),0!==h&&(t[h+1]=xg(t[h+1],r)),t[a+1]=function Aj(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Ol(a,0),0!==a&&(t[a+1]=xg(t[a+1],r)),a=r;else t[r+1]=Ol(u,0),0===a?a=r:t[u+1]=xg(t[u+1],r),u=r;c&&(t[r+1]=Ag(t[r+1])),yS(t,l,r,!0),yS(t,l,r,!1),function Nj(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&qs(s,e)>=0&&(n[r+1]=Mg(n[r+1]))}(e,l,t,r,s),o=Ol(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function Ng(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Ka(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Ka(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),gn(t,o,!!n||e[++s]))}return void 0===t?null:t}function AS(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1],l=function xj(t){return 1==(1&t)}(c)?xS(u,e,n,i,Ui(c),o):void 0;Ll(l)||(Ll(s)||function Sj(t){return 2==(2&t)}(c)&&(s=xS(u,null,n,i,a,o)),function qB(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:en.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=en.Important),t.setStyle(n,r,i,s))}}(r,o,Zc(jt(),n),i,s))}function xS(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===Z&&(h=d?fe:void 0);let f=d?Ep(h,r):l===r?h:void 0;if(c&&!Ll(f)&&(f=Ep(u,r)),Ll(f)&&(a=f,o))return a;const p=t[i+1];i=o?ni(p):Ui(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=Ep(u,r))}return a}function Ll(t){return void 0!==t}function MS(t,e){return 0!=(t.flags&(e?8:16))}function W(t,e=""){const n=E(),r=ce(),i=t+Ce,s=r.firstCreatePass?to(r,i,1,e,null):r.data[i],o=n[i]=function Op(t,e){return t.createText(e)}(n[re],e);gl(r,n,o,s),Xn(s,!1)}function kg(t){return Qa("",t,""),kg}function Qa(t,e,n){const r=E(),i=ro(r,t,e,n);return i!==Z&&function br(t,e,n){const r=Zc(e,t);!function E0(t,e,n){t.setValue(e,n)}(t[re],r,n)}(r,jt(),i),Qa}function BS(t,e,n){!function Hn(t,e,n,r){const i=ce(),s=Ir(2);i.firstUpdatePass&&CS(i,null,s,r);const o=E();if(n!==Z&&kt(o,s,n)){const a=i.data[jt()];if(MS(a,r)&&!TS(i,s)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;null!==u&&(n=Gf(u,n||"")),Cg(i,a,o,n,r)}else!function zj(t,e,n,r,i,s,o,a){i===Z&&(i=fe);let u=0,c=0,l=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;null!==l||null!==d;){const h=u<i.length?i[u+1]:void 0,f=c<s.length?s[c+1]:void 0;let m,p=null;l===d?(u+=2,c+=2,h!==f&&(p=d,m=f)):null===d||null!==l&&l<d?(u+=2,p=l):(c+=2,p=d,m=f),null!==p&&AS(t,e,n,r,p,m,o,a),l=u<i.length?i[u]:null,d=c<s.length?s[c]:null}}(i,a,o,o[re],o[s+1],o[s+1]=function qj(t,e,n){if(null==n||""===n)return fe;const r=[],i=Zr(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,s)}}(gn,nr,ro(E(),t,e,n),!0)}const yo="en-US";let ZS=yo;function Og(t,e,n,r,i){if(t=H(t),Array.isArray(t))for(let s=0;s<t.length;s++)Og(t[s],e,n,r,i);else{const s=ce(),o=E();let a=Li(t)?t:H(t.provide),u=iC(t);const c=_t(),l=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(Li(t)||!t.multi){const f=new Ma(u,i,C),p=Lg(a,e,i?l:l+h,d);-1===p?(yp(al(c,o),s,a),Fg(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=Lg(a,e,l+h,d),p=Lg(a,e,l,l+h),y=p>=0&&n[p];if(i&&!y||!i&&!(f>=0&&n[f])){yp(al(c,o),s,a);const I=function lG(t,e,n,r,i){const s=new Ma(t,n,C);return s.multi=[],s.index=e,s.componentProviders=0,bA(s,i,r&&!n),s}(i?cG:uG,n.length,i,r,u);!i&&y&&(n[p].providerFactory=I),Fg(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(I),o.push(I)}else Fg(s,t,f>-1?f:p,bA(n[i?p:f],u,!i&&r));!i&&r&&y&&n[p].componentProviders++}}}function Fg(t,e,n,r){const i=Li(e),s=function EU(t){return!!t.useClass}(e);if(i||s){const u=(s?H(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function bA(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Lg(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function uG(t,e,n,r){return Vg(this.multi,[])}function cG(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Pi(n,n[O],this.providerFactory.index,r);s=a.slice(0,o),Vg(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Vg(i,s);return s}function Vg(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function xe(t,e=[]){return n=>{n.providersResolver=(r,i)=>function aG(t,e,n){const r=ce();if(r.firstCreatePass){const i=Ln(t);Og(n,r.data,r.blueprint,i,!0),Og(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class _o{}class dG{}class TA extends _o{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new $C(this);const r=function dn(t,e){const n=t[uT]||null;if(!n&&!0===e)throw new Error(`Type ${Ee(t)} does not have '\u0275mod' property.`);return n}(e);this._bootstrapComponents=function Dr(t){return t instanceof Function?t():t}(r.bootstrap),this._r3Injector=wC(e,n,[{provide:_o,useValue:this},{provide:El,useValue:this.componentFactoryResolver}],Ee(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Bg extends dG{constructor(e){super(),this.moduleType=e}create(e){return new TA(this.moduleType,e)}}function RA(t,e,n){const r=function $t(){const t=J.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}()+t,i=E();return i[r]===Z?function er(t,e,n){return t[e]=n}(i,r,n?e.call(n):e()):function Wa(t,e){return t[e]}(i,r)}function $g(t){return e=>{setTimeout(t,void 0,e)}}const Rt=class UG extends Lf{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=$g(s),i&&(i=$g(i)),o&&(o=$g(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Rn&&e.add(a),a}};let Cr=(()=>{class t{}return t.__NG_ELEMENT_ID__=GG,t})();const jG=Cr,HG=class extends jG{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e,n){const r=this._declarationTContainer.tView,i=bl(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,n||null);i[ba]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[Yn];return null!==o&&(i[Yn]=o.createEmbeddedView(r)),hg(r,i,e),new qa(i)}};function GG(){return function jl(t,e){return 4&t.type?new HG(e,t,Xs(t,e)):null}(_t(),E())}let rr=(()=>{class t{}return t.__NG_ELEMENT_ID__=qG,t})();function qG(){return function $A(t,e){let n;const r=e[t.index];if(Fn(r))n=r;else{let i;if(8&t.type)i=yt(r);else{const s=e[re];i=s.createComment("");const o=fn(t,e);Fi(s,pl(s,o),i,function jB(t,e){return t.nextSibling(e)}(s,o),!1)}e[t.index]=n=FC(r,e,i,t),Cl(e,n)}return new BA(n,t,e)}(_t(),E())}const zG=rr,BA=class extends zG{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Xs(this._hostTNode,this._hostLView)}get injector(){return new Us(this._hostTNode,this._hostLView)}get parentInjector(){const e=mp(this._hostTNode,this._hostLView);if($T(e)){const n=sl(e,this._hostLView),r=il(e);return new Us(n[O].data[r+8],n)}return new Us(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=UA(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Ut}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(n||{},s);return this.insert(o,i),o}createComponent(e,n,r,i,s){const o=e&&!function Ra(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const d=n||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const u=o?e:new za(me(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const h=(o?c:this.parentInjector).get(Qs,null);h&&(s=h)}const l=u.create(c,i,void 0,s);return this.insert(l.hostView,a),l}insert(e,n){const r=e._lView,i=r[O];if(function v2(t){return Fn(t[Fe])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[Fe],h=new BA(d,d[At],d[Fe]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function LB(t,e,n,r){const i=Ut+r,s=n.length;r>0&&(n[i-1][On]=e),r<s-Ut?(e[On]=n[i],ZT(n,Ut+r,e)):(n.push(e),e[On]=null),e[Fe]=n;const o=e[ba];null!==o&&n!==o&&function VB(t,e){const n=t[Fs];e[xt]!==e[Fe][Fe][xt]&&(t[gT]=!0),null===n?t[Fs]=[e]:n.push(e)}(o,e);const a=e[Yn];null!==a&&a.insertView(t),e[te]|=64}(i,r,o,s);const a=Up(s,o),u=r[re],c=pl(u,o[Yc]);return null!==c&&function PB(t,e,n,r,i,s){r[_r]=i,r[At]=e,Ba(t,r,n,1,i,s)}(i,o[At],u,r,c,a),e.attachToViewContainerRef(),ZT(Hg(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=UA(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Lp(this._lContainer,n);r&&(cl(Hg(this._lContainer),n),b0(r[O],r))}detach(e){const n=this._adjustIndex(e,-1),r=Lp(this._lContainer,n);return r&&null!=cl(Hg(this._lContainer),n)?new qa(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function UA(t){return t[Xc]}function Hg(t){return t[Xc]||(t[Xc]=[])}function Gl(...t){}const dx=new G("Application Initializer");let ql=(()=>{class t{constructor(n){this.appInits=n,this.resolve=Gl,this.reject=Gl,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Rl(s))n.push(s);else if(iS(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(ue(dx,8))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const iu=new G("AppId",{providedIn:"root",factory:function hx(){return`${Zg()}${Zg()}${Zg()}`}});function Zg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const fx=new G("Platform Initializer"),zl=new G("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Sr=new G("LocaleId",{providedIn:"root",factory:()=>function aT(t,e=z.Default){return ue(t,qc(e))}(Sr,z.Optional|z.SkipSelf)||function D3(){return typeof $localize<"u"&&$localize.locale||yo}()}),A3=(()=>Promise.resolve(0))();function em(t){typeof Zone>"u"?A3.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Ye{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Rt(!1),this.onMicrotaskEmpty=new Rt(!1),this.onStable=new Rt(!1),this.onError=new Rt(!1),typeof Zone>"u")throw new k(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function x3(){let t=Te.requestAnimationFrame,e=Te.cancelAnimationFrame;if(typeof Zone<"u"&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function k3(t){const e=()=>{!function N3(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Te,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,nm(t),t.isCheckStableRunning=!0,tm(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),nm(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return mx(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),yx(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return mx(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),yx(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,nm(t),tm(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ye.isInAngularZone())throw new k(909,!1)}static assertNotInAngularZone(){if(Ye.isInAngularZone())throw new k(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,M3,Gl,Gl);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const M3={};function tm(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function nm(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function mx(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function yx(t){t._nesting--,tm(t)}class R3{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Rt,this.onMicrotaskEmpty=new Rt,this.onStable=new Rt,this.onError=new Rt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const _x=new G(""),Wl=new G("");let sm,rm=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,sm||(function P3(t){sm=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ye.assertNotInAngularZone(),em(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())em(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(ue(Ye),ue(im),ue(Wl))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac}),t})(),im=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return sm?.findTestabilityInTree(this,n,r)??null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const Ar=!1;let ri=null;const vx=new G("AllowMultipleToken"),om=new G("PlatformDestroyListeners"),O3=new G("appBootstrapListener");function Ix(t,e,n=[]){const r=`Platform: ${e}`,i=new G(r);return(s=[])=>{let o=am();if(!o||o.injector.get(vx,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function V3(t){if(ri&&!ri.get(vx,!1))throw new k(400,!1);ri=t;const e=t.get(Dx);(function wx(t){const e=t.get(fx,null);e&&e.forEach(n=>n())})(t)}(function Ex(t=[],e){return $n.create({name:e,providers:[{provide:eg,useValue:"platform"},{provide:om,useValue:new Set([()=>ri=null])},...t]})}(a,r))}return function U3(t){const e=am();if(!e)throw new k(401,!1);return e}()}}function am(){return ri?.get(Dx)??null}let Dx=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function Tx(t,e){let n;return n="noop"===t?new R3:("zone.js"===t?void 0:t)||new Ye(e),n}(r?.ngZone,function bx(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:Ye,useValue:i}];return i.run(()=>{const o=$n.create({providers:s,parent:this.injector,name:n.moduleType.name}),a=n.create(o),u=a.injector.get(Js,null);if(!u)throw new k(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:l=>{u.handleError(l)}});a.onDestroy(()=>{Kl(this._modules,a),c.unsubscribe()})}),function Cx(t,e,n){try{const r=n();return Rl(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(u,i,()=>{const c=a.injector.get(ql);return c.runInitializers(),c.donePromise.then(()=>(function eA(t){En(t,"Expected localeId to be defined"),"string"==typeof t&&(ZS=t.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Sr,yo)||yo),this._moduleDoBootstrap(a),a))})})}bootstrapModule(n,r=[]){const i=Sx({},r);return function F3(t,e,n){const r=new Bg(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(um);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new k(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new k(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(om,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(ue($n))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function Sx(t,e){return Array.isArray(e)?e.reduce(Sx,t):{...t,...e}}let um=(()=>{class t{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(n,r,i){this._zone=n,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new mt(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new mt(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{Ye.assertNotInAngularZone(),em(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{Ye.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),c.unsubscribe()}});this.isStable=VV(s,o.pipe(function BV(t={}){const{connector:e=(()=>new Lf),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const m=o;f(),m?.unsubscribe()};return Ms((m,y)=>{c++,!d&&!l&&h();const I=u=u??e();y.add(()=>{c--,0===c&&!d&&!l&&(a=jf(p,i))}),I.subscribe(y),!o&&c>0&&(o=new ya({next:T=>I.next(T),error:T=>{d=!0,h(),a=jf(f,n,T),I.error(T)},complete:()=>{l=!0,h(),a=jf(f,r),I.complete()}}),pr(m).subscribe(o))})(s)}}()))}bootstrap(n,r){const i=n instanceof sC;if(!this._injector.get(ql).done){!i&&function Ea(t){const e=me(t)||St(t)||Zt(t);return null!==e&&e.standalone}(n);throw new k(405,Ar)}let o;o=i?n:this._injector.get(El).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function L3(t){return t.isBoundToModule}(o)?void 0:this._injector.get(_o),c=o.create($n.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(_x,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),Kl(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new k(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Kl(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(O3,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Kl(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new k(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)(ue(Ye),ue(Qs),ue(Js))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Kl(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let Mx=(()=>{class t{}return t.__NG_ELEMENT_ID__=j3,t})();function j3(t){return function H3(t,e,n){if(Ca(t)&&!n){const r=pn(t.index,e);return new qa(r,r)}return 47&t.type?new qa(e[xt],e):null}(_t(),E(),16==(16&t))}class Rx{constructor(){}supports(e){return Ml(e)}create(e){return new Q3(e)}}const K3=(t,e)=>e;class Q3{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||K3}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<Ox(r,i,s)?n:r,a=Ox(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Ml(e))throw new k(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function gj(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new Y3(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new Px),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Px),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Y3{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class X3{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class Px{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new X3,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ox(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function Lx(){return new Xl([new Rx])}let Xl=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||Lx()),deps:[[t,new dl,new Ht]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new k(901,!1)}}return t.\u0275prov=Ie({token:t,providedIn:"root",factory:Lx}),t})();const nq=Ix(null,"core",[]);let rq=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(ue(um))},t.\u0275mod=Pn({type:t}),t.\u0275inj=Dn({}),t})();let pm=null;function Io(){return pm}class oq{}const xr=new G("DocumentToken");class Kq{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Xx=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Kq(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),Jx(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{Jx(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(C(rr),C(Cr),C(Xl))},t.\u0275dir=X({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function Jx(t,e){t.context.$implicit=e.item}let Zx=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new Yq,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){eM("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){eM("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(C(rr),C(Cr))},t.\u0275dir=X({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class Yq{constructor(){this.$implicit=null,this.ngIf=null}}function eM(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Ee(e)}'.`)}let Iz=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Pn({type:t}),t.\u0275inj=Dn({}),t})();class Zz extends oq{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Nm extends Zz{static makeCurrent(){!function sq(t){pm||(pm=t)}(new Nm)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function eW(){return cu=cu||document.querySelector("base"),cu?cu.getAttribute("href"):null}();return null==n?null:function tW(t){cd=cd||document.createElement("a"),cd.setAttribute("href",t);const e=cd.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){cu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function qq(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let cd,cu=null;const cM=new G("TRANSITION_ID"),rW=[{provide:dx,useFactory:function nW(t,e,n){return()=>{n.get(ql).donePromise.then(()=>{const r=Io(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[cM,xr,$n],multi:!0}];let sW=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac}),t})();const ld=new G("EventManagerPlugins");let dd=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(ue(ld),ue(Ye))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac}),t})();class lM{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=Io().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let dM=(()=>{class t{constructor(){this.usageCount=new Map}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(n){}onStyleAdded(n){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(n,r){const i=this.usageCount;let s=i.get(n)??0;return s+=r,s>0?i.set(n,s):i.delete(n),s}ngOnDestroy(){for(const n of this.getAllStyles())this.onStyleRemoved(n);this.usageCount.clear()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac}),t})(),lu=(()=>{class t extends dM{constructor(n){super(),this.doc=n,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.forEach(s=>s.remove()),r.delete(n)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}addStyleToHost(n,r){const i=this.doc.createElement("style");i.textContent=r,n.appendChild(i);const s=this.styleRef.get(r);s?s.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return t.\u0275fac=function(n){return new(n||t)(ue(xr))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac}),t})();const km={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Rm=/%COMP%/g,pM=new G("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function gM(t,e){return e.flat(100).map(n=>n.replace(Rm,t))}function mM(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Pm=(()=>{class t{constructor(n,r,i,s){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new Om(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(n,r);return i instanceof vM?i.applyToHost(n):i instanceof Fm&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.eventManager,a=this.sharedStylesHost,u=this.removeStylesOnCompDestory;switch(r.encapsulation){case Qn.Emulated:s=new vM(o,a,r,this.appId,u);break;case Qn.ShadowDom:return new hW(o,a,n,r);default:s=new Fm(o,a,r,u)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(ue(dd),ue(lu),ue(iu),ue(pM))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac}),t})();class Om{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(km[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){(_M(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(_M(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=km[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=km[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(en.DashCase|en.Important)?e.style.setProperty(n,r,i&en.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&en.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,mM(r)):this.eventManager.addEventListener(e,n,mM(r))}}function _M(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class hW extends Om{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=gM(i.id,i.styles);for(const o of s){const a=document.createElement("style");a.textContent=o,this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Fm extends Om{constructor(e,n,r,i,s=r.id){super(e),this.sharedStylesHost=n,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=gM(s,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class vM extends Fm{constructor(e,n,r,i,s){const o=i+"-"+r.id;super(e,n,r,s,o),this.contentAttr=function cW(t){return"_ngcontent-%COMP%".replace(Rm,t)}(o),this.hostAttr=function lW(t){return"_nghost-%COMP%".replace(Rm,t)}(o)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let fW=(()=>{class t extends lM{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(ue(xr))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac}),t})();const wM=["alt","control","meta","shift"],pW={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},gW={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let mW=(()=>{class t extends lM{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Io().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),wM.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=pW[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),wM.forEach(o=>{o!==i&&(0,gW[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(ue(xr))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac}),t})();const EM=[{provide:zl,useValue:"browser"},{provide:fx,useValue:function yW(){Nm.makeCurrent()},multi:!0},{provide:xr,useFactory:function vW(){return function YB(t){Gp=t}(document),document},deps:[]}],wW=Ix(nq,"browser",EM),DM=new G(""),bM=[{provide:Wl,useClass:class iW{addToWindow(e){Te.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Te.getAllAngularTestabilities=()=>e.getAllTestabilities(),Te.getAllAngularRootElements=()=>e.getAllRootElements(),Te.frameworkStabilizers||(Te.frameworkStabilizers=[]),Te.frameworkStabilizers.push(r=>{const i=Te.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Io().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:_x,useClass:rm,deps:[Ye,im,Wl]},{provide:rm,useClass:rm,deps:[Ye,im,Wl]}],TM=[{provide:eg,useValue:"root"},{provide:Js,useFactory:function _W(){return new Js},deps:[]},{provide:ld,useClass:fW,multi:!0,deps:[xr,Ye,zl]},{provide:ld,useClass:mW,multi:!0,deps:[xr]},{provide:Pm,useClass:Pm,deps:[dd,lu,iu,pM]},{provide:aC,useExisting:Pm},{provide:dM,useExisting:lu},{provide:lu,useClass:lu,deps:[xr]},{provide:dd,useClass:dd,deps:[ld,Ye]},{provide:class Cz{},useClass:sW,deps:[]},[]];let IW=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:iu,useValue:n.appId},{provide:cM,useExisting:iu},rW]}}}return t.\u0275fac=function(n){return new(n||t)(ue(DM,12))},t.\u0275mod=Pn({type:t}),t.\u0275inj=Dn({providers:[...TM,...bM],imports:[Iz,rq]}),t})();function AM(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function g(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){AM(s,r,i,o,a,"next",u)}function a(u){AM(s,r,i,o,a,"throw",u)}o(void 0)})}}typeof window<"u"&&window;const xM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Um={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(xM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new kW;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class kW extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hd=function(t){return function(t){const e=xM(t);return Um.encodeByteArray(e,!0)}(t).replace(/\./g,"")},fd=function(t){try{return Um.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},pd=()=>{try{return function OW(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&fd(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},NM=t=>{var e,n;return null===(n=null===(e=pd())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},BW=t=>{const e=NM(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]},UW=()=>{var t;return null===(t=pd())||void 0===t?void 0:t.config},kM=t=>{var e;return null===(e=pd())||void 0===e?void 0:e[`_${t}`]};class gd{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function ct(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function $m(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Hi(){try{return"object"==typeof indexedDB}catch{return!1}}function du(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function jm(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Mn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Mn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ir.prototype.create)}}class ir{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function WW(t,e){return t.replace(KW,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Mn(i,`${this.serviceName}: ${o} (${i}).`,r)}}const KW=/\{\$([^}]+)}/g;function yd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(PM(s)&&PM(o)){if(!yd(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function PM(t){return null!==t&&"object"==typeof t}function hu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class XW{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function JW(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=Hm),void 0===i.error&&(i.error=Hm),void 0===i.complete&&(i.complete=Hm);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Hm(){}const ZW=1e3,e4=2,t4=144e5,n4=.5;function qm(t,e=ZW,n=e4){const r=e*Math.pow(n,t),i=Math.round(n4*r*(Math.random()-.5)*2);return Math.min(t4,r+i)}function Pt(t){return t&&t._delegate?t._delegate:t}class Ot{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Gi="[DEFAULT]";class i4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new gd;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function o4(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Gi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Gi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return g(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Gi){return this.instances.has(e)}getOptions(e=Gi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Gi?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Gi){return this.component?this.component.multipleInstances?e:Gi:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class a4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new i4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const zm=[];var le=(()=>{return(t=le||(le={}))[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",le;var t})();const OM={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},u4=le.INFO,c4={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},l4=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=c4[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Eo{constructor(e){this.name=e,this._logLevel=u4,this._logHandler=l4,this._userLogHandler=null,zm.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?OM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}}const d4=(t,e)=>e.some(n=>t instanceof n);let FM,LM;const VM=new WeakMap,Wm=new WeakMap,BM=new WeakMap,Km=new WeakMap,Qm=new WeakMap;let Ym={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Wm.get(t);if("objectStoreNames"===e)return t.objectStoreNames||BM.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Nr(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function _4(t){return"function"==typeof t?function y4(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function f4(){return LM||(LM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Xm(this),e),Nr(VM.get(this))}:function(...e){return Nr(t.apply(Xm(this),e))}:function(e,...n){const r=t.call(Xm(this),e,...n);return BM.set(r,e.sort?e.sort():[e]),Nr(r)}}(t):(t instanceof IDBTransaction&&function g4(t){if(Wm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Wm.set(t,e)}(t),d4(t,function h4(){return FM||(FM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Ym):t)}function Nr(t){if(t instanceof IDBRequest)return function p4(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Nr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&VM.set(n,t)}).catch(()=>{}),Qm.set(e,t),e}(t);if(Km.has(t))return Km.get(t);const e=_4(t);return e!==t&&(Km.set(t,e),Qm.set(e,t)),e}const Xm=t=>Qm.get(t);function _d(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Nr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Nr(o.result),u.oldVersion,u.newVersion,Nr(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function Jm(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Nr(n).then(()=>{})}const v4=["get","getKey","getAll","getAllKeys","count"],w4=["put","add","delete","clear"],Zm=new Map;function UM(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Zm.get(e))return Zm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=w4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!v4.includes(n))return;const s=function(){var o=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return Zm.set(e,s),s}!function m4(t){Ym=t(Ym)}(t=>({...t,get:(e,n,r)=>UM(e,n)||t.get(e,n,r),has:(e,n)=>!!UM(e,n)||t.has(e,n)}));class I4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function E4(t){return"VERSION"===t.getComponent()?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const ey="@firebase/app",qi=new Eo("@firebase/app"),vd="[DEFAULT]",K4={[ey]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},zi=new Map,wd=new Map;function Q4(t,e){try{t.container.addComponent(e)}catch(n){qi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function zt(t){const e=t.name;if(wd.has(e))return qi.debug(`There were multiple attempts to register component ${e}.`),!1;wd.set(e,t);for(const n of zi.values())Q4(n,t);return!0}function Do(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const kr=new ir("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class X4{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ot("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw kr.create("app-deleted",{appName:this._name})}}const bo="9.18.0";function jM(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:vd,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw kr.create("bad-app-name",{appName:String(i)});if(n||(n=UW()),!n)throw kr.create("no-options");const s=zi.get(i);if(s){if(yd(n,s.options)&&yd(r,s.config))return s;throw kr.create("duplicate-app",{appName:i})}const o=new a4(i);for(const u of wd.values())o.addComponent(u);const a=new X4(n,r,o);return zi.set(i,a),a}function ty(t=vd){const e=zi.get(t);if(!e&&t===vd)return jM();if(!e)throw kr.create("no-app",{appName:t});return e}function HM(){return Array.from(zi.values())}function Ve(t,e,n){var r;let i=null!==(r=K4[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void qi.warn(a.join(" "))}zt(new Ot(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const J4="firebase-heartbeat-database",Z4=1,fu="firebase-heartbeat-store";let ry=null;function GM(){return ry||(ry=_d(J4,Z4,{upgrade:(t,e)=>{0===e&&t.createObjectStore(fu)}}).catch(t=>{throw kr.create("idb-open",{originalErrorMessage:t.message})})),ry}function iy(){return(iy=g(function*(t){try{return(yield GM()).transaction(fu).objectStore(fu).get(zM(t))}catch(e){if(e instanceof Mn)qi.warn(e.message);else{const n=kr.create("idb-get",{originalErrorMessage:e?.message});qi.warn(n.message)}}})).apply(this,arguments)}function qM(t,e){return sy.apply(this,arguments)}function sy(){return(sy=g(function*(t,e){try{const r=(yield GM()).transaction(fu,"readwrite");return yield r.objectStore(fu).put(e,zM(t)),r.done}catch(n){if(n instanceof Mn)qi.warn(n.message);else{const r=kr.create("idb-set",{originalErrorMessage:n?.message});qi.warn(r.message)}}})).apply(this,arguments)}function zM(t){return`${t.name}!${t.options.appId}`}class r8{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new s8(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return g(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=WM();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return g(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=WM(),{heartbeatsToSend:r,unsentEntries:i}=function i8(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),KM(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),KM(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=hd(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function WM(){return(new Date).toISOString().substring(0,10)}class s8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(function*(){return!!Hi()&&du().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return g(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function e8(t){return iy.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return qM(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return qM(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function KM(t){return hd(JSON.stringify({version:2,heartbeats:t})).length}!function o8(t){zt(new Ot("platform-logger",e=>new I4(e),"PRIVATE")),zt(new Ot("heartbeat",e=>new r8(e),"PRIVATE")),Ve(ey,"0.9.5",t),Ve(ey,"0.9.5","esm2017"),Ve("fire-js","")}(""),Ve("firebase","9.18.0","app");const QM="@firebase/installations",oy="0.6.4",YM=1e4,XM=`w:${oy}`,JM="FIS_v2",c8="https://firebaseinstallations.googleapis.com/v1",l8=36e5,Rr=new ir("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ZM(t){return t instanceof Mn&&t.code.includes("request-failed")}function ay({projectId:t}){return`${c8}/projects/${t}/installations`}function e1(t){return{token:t.token,requestStatus:2,expiresIn:p8(t.expiresIn),creationTime:Date.now()}}function uy(t,e){return cy.apply(this,arguments)}function cy(){return(cy=g(function*(t,e){const r=(yield e.json()).error;return Rr.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function t1({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function ly(t){return dy.apply(this,arguments)}function dy(){return(dy=g(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function p8(t){return Number(t.replace("s","000"))}function hy(){return(hy=g(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=ay(t),i=t1(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:JM,appId:t.appId,sdkVersion:XM})},u=yield ly(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:e1(c.authToken)}}throw yield uy("Create Installation",u)})).apply(this,arguments)}function r1(t){return new Promise(e=>{setTimeout(e,t)})}const _8=/^[cdef][\w-]{21}$/,fy="";function v8(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function w8(t){return function y8(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return _8.test(n)?n:fy}catch{return fy}}function To(t){return`${t.appName}!${t.appId}`}const Co=new Map;function i1(t,e){const n=To(t);s1(n,e),function D8(t,e){const n=function o1(){return!Wi&&"BroadcastChannel"in self&&(Wi=new BroadcastChannel("[Firebase] FID Change"),Wi.onmessage=t=>{s1(t.data.key,t.data.fid)}),Wi}();n&&n.postMessage({key:t,fid:e}),function a1(){0===Co.size&&Wi&&(Wi.close(),Wi=null)}()}(n,e)}function s1(t,e){const n=Co.get(t);if(n)for(const r of n)r(e)}let Wi=null;const b8="firebase-installations-database",T8=1,Ki="firebase-installations-store";let py=null;function gy(){return py||(py=_d(b8,T8,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Ki)}})),py}function Id(t,e){return my.apply(this,arguments)}function my(){return(my=g(function*(t,e){const n=To(t),i=(yield gy()).transaction(Ki,"readwrite"),s=i.objectStore(Ki),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&i1(t,e.fid),e})).apply(this,arguments)}function yy(t){return _y.apply(this,arguments)}function _y(){return(_y=g(function*(t){const e=To(t),r=(yield gy()).transaction(Ki,"readwrite");yield r.objectStore(Ki).delete(e),yield r.done})).apply(this,arguments)}function pu(t,e){return vy.apply(this,arguments)}function vy(){return(vy=g(function*(t,e){const n=To(t),i=(yield gy()).transaction(Ki,"readwrite"),s=i.objectStore(Ki),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&i1(t,a.fid),a})).apply(this,arguments)}function wy(t){return Iy.apply(this,arguments)}function Iy(){return Iy=g(function*(t){let e;const n=yield pu(t.appConfig,r=>{const i=function C8(t){return c1(t||{fid:v8(),registrationStatus:0})}(r),s=function S8(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Rr.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function A8(t,e){return Ey.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:x8(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===fy?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),Iy.apply(this,arguments)}function Ey(){return Ey=g(function*(t,e){try{const n=yield function m8(t,e){return hy.apply(this,arguments)}(t,e);return Id(t.appConfig,n)}catch(n){throw ZM(n)&&409===n.customData.serverCode?yield yy(t.appConfig):yield Id(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),Ey.apply(this,arguments)}function x8(t){return Dy.apply(this,arguments)}function Dy(){return(Dy=g(function*(t){let e=yield u1(t.appConfig);for(;1===e.registrationStatus;)yield r1(100),e=yield u1(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield wy(t);return r||n}return e})).apply(this,arguments)}function u1(t){return pu(t,e=>{if(!e)throw Rr.create("installation-not-found");return c1(e)})}function c1(t){return function M8(t){return 1===t.registrationStatus&&t.registrationTime+YM<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function by(){return(by=g(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function k8(t,{fid:e}){return`${ay(t)}/${e}/authTokens:generate`}(t,n),i=function n1(t,{refreshToken:e}){const n=t1(t);return n.append("Authorization",function g8(t){return`${JM} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:XM,appId:t.appId}})},u=yield ly(()=>fetch(r,a));if(u.ok)return e1(yield u.json());throw yield uy("Generate Auth Token",u)})).apply(this,arguments)}function Ty(t){return Cy.apply(this,arguments)}function Cy(){return Cy=g(function*(t,e=!1){let n;const r=yield pu(t.appConfig,s=>{if(!d1(s))throw Rr.create("not-registered");const o=s.authToken;if(!e&&function O8(t){return 2===t.requestStatus&&!function F8(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+l8}(t)}(o))return s;if(1===o.requestStatus)return n=function R8(t,e){return Sy.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw Rr.create("app-offline");const a=function L8(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function P8(t,e){return Ay.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),Cy.apply(this,arguments)}function Sy(){return(Sy=g(function*(t,e){let n=yield l1(t.appConfig);for(;1===n.authToken.requestStatus;)yield r1(100),n=yield l1(t.appConfig);const r=n.authToken;return 0===r.requestStatus?Ty(t,e):r})).apply(this,arguments)}function l1(t){return pu(t,e=>{if(!d1(e))throw Rr.create("not-registered");return function V8(t){return 1===t.requestStatus&&t.requestTime+YM<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function Ay(){return Ay=g(function*(t,e){try{const n=yield function N8(t,e){return by.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Id(t.appConfig,r),n}catch(n){if(!ZM(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Id(t.appConfig,r)}else yield yy(t.appConfig);throw n}}),Ay.apply(this,arguments)}function d1(t){return void 0!==t&&2===t.registrationStatus}function xy(){return(xy=g(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield wy(e);return r?r.catch(console.error):Ty(e).catch(console.error),n.fid})).apply(this,arguments)}function My(){return My=g(function*(t,e=!1){const n=t;return yield function $8(t){return Ny.apply(this,arguments)}(n),(yield Ty(n,e)).token}),My.apply(this,arguments)}function Ny(){return(Ny=g(function*(t){const{registrationPromise:e}=yield wy(t);e&&(yield e)})).apply(this,arguments)}function Py(t){return Rr.create("missing-app-config-values",{valueName:t})}const h1="installations",z8=t=>{const e=t.getProvider("app").getImmediate(),n=function G8(t){if(!t||!t.options)throw Py("App Configuration");if(!t.name)throw Py("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Py(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Do(e,"heartbeat"),_delete:()=>Promise.resolve()}},W8=t=>{const n=Do(t.getProvider("app").getImmediate(),h1).getImmediate();return{getId:()=>function B8(t){return xy.apply(this,arguments)}(n),getToken:i=>function U8(t){return My.apply(this,arguments)}(n,i)}};(function K8(){zt(new Ot(h1,z8,"PUBLIC")),zt(new Ot("installations-internal",W8,"PRIVATE"))})(),Ve(QM,oy),Ve(QM,oy,"esm2017");const Oy="@firebase/remote-config",rn=new ir("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class s6{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function o6(t=navigator){return t.languages&&t.languages[0]||t.language}class a6{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:o6()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((I,T)=>{e.signal.addEventListener(()=>{const _=new Error("The operation was aborted.");_.name="AbortError",T(_)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(I){let T="fetch-client-network";throw"AbortError"===I?.name&&(T="fetch-timeout"),rn.create(T,{originalErrorMessage:I?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let m,y;if(200===h.status){let I;try{I=yield h.json()}catch(T){throw rn.create("fetch-client-parse",{originalErrorMessage:T?.message})}m=I.entries,y=I.state}if("INSTANCE_STATE_UNSPECIFIED"===y?f=500:"NO_CHANGE"===y?f=304:("NO_TEMPLATE"===y||"EMPTY_CONFIG"===y)&&(m={}),304!==f&&200!==f)throw rn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:m}})()}}class l6{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return g(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return g(function*(){yield function u6(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(rn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function c6(t){if(!(t instanceof Mn&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+qm(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class f6{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Dd(t,e){const n=t.target.error||void 0;return rn.create(e,{originalErrorMessage:n&&n?.message})}const Qi="app_namespace_store";class y6{constructor(e,n,r,i=function m6(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(Dd(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Qi,{keyPath:"compositeKey"})}}catch(n){e(rn.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Qi],"readonly").objectStore(Qi),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(Dd(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(rn.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,n){var r=this;return g(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([Qi],"readwrite").objectStore(Qi),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(Dd(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(rn.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Qi],"readwrite").objectStore(Qi),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(Dd(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(rn.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class _6{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return g(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function w6(){return Uy.apply(this,arguments)}function Uy(){return(Uy=g(function*(){if(!Hi())return!1;try{return yield du()}catch{return!1}})).apply(this,arguments)}!function v6(){zt(new Ot("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw rn.create("registration-window");if(!Hi())throw rn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw rn.create("registration-project-id");if(!o)throw rn.create("registration-api-key");if(!a)throw rn.create("registration-app-id");const u=new y6(a,r.name,n=n||"firebase"),c=new _6(u),l=new Eo(Oy);l.logLevel=le.ERROR;const d=new a6(i,bo,n,s,o,a),h=new l6(d,u),f=new s6(h,u,c,l),p=new f6(r,f,c,u,l);return function n6(t){const e=Pt(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Ve(Oy,"0.4.4"),Ve(Oy,"0.4.4","esm2017")}();const I6="/firebase-messaging-sw.js",E6="/firebase-cloud-messaging-push-scope",m1="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",D6="https://fcmregistrations.googleapis.com/v1",y1="google.c.a.c_id",b6="google.c.a.c_l",T6="google.c.a.ts",C6="google.c.a.e";var So=(()=>{return(t=So||(So={})).PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",So;var t})();function Pr(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function S6(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const $y="fcm_token_details_db",A6=5,_1="fcm_token_object_Store";function jy(){return jy=g(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes($y))return null;let e=null;return(yield _d($y,A6,{upgrade:(r=g(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(_1))return;const c=a.objectStore(_1),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Pr(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Pr(d.auth),p256dh:Pr(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Pr(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Pr(d.auth),p256dh:Pr(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Pr(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield Jm($y),yield Jm("fcm_vapid_details_db"),yield Jm("undefined"),function M6(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),jy.apply(this,arguments)}const N6="firebase-messaging-database",k6=1,Yi="firebase-messaging-store";let Hy=null;function Gy(){return Hy||(Hy=_d(N6,k6,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Yi)}})),Hy}function v1(t){return qy.apply(this,arguments)}function qy(){return qy=g(function*(t){const e=Qy(t),r=yield(yield Gy()).transaction(Yi).objectStore(Yi).get(e);if(r)return r;{const i=yield function x6(t){return jy.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield zy(t,i),i}}),qy.apply(this,arguments)}function zy(t,e){return Wy.apply(this,arguments)}function Wy(){return(Wy=g(function*(t,e){const n=Qy(t),i=(yield Gy()).transaction(Yi,"readwrite");return yield i.objectStore(Yi).put(e,n),yield i.done,e})).apply(this,arguments)}function Ky(){return(Ky=g(function*(t){const e=Qy(t),r=(yield Gy()).transaction(Yi,"readwrite");yield r.objectStore(Yi).delete(e),yield r.done})).apply(this,arguments)}function Qy({appConfig:t}){return t.appId}const wt=new ir("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function O6(t,e){return Yy.apply(this,arguments)}function Yy(){return(Yy=g(function*(t,e){const n=yield e_(t),r=I1(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(Zy(t.appConfig),i)).json()}catch(o){throw wt.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw wt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw wt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function Xy(){return(Xy=g(function*(t,e){const n=yield e_(t),r=I1(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${Zy(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw wt.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw wt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw wt.create("token-update-no-token");return s.token})).apply(this,arguments)}function w1(t,e){return Jy.apply(this,arguments)}function Jy(){return(Jy=g(function*(t,e){const r={method:"DELETE",headers:yield e_(t)};try{const s=yield(yield fetch(`${Zy(t.appConfig)}/${e}`,r)).json();if(s.error)throw wt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw wt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function Zy({projectId:t}){return`${D6}/projects/${t}/registrations`}function e_(t){return t_.apply(this,arguments)}function t_(){return(t_=g(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function I1({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==m1&&(i.web.applicationPubKey=r),i}const L6=6048e5;function n_(){return n_=g(function*(t){const e=yield function U6(t,e){return o_.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Pr(e.getKey("auth")),p256dh:Pr(e.getKey("p256dh"))},r=yield v1(t.firebaseDependencies);if(r){if(function $6(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+L6?function B6(t,e){return i_.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield w1(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return D1(t.firebaseDependencies,n)}return D1(t.firebaseDependencies,n)}),n_.apply(this,arguments)}function r_(){return r_=g(function*(t){const e=yield v1(t.firebaseDependencies);e&&(yield w1(t.firebaseDependencies,e.token),yield function R6(t){return Ky.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),r_.apply(this,arguments)}function i_(){return i_=g(function*(t,e){try{const n=yield function F6(t,e){return Xy.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield zy(t.firebaseDependencies,r),n}catch(n){throw yield function E1(t){return r_.apply(this,arguments)}(t),n}}),i_.apply(this,arguments)}function D1(t,e){return s_.apply(this,arguments)}function s_(){return(s_=g(function*(t,e){const r={token:yield O6(t,e),createTime:Date.now(),subscriptionOptions:e};return yield zy(t,r),r.token})).apply(this,arguments)}function o_(){return(o_=g(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:S6(e)})})).apply(this,arguments)}function b1(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function j6(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function H6(t,e){e.data&&(t.data=e.data)}(e,t),function G6(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function T1(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function a_(t){return wt.create("missing-app-config-values",{valueName:t})}T1("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),T1("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class W6{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function z6(t){if(!t||!t.options)throw a_("App Configuration Object");if(!t.name)throw a_("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw a_(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function C1(t){return u_.apply(this,arguments)}function u_(){return(u_=g(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(I6,{scope:E6}),t.swRegistration.update().catch(()=>{})}catch(e){throw wt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function c_(){return(c_=g(function*(t,e){if(!e&&!t.swRegistration&&(yield C1(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw wt.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function l_(){return(l_=g(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=m1)})).apply(this,arguments)}function d_(){return d_=g(function*(t,e){if(!navigator)throw wt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw wt.create("permission-blocked");return yield function Q6(t,e){return l_.apply(this,arguments)}(t,e?.vapidKey),yield function K6(t,e){return c_.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function V6(t){return n_.apply(this,arguments)}(t)}),d_.apply(this,arguments)}function h_(){return(h_=g(function*(t,e,n){const r=function X6(t){switch(t){case So.NOTIFICATION_CLICKED:return"notification_open";case So.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[y1],message_name:n[b6],message_time:n[T6],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function f_(){return f_=g(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===So.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(b1(n)):t.onMessageHandler.next(b1(n)));const r=n.data;(function q6(t){return"object"==typeof t&&!!t&&y1 in t})(r)&&"1"===r[C6]&&(yield function Y6(t,e,n){return h_.apply(this,arguments)}(t,n.messageType,r))}),f_.apply(this,arguments)}const A1="@firebase/messaging",Z6=t=>{const e=new W6(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function J6(t,e){return f_.apply(this,arguments)}(e,n)),e},e5=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function S1(t,e){return d_.apply(this,arguments)}(e,r)}};function M1(){return p_.apply(this,arguments)}function p_(){return(p_=g(function*(){try{yield du()}catch{return!1}return typeof window<"u"&&Hi()&&jm()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function t5(){zt(new Ot("messaging",Z6,"PUBLIC")),zt(new Ot("messaging-internal",e5,"PRIVATE")),Ve(A1,"0.12.4"),Ve(A1,"0.12.4","esm2017")}();const bd="analytics",i5="firebase_id",s5="origin",o5=6e4,a5="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",N1="https://www.googletagmanager.com/gtag/js",It=new Eo("@firebase/analytics");function k1(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function y_(){return(y_=g(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield k1(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){It.error(a)}t("config",i,s)})).apply(this,arguments)}function __(){return(__=g(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield k1(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){It.error(s)}})).apply(this,arguments)}const yn=new ir("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),m5=30,R1=new class _5{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function v5(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function v_(){return(v_=g(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:v5(r)},s=a5.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw yn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function w_(){return(w_=g(function*(t,e=R1,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw yn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw yn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new b5;return setTimeout(g(function*(){a.abort()}),void 0!==n?n:o5),P1({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function P1(t,e,n){return I_.apply(this,arguments)}function I_(){return I_=g(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=R1){var s;const{appId:o,measurementId:a}=t;try{yield function E5(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(yn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return It.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield function w5(t){return v_.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!function D5(t){if(!(t instanceof Mn&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(o),a)return It.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?qm(n,i.intervalMillis,m5):qm(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),It.debug(`Calling attemptFetch again in ${l} millis`),P1(t,d,r,i)}}),I_.apply(this,arguments)}class b5{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let E_,A_;function D_(){return(D_=g(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function x_(){return(x_=g(function*(){if(!Hi())return It.warn(yn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield du()}catch(t){return It.warn(yn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function M_(){return M_=g(function*(t,e,n,r,i,s,o){var a;const u=function I5(t){return w_.apply(this,arguments)}(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&It.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>It.error(f)),e.push(u);const c=function M5(){return x_.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);(function p5(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(N1)&&n.src.includes(t))return n;return null})(s)||function u5(t,e){const n=document.createElement("script");n.src=`${N1}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}(s,l.measurementId),A_&&(i("consent","default",A_),function O1(t){A_=t}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[s5]="firebase",h.update=!0,null!=d&&(h[i5]=d),i("config",l.measurementId,h),E_&&(i("set",E_),function F1(t){E_=t}(void 0)),l.measurementId}),M_.apply(this,arguments)}class k5{constructor(e){this.app=e}_delete(){return delete Or[this.app.options.appId],Promise.resolve()}}let Or={},L1=[];const V1={};let U1,Fr,Td="dataLayer",B1="gtag",N_=!1;function P5(t,e,n){!function R5(){const t=[];if($m()&&t.push("This is a browser extension environment."),jm()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=yn.create("invalid-analytics-context",{errorInfo:e});It.warn(n.message)}}();const r=t.options.appId;if(!r)throw yn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw yn.create("no-api-key");It.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Or[r])throw yn.create("already-exists",{id:r});if(!N_){!function c5(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Td);const{wrappedGtag:s,gtagCore:o}=function f5(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function h5(t,e,n,r){function s(){return s=g(function*(o,a,u){try{"event"===o?yield function d5(t,e,n,r,i){return __.apply(this,arguments)}(t,e,n,a,u):"config"===o?yield function l5(t,e,n,r,i,s){return y_.apply(this,arguments)}(t,e,n,r,a,u):"consent"===o?t("consent","update",u):t("set",a)}catch(c){It.error(c)}}),s.apply(this,arguments)}return function i(o,a,u){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(Or,L1,V1,Td,B1);Fr=s,U1=o,N_=!0}return Or[r]=function N5(t,e,n,r,i,s,o){return M_.apply(this,arguments)}(t,L1,V1,e,U1,Td,n),new k5(t)}function F5(){return k_.apply(this,arguments)}function k_(){return(k_=g(function*(){if($m()||!jm()||!Hi())return!1;try{return yield du()}catch{return!1}})).apply(this,arguments)}const $1="@firebase/analytics";!function V5(){zt(new Ot(bd,(e,{options:n})=>P5(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),zt(new Ot("analytics-internal",function t(e){try{const n=e.getProvider(bd).getImmediate();return{logEvent:(r,i,s)=>function L5(t,e,n,r){t=Pt(t),function T5(t,e,n,r,i){return D_.apply(this,arguments)}(Fr,Or[t.app.options.appId],e,n,r).catch(i=>It.error(i))}(n,r,i,s)}}catch(n){throw yn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Ve($1,"0.9.4"),Ve($1,"0.9.4","esm2017")}();class B5 extends Rn{constructor(e,n){super()}schedule(e,n=0){return this}}const Cd={setInterval(t,e,...n){const{delegate:r}=Cd;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Cd;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class H1 extends B5{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Cd.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Cd.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Pc(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const G1={now:()=>(G1.delegate||Date).now(),delegate:void 0};class gu{constructor(e,n=gu.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}gu.now=G1.now;class q1 extends gu{constructor(e,n=gu.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const j5=new class $5 extends q1{}(class U5 extends H1{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),H5=new q1(H1),Sd=new Ha("7.5.0"),R_="__angularfire_symbol__analyticsIsSupportedValue",P_="__angularfire_symbol__analyticsIsSupported",O_="__angularfire_symbol__remoteConfigIsSupportedValue",F_="__angularfire_symbol__remoteConfigIsSupported",L_="__angularfire_symbol__messagingIsSupportedValue",V_="__angularfire_symbol__messagingIsSupported";function U_(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[P_]||(globalThis[P_]=F5().then(t=>globalThis[R_]=t).catch(()=>globalThis[R_]=!1)),globalThis[V_]||(globalThis[V_]=M1().then(t=>globalThis[L_]=t).catch(()=>globalThis[L_]=!1)),globalThis[F_]||(globalThis[F_]=w6().then(t=>globalThis[O_]=t).catch(()=>globalThis[O_]=!1));const $_=(t,e)=>{const n=e?[e]:HM(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Ao(){}class z1{constructor(e,n=j5){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class q5{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ao,{},Ao,Ao)),n.pipe(function G5(t,e,n){const r=ke(t)||e||n?{next:t,error:e,complete:n}:t;return r?Ms((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(Ns(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Ff}({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let j_=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new z1(Zone.current)),this.insideAngular=n.run(()=>new z1(Zone.current,H5)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(ue(Ye))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Xi(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Ji(t){return Xi().ngZone.run(()=>t())}function W5(t){return Xi(),function K5(t){return function(n){return(n=n.lift(new q5(t.ngZone))).pipe(Bc(t.outsideAngular),Vc(t.insideAngular))}}(Xi())(t)}const Q5=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Ji(()=>t.apply(void 0,r))},Nn=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=Ji(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ao,{},Ao,Ao)))),r[s]=Q5(r[s],n));const i=function z5(t){return Xi().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof mt){const s=Xi();return i.pipe(Bc(s.outsideAngular),Vc(s.insideAngular))}return Ji(()=>i)}return i instanceof mt?i.pipe(W5):i instanceof Promise?Ji(()=>new Promise((s,o)=>i.then(a=>Ji(()=>s(a)),a=>Ji(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Ji(()=>i)};class xo{constructor(e){return e}}class H_{constructor(){return HM()}}const G_=new G("angularfire2._apps"),X5={provide:xo,useFactory:function Y5(t){return t&&1===t.length?t[0]:new xo(ty())},deps:[[new Ht,G_]]},J5={provide:H_,deps:[[new Ht,G_]]};function Z5(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new xo(r)}}let eK=(()=>{class t{constructor(n){Ve("angularfire",Sd.full,"core"),Ve("angularfire",Sd.full,"app"),Ve("angular",uC.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(ue(zl))},t.\u0275mod=Pn({type:t}),t.\u0275inj=Dn({providers:[X5,J5]}),t})();function tK(t,...e){return{ngModule:eK,providers:[{provide:G_,useFactory:Z5(t),multi:!0,deps:[Ye,$n,j_,...e]}]}}const nK=Nn(jM,!0),q_=new Map,W1={activated:!1,tokenObservers:[]},rK={initialized:!1,enabled:!1};function Et(t){return q_.get(t)||Object.assign({},W1)}function Ad(){return rK}const z_="https://content-firebaseappcheck.googleapis.com/v1",aK="exchangeDebugToken",K1={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class cK{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return g(function*(){n.stop();try{n.pending=new gd,yield function lK(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new gd,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Wt=new ir("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function K_(t,e){return Q_.apply(this,arguments)}function Q_(){return(Q_=g(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw Wt.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw Wt.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw Wt.create("fetch-parse-error",{originalErrorMessage:d?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Wt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+c,issuedAtTimeMillis:l}})).apply(this,arguments)}const gK="firebase-app-check-database",mK=1,mu="firebase-app-check-store";let Nd=null;function J1(t,e){return Y_.apply(this,arguments)}function Y_(){return(Y_=g(function*(t,e){const r=(yield function X1(){return Nd||(Nd=new Promise((t,e)=>{try{const n=indexedDB.open(gK,mK);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Wt.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(mu,{keyPath:"compositeKey"})}}catch(n){e(Wt.create("storage-open",{originalErrorMessage:n?.message}))}}),Nd)}()).transaction(mu,"readwrite"),s=r.objectStore(mu).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(Wt.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const yu=new Eo("@firebase/app-check");function Z_(t,e){return Hi()?function _K(t,e){return J1(function eN(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{yu.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function nN(){return tv.apply(this,arguments)}function tv(){return(tv=g(function*(){const t=Ad();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const bK={error:"UNKNOWN_ERROR"};function TK(t){return Um.encodeString(JSON.stringify(t),!1)}function kd(t){return nv.apply(this,arguments)}function nv(){return(nv=g(function*(t,e=!1){const n=t.app;!function Q1(t){if(!Et(t).activated)throw Wt.create("use-before-activation",{appName:t.name})}(n);const r=Et(n);let s,i=r.token;if(i&&!Mo(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(Mo(u)?i=u:yield Z_(n,void 0))}if(!e&&i&&Mo(i))return{token:i.token};let a,o=!1;if(function tN(){return Ad().enabled}()){r.exchangeTokenPromise||(r.exchangeTokenPromise=K_(function pK(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${z_}/projects/${n}/apps/${r}:${aK}?key=${i}`,body:{debug_token:e}}}(n,yield nN()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield Z_(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield Et(n).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?yu.warn(u.message):yu.error(u),s=u}return i?s?a=Mo(i)?{token:i.token,internalError:s}:sN(s):(a={token:i.token},r.token=i,yield Z_(n,i)):a=sN(s),o&&function iN(t,e){const n=Et(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a})).apply(this,arguments)}function iv(t,e){const n=Et(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function rN(t){const{app:e}=t,n=Et(e);let r=n.tokenRefresher;r||(r=function CK(t){const{app:e}=t;return new cK(g(function*(){let r;if(r=Et(e).token?yield kd(t,!0):yield kd(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=Et(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},K1.RETRIAL_MIN_WAIT,K1.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Mo(t){return t.expireTimeMillis-Date.now()>0}function sN(t){return{token:TK(bK),error:t}}class SK{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Et(this.app);for(const n of e)iv(this.app,n.next);return Promise.resolve()}}const fN="app-check-internal";!function $K(){zt(new Ot("app-check",t=>function AK(t,e){return new SK(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(fN).initialize()})),zt(new Ot(fN,t=>function xK(t){return{getToken:e=>kd(t,e),addTokenListener:e=>function rv(t,e,n,r){const{app:i}=t,s=Et(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&Mo(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),rN(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>rN(t))}(t,"INTERNAL",e),removeTokenListener:e=>iv(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Ve("@firebase/app-check","0.6.4")}();class uv{constructor(){return $_("app-check")}}typeof window<"u"&&window;const zK=function gN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},mN=new ir("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),yN=new Eo("@firebase/auth");function Pd(t,...e){yN.logLevel<=le.ERROR&&yN.error(`Auth (${bo}): ${t}`,...e)}function sn(t,...e){throw lv(t,...e)}function _n(t,...e){return lv(t,...e)}function _N(t,e,n){const r=Object.assign(Object.assign({},zK()),{[e]:n});return new ir("auth","Firebase",r).create(e,{appName:t.name})}function No(t,e,n){if(!(e instanceof n))throw n.name!==e.constructor.name&&sn(t,"argument-error"),_N(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function lv(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return mN.create(t,...e)}function S(t,e,...n){if(!t)throw lv(e,...n)}function sr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Pd(e),new Error(e)}function Lr(t,e){t||sr(e)}const vN=new Map;function Vr(t){Lr(t instanceof Function,"Expected a class definition");let e=vN.get(t);return e?(Lr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,vN.set(t,e),e)}function _u(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function wN(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class vu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Lr(n>e,"Short delay should be less than long delay!"),this.isMobile=function jW(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ct())}()||function GW(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function QK(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function dv(){return"http:"===wN()||"https:"===wN()}()||$m()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function hv(t,e){Lr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class IN{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const XK={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},JK=new vu(3e4,6e4);function lt(t,e,n,r){return fv.apply(this,arguments)}function fv(){return(fv=g(function*(t,e,n,r,i={}){return EN(t,i,g(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=hu(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),IN.fetch()(DN(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function EN(t,e,n){return pv.apply(this,arguments)}function pv(){return(pv=g(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},XK),e);try{const i=new ZK(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw wu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw wu(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw wu(t,"email-already-in-use",o);if("USER_DISABLED"===u)throw wu(t,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw _N(t,l,c);sn(t,l)}}catch(i){if(i instanceof Mn)throw i;sn(t,"internal-error",{message:String(i)})}})).apply(this,arguments)}function Br(t,e,n,r){return gv.apply(this,arguments)}function gv(){return(gv=g(function*(t,e,n,r,i={}){const s=yield lt(t,e,n,r,i);return"mfaPendingCredential"in s&&sn(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function DN(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?hv(t.config,i):`${t.config.apiScheme}://${i}`}class ZK{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(_n(this.auth,"network-request-failed")),JK.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function wu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=_n(t,e,r);return i.customData._tokenResponse=n,i}function mv(){return(mv=g(function*(t,e){return lt(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function _v(){return(_v=g(function*(t,e){return lt(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Iu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function vv(){return(vv=g(function*(t,e=!1){const n=Pt(t),r=yield n.getIdToken(e),i=Od(r);S(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Iu(wv(i.auth_time)),issuedAtTime:Iu(wv(i.iat)),expirationTime:Iu(wv(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function wv(t){return 1e3*Number(t)}function Od(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Pd("JWT malformed, contained fewer than 3 sections"),null;try{const i=fd(n);return i?JSON.parse(i):(Pd("Failed to decode base64 JWT payload"),null)}catch(i){return Pd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Ur(t,e){return Iv.apply(this,arguments)}function Iv(){return(Iv=g(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Mn&&function s7({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class o7{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(g(function*(){yield n.iteration()}),r)}iteration(){var e=this;return g(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class bN{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Iu(this.lastLoginAt),this.creationTime=Iu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Eu(t){return Ev.apply(this,arguments)}function Ev(){return Ev=g(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Ur(t,function n7(t,e){return _v.apply(this,arguments)}(n,{idToken:r}));S(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function c7(t){return t.map(e=>{var{providerId:n}=e,r=Uf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function u7(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new bN(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),Ev.apply(this,arguments)}function Dv(){return(Dv=g(function*(t){const e=Pt(t);yield Eu(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function bv(){return(bv=g(function*(t,e){const n=yield EN(t,{},g(function*(){const r=hu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=DN(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",IN.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Du{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){S(e.idToken,"internal-error"),S(typeof e.idToken<"u","internal-error"),S(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function i7(t){const e=Od(t);return S(e,"internal-error"),S(typeof e.exp<"u","internal-error"),S(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return g(function*(){return S(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return g(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function l7(t,e){return bv.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Du;return r&&(S("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(S("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(S("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Du,this.toJSON())}_performRefresh(){return sr("not implemented")}}function si(t,e){S("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Zi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Uf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new o7(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new bN(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return g(function*(){const r=yield Ur(n,n.stsTokenManager.getToken(n.auth,e));return S(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function r7(t){return vv.apply(this,arguments)}(this,e)}reload(){return function a7(t){return Dv.apply(this,arguments)}(this)}_assign(e){this!==e&&(S(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Zi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){S(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return g(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Eu(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return g(function*(){const n=yield e.getIdToken();return yield Ur(e,function e7(t,e){return mv.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,m=null!==(a=n.tenantId)&&void 0!==a?a:void 0,y=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,I=null!==(c=n.createdAt)&&void 0!==c?c:void 0,T=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:_,emailVerified:P,isAnonymous:B,providerData:$,stsTokenManager:tt}=n;S(_&&tt,e,"internal-error");const fr=Du.fromJSON(this.name,tt);S("string"==typeof _,e,"internal-error"),si(d,e.name),si(h,e.name),S("boolean"==typeof P,e,"internal-error"),S("boolean"==typeof B,e,"internal-error"),si(f,e.name),si(p,e.name),si(m,e.name),si(y,e.name),si(I,e.name),si(T,e.name);const Tb=new Zi({uid:_,auth:e,email:h,emailVerified:P,displayName:d,isAnonymous:B,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:fr,createdAt:I,lastLoginAt:T});return $&&Array.isArray($)&&(Tb.providerData=$.map(Jte=>Object.assign({},Jte))),y&&(Tb._redirectEventId=y),Tb}static _fromIdTokenResponse(e,n,r=!1){return g(function*(){const i=new Du;i.updateFromServerResponse(n);const s=new Zi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Eu(s),s})()}}const TN=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(function*(){return!0})()}_set(n,r){var i=this;return g(function*(){i.storage[n]=r})()}_get(n){var r=this;return g(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return g(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Fd(t,e,n){return`firebase:${t}:${e}:${n}`}class ko{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Fd(this.userKey,i.apiKey,s),this.fullPersistenceKey=Fd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return g(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Zi._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return g(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return g(function*(){if(!n.length)return new ko(Vr(TN),e,r);const i=(yield Promise.all(n.map(function(){var c=g(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||Vr(TN);const o=Fd(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=Zi._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=g(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new ko(s,e,r)):new ko(s,e,r)})()}}function CN(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(xN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(SN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(NN(e))return"Blackberry";if(kN(e))return"Webos";if(Tv(e))return"Safari";if((e.includes("chrome/")||AN(e))&&!e.includes("edge/"))return"Chrome";if(MN(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function SN(t=ct()){return/firefox\//i.test(t)}function Tv(t=ct()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function AN(t=ct()){return/crios\//i.test(t)}function xN(t=ct()){return/iemobile/i.test(t)}function MN(t=ct()){return/android/i.test(t)}function NN(t=ct()){return/blackberry/i.test(t)}function kN(t=ct()){return/webos/i.test(t)}function Ld(t=ct()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function RN(t=ct()){return Ld(t)||MN(t)||kN(t)||NN(t)||/windows phone/i.test(t)||xN(t)}function PN(t,e=[]){let n;switch(t){case"Browser":n=CN(ct());break;case"Worker":n=`${CN(ct())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${bo}/${r}`}class p7{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return g(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class g7{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ON(this),this.idTokenSubscription=new ON(this),this.beforeStateQueue=new p7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mN,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Vr(n)),this._initializationPromise=this.queue(g(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield ko.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return g(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return g(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return S(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return g(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return g(function*(){try{yield Eu(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function YK(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return g(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return g(function*(){const r=e?Pt(e):null;return r&&S(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return g(function*(){if(!r._deleted)return e&&S(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(g(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return g(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(g(function*(){yield n.assertedPersistence.setPersistence(Vr(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ir("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return g(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return g(function*(){if(!n.redirectPersistenceManager){const r=e&&Vr(e)||n._popupRedirectResolver;S(r,n,"argument-error"),n.redirectPersistenceManager=yield ko.create(n,[Vr(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return g(function*(){var r,i;return n._isInitialized&&(yield n.queue(g(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return g(function*(){if(e===n.currentUser)return n.queue(g(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return S(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return g(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return S(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=PN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return g(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();return i&&(r["X-Firebase-Client"]=i),r})()}}function on(t){return Pt(t)}class ON{constructor(e){this.auth=e,this.observer=null,this.addObserver=function YW(t,e){const n=new XW(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return S(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function FN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function LN(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class VN{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return sr("not implemented")}_getIdTokenResponse(e){return sr("not implemented")}_linkToIdToken(e,n){return sr("not implemented")}_getReauthenticationResolver(e){return sr("not implemented")}}function $r(t,e){return Vv.apply(this,arguments)}function Vv(){return(Vv=g(function*(t,e){return Br(t,"POST","/v1/accounts:signInWithIdp",function st(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}(t,e))})).apply(this,arguments)}class Ro extends VN{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ro(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):sn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Uf(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ro(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){return $r(e,this.buildRequest())}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,$r(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,$r(e,n)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=hu(n)}return e}}class oi{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Hv extends oi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class es extends Hv{static credentialFromJSON(e){const n="string"==typeof e?JSON.parse(e):e;return S("providerId"in n&&"signInMethod"in n,"argument-error"),Ro._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return S(e.idToken||e.accessToken,"argument-error"),Ro._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return es.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return es.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=e;if(!r&&!i&&!n&&!s||!a)return null;try{return new es(a)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:s})}catch{return null}}}let jN=(()=>{class t extends Hv{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return Ro._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;const{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}return t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com",t})();class kn{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return g(function*(){const s=yield Zi._fromIdTokenResponse(e,r,i),o=GN(r);return new kn({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return g(function*(){yield e._updateTokensIfNecessary(r,!0);const i=GN(r);return new kn({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function GN(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Ud extends Mn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ud.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Ud(e,n,r,i)}}function qN(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Ud._fromErrorAndOperation(t,s,e,r):s})}function Kv(t,e){return Qv.apply(this,arguments)}function Qv(){return(Qv=g(function*(t,e,n=!1){const r=yield Ur(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return kn._forOperation(t,"link",r)})).apply(this,arguments)}function WN(t,e){return Xv.apply(this,arguments)}function Xv(){return(Xv=g(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield Ur(t,qN(r,i,e,t),n);S(s.idToken,r,"internal-error");const o=Od(s.idToken);S(o,r,"internal-error");const{sub:a}=o;return S(t.uid===a,r,"user-mismatch"),kn._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&sn(r,"user-mismatch"),s}})).apply(this,arguments)}function KN(t,e){return Jv.apply(this,arguments)}function Jv(){return(Jv=g(function*(t,e,n=!1){const r="signIn",i=yield qN(t,r,e),s=yield kn._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}function Y7(t,e,n,r){return Pt(t).onAuthStateChanged(e,n,r)}function X7(t){return Pt(t).signOut()}function J7(t){return Dw.apply(this,arguments)}function Dw(){return(Dw=g(function*(t){return Pt(t).delete()})).apply(this,arguments)}const Hd="__sak";class YN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Hd,"1"),this.storage.removeItem(Hd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const s9=(()=>{class t extends YN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function n9(){const t=ct();return Tv(t)||Ld(t)}()&&function f7(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=RN(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function h7(){return function qW(){const t=ct();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return g(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return g(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return g(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),XN=(()=>{class t extends YN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let a9=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return g(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!u?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(u).map(function(){var d=g(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function o9(t){return Promise.all(t.map(function(){var e=g(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function Gd(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class u9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return g(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const l=Gd("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function ot(){return window}function Sw(){return typeof ot().WorkerGlobalScope<"u"&&"function"==typeof ot().importScripts}function Aw(){return(Aw=g(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const JN="firebaseLocalStorageDb",f9=1,qd="firebaseLocalStorage",ZN="fbase_key";class Cu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function zd(t,e){return t.transaction([qd],e?"readwrite":"readonly").objectStore(qd)}function xw(){const t=indexedDB.open(JN,f9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(qd,{keyPath:ZN})}catch(i){n(i)}}),t.addEventListener("success",g(function*(){const r=t.result;r.objectStoreNames.contains(qd)?e(r):(r.close(),yield function p9(){const t=indexedDB.deleteDatabase(JN);return new Cu(t).toPromise()}(),e(yield xw()))}))})}function ek(t,e,n){return Mw.apply(this,arguments)}function Mw(){return(Mw=g(function*(t,e,n){const r=zd(t,!0).put({[ZN]:e,value:n});return new Cu(r).toPromise()})).apply(this,arguments)}function Nw(){return(Nw=g(function*(t,e){const n=zd(t,!1).get(e),r=yield new Cu(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function tk(t,e){const n=zd(t,!0).delete(e);return new Cu(n).toPromise()}const _9=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return g(function*(){return n.db||(n.db=yield xw()),n.db})()}_withRetries(n){var r=this;return g(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return g(function*(){return Sw()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return g(function*(){n.receiver=a9._getInstance(function h9(){return Sw()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=g(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=g(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return g(function*(){var r,i;if(n.activeServiceWorker=yield function l9(){return Aw.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new u9(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return g(function*(){if(r.sender&&r.activeServiceWorker&&function d9(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return g(function*(){try{if(!indexedDB)return!1;const n=yield xw();return yield ek(n,Hd,"1"),yield tk(n,Hd),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return g(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return g(function*(){return i._withPendingWrite(g(function*(){return yield i._withRetries(s=>ek(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return g(function*(){const i=yield r._withRetries(s=>function g9(t,e){return Nw.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return g(function*(){return r._withPendingWrite(g(function*(){return yield r._withRetries(i=>tk(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return g(function*(){const r=yield n._withRetries(o=>{const a=zd(o,!1).getAll();return new Cu(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(g(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function rk(t){return`__${t}${Math.floor(1e6*Math.random())}`}function ns(t,e){return e?Vr(e):(S(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}rk("rcb"),new vu(3e4,6e4);class $w extends VN{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $r(e,this._buildIdpRequest())}_linkToIdToken(e,n){return $r(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return $r(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function O9(t){return KN(t.auth,new $w(t),t.bypassAuthState)}function F9(t){const{auth:e,user:n}=t;return S(n,e,"internal-error"),WN(n,new $w(t),t.bypassAuthState)}function L9(t){return jw.apply(this,arguments)}function jw(){return(jw=g(function*(t){const{auth:e,user:n}=t;return S(n,e,"internal-error"),Kv(n,new $w(t),t.bypassAuthState)})).apply(this,arguments)}class sk{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=g(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return g(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void n.reject(a);const c={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(u)(c))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return O9;case"linkViaPopup":case"linkViaRedirect":return L9;case"reauthViaPopup":case"reauthViaRedirect":return F9;default:sn(this.auth,"internal-error")}}resolve(e){Lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const V9=new vu(2e3,1e4);function B9(t,e,n){return Hw.apply(this,arguments)}function Hw(){return(Hw=g(function*(t,e,n){const r=on(t);No(t,e,oi);const i=ns(r,n);return new zw(r,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}function U9(t,e,n){return Gw.apply(this,arguments)}function Gw(){return(Gw=g(function*(t,e,n){const r=Pt(t);No(r.auth,e,oi);const i=ns(r.auth,n);return new zw(r.auth,"reauthViaPopup",e,i,r).executeNotNull()})).apply(this,arguments)}let zw=(()=>{class t extends sk{constructor(n,r,i,s,o){super(n,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){var n=this;return g(function*(){const r=yield n.execute();return S(r,n.auth,"internal-error"),r})()}onExecution(){var n=this;return g(function*(){Lr(1===n.filter.length,"Popup operations only handle one event");const r=Gd();n.authWindow=yield n.resolver._openPopup(n.auth,n.provider,n.filter[0],r),n.authWindow.associatedEvent=r,n.resolver._originValidation(n.auth).catch(i=>{n.reject(i)}),n.resolver._isIframeWebStorageSupported(n.auth,i=>{i||n.reject(_n(n.auth,"web-storage-unsupported"))}),n.pollUserCancellation()})()}get eventId(){var n;return(null===(n=this.authWindow)||void 0===n?void 0:n.associatedEvent)||null}cancel(){this.reject(_n(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){const n=()=>{var r,i;this.pollId=null!==(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==i&&i.closed?window.setTimeout(()=>{this.pollId=null,this.reject(_n(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(n,V9.get())};n()}}return t.currentPopupAction=null,t})();const $9="pendingRedirect",Su=new Map;class j9 extends sk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return g(function*(){let r=Su.get(n.auth._key());if(!r){try{const s=(yield function H9(t,e){return Ww.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Su.set(n.auth._key(),r)}return n.bypassAuthState||Su.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return g(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return g(function*(){})()}cleanUp(){}}function Ww(){return(Ww=g(function*(t,e){const n=function ak(t){return Fd($9,t.config.apiKey,t.name)}(e),r=function ok(t){return Vr(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function G9(t,e){Su.set(t._key(),e)}function uk(t,e){return eI.apply(this,arguments)}function eI(){return(eI=g(function*(t,e,n=!1){const r=on(t),i=ns(r,e),o=yield new j9(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class Q9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function Y9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dk(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!dk(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(_n(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(lk(e))}saveEventToCache(e){this.cachedEventUids.add(lk(e)),this.lastProcessedEventTime=Date.now()}}function lk(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function dk({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function nI(){return(nI=g(function*(t,e={}){return lt(t,"GET","/v1/projects",e)})).apply(this,arguments)}const J9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Z9=/^https?/;function rI(){return rI=g(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function X9(t){return nI.apply(this,arguments)}(t);for(const n of e)try{if(tQ(n))return}catch{}sn(t,"unauthorized-domain")}),rI.apply(this,arguments)}function tQ(t){const e=_u(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!Z9.test(n))return!1;if(J9.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const nQ=new vu(3e4,6e4);function hk(){const t=ot().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let Kd=null;function iQ(t){return Kd=Kd||function rQ(t){return new Promise((e,n)=>{var r,i,s;function o(){hk(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{hk(),n(_n(t,"network-request-failed"))},timeout:nQ.get()})}if(null!==(i=null===(r=ot().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=ot().gapi)||void 0===s||!s.load){const a=rk("iframefcb");return ot()[a]=()=>{gapi.load?o():n(_n(t,"network-request-failed"))},function nk(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=_n("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function E9(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}o()}}).catch(e=>{throw Kd=null,e})}(t),Kd}const sQ=new vu(5e3,15e3),oQ="__/auth/iframe",aQ="emulator/auth/iframe",uQ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cQ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lQ(t){const e=t.config;S(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?hv(e,aQ):`https://${t.config.authDomain}/${oQ}`,r={apiKey:e.apiKey,appName:t.name,v:bo},i=cQ.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${hu(r).slice(1)}`}function iI(){return iI=g(function*(t){const e=yield iQ(t),n=ot().gapi;return S(n,t,"internal-error"),e.open({where:document.body,url:lQ(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uQ,dontclear:!0},r=>new Promise(function(){var i=g(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=_n(t,"network-request-failed"),u=ot().setTimeout(()=>{o(a)},sQ.get());function c(){ot().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),iI.apply(this,arguments)}const hQ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fQ=500,pQ=600,gQ="_blank",mQ="http://localhost";class fk{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const vQ="__/auth/handler",wQ="emulator/auth/handler";function pk(t,e,n,r,i,s){S(t.config.authDomain,t,"auth-domain-config-required"),S(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:bo,eventId:i};if(e instanceof oi){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function QW(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,c]of Object.entries(s||{}))o[u]=c}if(e instanceof Hv){const u=e.getScopes().filter(c=>""!==c);u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];return`${function IQ({config:t}){return t.emulator?hv(t,wQ):`https://${t.authDomain}/${vQ}`}(t)}?${hu(a).slice(1)}`}const sI="webStorageSupport",DQ=class EQ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=XN,this._completeRedirectFn=uk,this._overrideRedirectResult=G9}_openPopup(e,n,r,i){var s=this;return g(function*(){var o;Lr(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=pk(e,n,r,_u(),i);return function yQ(t,e,n,r=fQ,i=pQ){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},hQ),{width:r.toString(),height:i.toString(),top:s,left:o}),c=ct().toLowerCase();n&&(a=AN(c)?gQ:n),SN(c)&&(e=e||mQ,u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function d7(t=ct()){var e;return Ld(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function _Q(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new fk(null);const d=window.open(e||"",a,l);S(d,t,"popup-blocked");try{d.focus()}catch{}return new fk(d)}(e,a,Gd())})()}_openRedirect(e,n,r,i){var s=this;return g(function*(){return yield s._originValidation(e),function c9(t){ot().location.href=t}(pk(e,n,r,_u(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Lr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return g(function*(){const r=yield function dQ(t){return iI.apply(this,arguments)}(e),i=new Q9(e);return r.register("authEvent",s=>(S(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(sI,{type:sI},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[sI];void 0!==o&&n(!!o),sn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function eQ(t){return rI.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return RN()||Tv()||Ld()}};var mk="@firebase/auth";class bQ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return g(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){S(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const AQ=kM("authIdTokenMaxAge")||300;let _k=null;const xQ=t=>function(){var e=g(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>AQ)return;const s=r?.token;_k!==s&&(_k=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function MQ(t=ty()){const e=Do(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function WK(t,e){const n=Do(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(yd(n.getOptions(),e??{}))return i;sn(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:DQ,persistence:[_9,s9,XN]}),r=kM("authTokenSyncURL");if(r){const s=xQ(r);(function Q7(t,e,n){Pt(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),function K7(t,e,n,r){Pt(t).onIdTokenChanged(e,n,r)}(n,o=>s(o))}const i=NM("auth");return i&&function m7(t,e,n){const r=on(t);S(r._canInitEmulator,r,"emulator-config-failed"),S(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=FN(e),{host:o,port:a}=function y7(t){const e=FN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:LN(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:LN(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function _7(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}!function CQ(t){zt(new Ot("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,u)=>{S(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),S(!o?.includes(":"),"argument-error",{appName:a.name});const c={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:PN(t)},l=new g7(a,u,c);return function KK(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Vr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(l,n),l})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),zt(new Ot("auth-internal",e=>{const n=on(e.getProvider("auth").getImmediate());return new bQ(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ve(mk,"0.21.5",function TQ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),Ve(mk,"0.21.5","esm2017")}("Browser");class Qd{constructor(e){return e}}class wk{constructor(){return $_("auth")}}const oI=new G("angularfire2.auth-instances");function kQ(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Qd(r)}}const RQ={provide:wk,deps:[[new Ht,oI]]},PQ={provide:Qd,useFactory:function NQ(t,e){const n=U_("auth",t,e);return n&&new Qd(n)},deps:[[new Ht,oI],xo]};let OQ=(()=>{class t{constructor(){Ve("angularfire",Sd.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Pn({type:t}),t.\u0275inj=Dn({providers:[PQ,RQ]}),t})();function FQ(t,...e){return{ngModule:OQ,providers:[{provide:oI,useFactory:kQ(t),multi:!0,deps:[Ye,$n,j_,H_,[new Ht,uv],...e]}]}}const LQ=Nn(J7,!0),VQ=Nn(MQ,!0),BQ=Nn(Y7,!0),Ik=Nn(U9,!0),UQ=Nn(B9,!0),$Q=Nn(X7,!0);var L,jQ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},jr={},aI=aI||{},K=jQ||self;function Yd(){}function Xd(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Au(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var uI="closure_uid_"+(1e9*Math.random()>>>0),GQ=0;function qQ(t,e,n){return t.call.apply(t.bind,arguments)}function zQ(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Ft(t,e,n){return(Ft=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?qQ:zQ).apply(null,arguments)}function Jd(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Dt(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ai(){this.s=this.s,this.o=this.o}ai.prototype.s=!1,ai.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function HQ(t){Object.prototype.hasOwnProperty.call(t,uI)&&t[uI]||(t[uI]=++GQ)}(this)},ai.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ek=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function cI(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Dk(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Xd(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Lt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Lt.prototype.h=function(){this.defaultPrevented=!0};var KQ=function(){if(!K.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{K.addEventListener("test",Yd,e),K.removeEventListener("test",Yd,e)}catch{}return t}();function Zd(t){return/^[\s\xa0]*$/.test(t)}var bk=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function lI(t,e){return t<e?-1:t>e?1:0}function eh(){var t=K.navigator;return t&&(t=t.userAgent)?t:""}function or(t){return-1!=eh().indexOf(t)}function dI(t){return dI[" "](t),t}dI[" "]=Yd;var th,t,YQ=or("Opera"),Po=or("Trident")||or("MSIE"),Tk=or("Edge"),hI=Tk||Po,Ck=or("Gecko")&&!(-1!=eh().toLowerCase().indexOf("webkit")&&!or("Edge"))&&!(or("Trident")||or("MSIE"))&&!or("Edge"),XQ=-1!=eh().toLowerCase().indexOf("webkit")&&!or("Edge");function Sk(){var t=K.document;return t?t.documentMode:void 0}e:{var fI="",pI=(t=eh(),Ck?/rv:([^\);]+)(\)|;)/.exec(t):Tk?/Edge\/([\d\.]+)/.exec(t):Po?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):XQ?/WebKit\/(\S+)/.exec(t):YQ?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(pI&&(fI=pI?pI[1]:""),Po){var gI=Sk();if(null!=gI&&gI>parseFloat(fI)){th=String(gI);break e}}th=fI}var JQ={};var eY=K.document&&Po&&(Sk()||parseInt(th,10))||void 0;function xu(t,e){if(Lt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Ck){e:{try{dI(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:tY[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&xu.X.h.call(this)}}Dt(xu,Lt);var tY={2:"touch",3:"pen",4:"mouse"};xu.prototype.h=function(){xu.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Mu="closure_listenable_"+(1e6*Math.random()|0),nY=0;function rY(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++nY,this.ba=this.ea=!1}function nh(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function yI(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function xk(t){const e={};for(const n in t)e[n]=t[n];return e}const Mk="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Nk(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<Mk.length;s++)n=Mk[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function rh(t){this.src=t,this.g={},this.h=0}function _I(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=Ek(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(nh(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function vI(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==r)return i}return-1}rh.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=vI(t,e,r,i);return-1<o?(e=t[o],n||(e.ea=!1)):((e=new rY(e,this.src,s,!!r,i)).ea=n,t.push(e)),e};var wI="closure_lm_"+(1e6*Math.random()|0),II={};function kk(t,e,n,r,i){if(r&&r.once)return Pk(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)kk(t,e[s],n,r,i);return null}return n=TI(n),t&&t[Mu]?t.N(e,n,Au(r)?!!r.capture:!!r,i):Rk(t,e,n,!1,r,i)}function Rk(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Au(i)?!!i.capture:!!i,a=DI(t);if(a||(t[wI]=a=new rh(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function iY(){const e=sY;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)KQ||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Fk(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Pk(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Pk(t,e[s],n,r,i);return null}return n=TI(n),t&&t[Mu]?t.O(e,n,Au(r)?!!r.capture:!!r,i):Rk(t,e,n,!0,r,i)}function Ok(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Ok(t,e[s],n,r,i);else r=Au(r)?!!r.capture:!!r,n=TI(n),t&&t[Mu]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=vI(s=t.g[e],n,r,i))&&(nh(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=DI(t))&&(e=t.g[e.toString()],t=-1,e&&(t=vI(e,n,r,i)),(n=-1<t?e[t]:null)&&EI(n))}function EI(t){if("number"!=typeof t&&t&&!t.ba){var e=t.src;if(e&&e[Mu])_I(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Fk(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=DI(e))?(_I(n,t),0==n.h&&(n.src=null,e[wI]=null)):nh(t)}}}function Fk(t){return t in II?II[t]:II[t]="on"+t}function sY(t,e){if(t.ba)t=!0;else{e=new xu(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&EI(t),t=n.call(r,e)}return t}function DI(t){return(t=t[wI])instanceof rh?t:null}var bI="__closure_events_fn_"+(1e9*Math.random()>>>0);function TI(t){return"function"==typeof t?t:(t[bI]||(t[bI]=function(e){return t.handleEvent(e)}),t[bI])}function dt(){ai.call(this),this.i=new rh(this),this.P=this,this.I=null}function bt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new Lt(e,t);else if(e instanceof Lt)e.target=e.target||t;else{var i=e;Nk(e=new Lt(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=ih(o,r,!0,e)&&i}if(i=ih(o=e.g=t,r,!0,e)&&i,i=ih(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=ih(o=e.g=n[s],r,!1,e)&&i}function ih(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,u=o.ha||o.src;o.ea&&_I(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Dt(dt,ai),dt.prototype[Mu]=!0,dt.prototype.removeEventListener=function(t,e,n,r){Ok(this,t,e,n,r)},dt.prototype.M=function(){if(dt.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)nh(n[r]);delete t.g[e],t.h--}}this.I=null},dt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},dt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var CI=K.JSON.stringify;function oY(){var t=Bk;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var SI,Lk=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new uY,t=>t.reset());class uY{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function cY(t){K.setTimeout(()=>{throw t},0)}function Vk(t,e){SI||function lY(){var t=K.Promise.resolve(void 0);SI=function(){t.then(dY)}}(),AI||(SI(),AI=!0),Bk.add(t,e)}var AI=!1,Bk=new class aY{constructor(){this.h=this.g=null}add(e,n){const r=Lk.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}};function dY(){for(var t;t=oY();){try{t.h.call(t.g)}catch(n){cY(n)}var e=Lk;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}AI=!1}function sh(t,e){dt.call(this),this.h=t||1,this.g=e||K,this.j=Ft(this.lb,this),this.l=Date.now()}function xI(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}function MI(t,e,n){if("function"==typeof t)n&&(t=Ft(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Ft(t.handleEvent,t)}return 2147483647<Number(e)?-1:K.setTimeout(t,e||0)}function Uk(t){t.g=MI(()=>{t.g=null,t.i&&(t.i=!1,Uk(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Dt(sh,dt),(L=sh.prototype).ca=!1,L.R=null,L.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),bt(this,"tick"),this.ca&&(xI(this),this.start()))}},L.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},L.M=function(){sh.X.M.call(this),xI(this),delete this.g};class hY extends ai{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Uk(this)}M(){super.M(),this.g&&(K.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nu(t){ai.call(this),this.h=t,this.g={}}Dt(Nu,ai);var $k=[];function jk(t,e,n,r){Array.isArray(n)||(n&&($k[0]=n.toString()),n=$k);for(var i=0;i<n.length;i++){var s=kk(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function Hk(t){yI(t.g,function(e,n){this.g.hasOwnProperty(n)&&EI(e)},t),t.g={}}function oh(){this.g=!0}function Oo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function mY(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return CI(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Nu.prototype.M=function(){Nu.X.M.call(this),Hk(this)},Nu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},oh.prototype.Aa=function(){this.g=!1},oh.prototype.info=function(){};var rs={},Gk=null;function ah(){return Gk=Gk||new dt}function qk(t){Lt.call(this,rs.Pa,t)}function ku(t){const e=ah();bt(e,new qk(e))}function zk(t,e){Lt.call(this,rs.STAT_EVENT,t),this.stat=e}function Kt(t){const e=ah();bt(e,new zk(e,t))}function Wk(t,e){Lt.call(this,rs.Qa,t),this.size=e}function Ru(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return K.setTimeout(function(){t()},e)}rs.Pa="serverreachability",Dt(qk,Lt),rs.STAT_EVENT="statevent",Dt(zk,Lt),rs.Qa="timingevent",Dt(Wk,Lt);var uh={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Kk={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function NI(){}function Yk(){}NI.prototype.h=null;var PI,Pu={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function kI(){Lt.call(this,"d")}function RI(){Lt.call(this,"c")}function ch(){}function Ou(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new Nu(this),this.O=yY,this.T=new sh(t=hI?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Xk}function Xk(){this.i=null,this.g="",this.h=!1}Dt(kI,Lt),Dt(RI,Lt),Dt(ch,NI),ch.prototype.g=function(){return new XMLHttpRequest},ch.prototype.i=function(){return{}},PI=new ch;var yY=45e3,OI={},lh={};function FI(t,e,n){t.K=1,t.v=ph(Hr(e)),t.s=n,t.P=!0,Jk(t,null)}function Jk(t,e){t.F=Date.now(),Fu(t),t.A=Hr(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),uR(n.i,"t",r),t.C=0,n=t.l.H,t.h=new Xk,t.g=kR(t.l,n?e:null,!t.s),0<t.N&&(t.L=new hY(Ft(t.La,t,t.g),t.N)),jk(t.S,t.g,"readystatechange",t.ib),e=t.H?xk(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),ku(),function fY(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.U,t.s)}function Zk(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Da}function eR(t,e,n){let i,r=!0;for(;!t.I&&t.C<n.length;){if(i=_Y(t,n),i==lh){4==e&&(t.o=4,Kt(14),r=!1),Oo(t.j,t.m,null,"[Incomplete Response]");break}if(i==OI){t.o=4,Kt(15),Oo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Oo(t.j,t.m,i,null),LI(t,i)}Zk(t)&&i!=lh&&i!=OI&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Kt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,(e=t.l).g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),qI(e),e.K=!0,Kt(11))):(Oo(t.j,t.m,n,"[Invalid Chunked Response]"),is(t),Lu(t))}function _Y(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?lh:(n=Number(e.substring(n,r)),isNaN(n)?OI:(r+=1)+n>e.length?lh:(e=e.substr(r,n),t.C=r+n,e))}function Fu(t){t.V=Date.now()+t.O,tR(t,t.O)}function tR(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Ru(Ft(t.gb,t),e)}function dh(t){t.B&&(K.clearTimeout(t.B),t.B=null)}function Lu(t){0==t.l.G||t.I||AR(t.l,t)}function is(t){dh(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,xI(t.T),Hk(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function LI(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||VI(n.h,t)))if(!t.J&&VI(n.h,t)&&3==n.G){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break e;wh(n),_h(n)}GI(n),Kt(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=Ru(Ft(n.cb,n),6e3));if(1>=dR(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else os(n,11)}else if((t.J||n.g==t)&&wh(n),!Zd(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.I=c[1],n.ka=c[2];const l=c[3];null!=l&&(n.ma=l,n.j.info("VER="+n.ma));const d=c[4];null!=d&&(n.Ca=d,n.j.info("SVER="+n.Ca));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.J=r=1.5*h,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.h;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(BI(s,s.h),s.h=null))}if(r.D){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.za=m,Me(r.F,r.D,m))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms"));var o=t;if((r=n).sa=NR(r,r.H?r.ka:null,r.V),o.J){hR(r.h,o);var a=o,u=r.J;u&&a.setTimeout(u),a.B&&(dh(a),Fu(a)),r.g=o}else CR(r);0<n.i.length&&vh(n)}else"stop"!=c[0]&&"close"!=c[0]||os(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?os(n,7):HI(n):"noop"!=c[0]&&n.l&&n.l.wa(c),n.A=0)}ku()}catch{}}function nR(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Xd(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function wY(t){if(t.oa&&"function"==typeof t.oa)return t.oa();if(!t.W||"function"!=typeof t.W){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Xd(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function vY(t){if(t.W&&"function"==typeof t.W)return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(Xd(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(L=Ou.prototype).setTimeout=function(t){this.O=t},L.ib=function(t){t=t.target;const e=this.L;e&&3==Gr(t)?e.l():this.La(t)},L.La=function(t){try{if(t==this.g)e:{const l=Gr(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>l)&&(3!=l||hI||this.g&&(this.h.h||this.g.fa()||wR(this.g)))){this.I||4!=l||7==e||ku(),dh(this);var n=this.g.aa();this.Y=n;t:if(Zk(this)){var r=wR(this.g);t="";var i=r.length,s=4==Gr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){is(this),Lu(this);var o="";break t}this.h.i=new K.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=200==n,function pY(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.U,l,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Zd(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,Kt(12),is(this),Lu(this);break e}Oo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,LI(this,n)}this.P?(eR(this,l,o),hI&&this.i&&3==l&&(jk(this.S,this.T,"tick",this.hb),this.T.start())):(Oo(this.j,this.m,o,null),LI(this,o)),4==l&&is(this),this.i&&!this.I&&(4==l?AR(this.l,this):(this.i=!1,Fu(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Kt(12)):(this.o=0,Kt(13)),is(this),Lu(this)}}}catch{}},L.hb=function(){if(this.g){var t=Gr(this.g),e=this.g.fa();this.C<e.length&&(dh(this),eR(this,t,e),this.i&&4!=t&&Fu(this))}},L.cancel=function(){this.I=!0,is(this)},L.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(function gY(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(ku(),Kt(17)),is(this),this.o=2,Lu(this)):tR(this,this.V-t)};var rR=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ss(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ss){this.h=void 0!==e?e:t.h,hh(this,t.j),this.s=t.s,this.g=t.g,fh(this,t.m),this.l=t.l,e=t.i;var n=new Uu;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),iR(this,n),this.o=t.o}else t&&(n=String(t).match(rR))?(this.h=!!e,hh(this,n[1]||"",!0),this.s=Vu(n[2]||""),this.g=Vu(n[3]||"",!0),fh(this,n[4]),this.l=Vu(n[5]||"",!0),iR(this,n[6]||"",!0),this.o=Vu(n[7]||"")):(this.h=!!e,this.i=new Uu(null,this.h))}function Hr(t){return new ss(t)}function hh(t,e,n){t.j=n?Vu(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function fh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function iR(t,e,n){e instanceof Uu?(t.i=e,function SY(t,e){e&&!t.j&&(ui(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(oR(this,r),uR(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Bu(e,TY)),t.i=new Uu(e,t.h))}function Me(t,e,n){t.i.set(e,n)}function ph(t){return Me(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Vu(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Bu(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,EY),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function EY(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ss.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Bu(e,sR,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Bu(e,sR,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Bu(n,"/"==n.charAt(0)?bY:DY,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Bu(n,CY)),t.join("")};var sR=/[#\/\?@]/g,DY=/[#\?:]/g,bY=/[#\?]/g,TY=/[#\?@]/g,CY=/#/g;function Uu(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ui(t){t.g||(t.g=new Map,t.h=0,t.i&&function IY(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function oR(t,e){ui(t),e=Fo(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function aR(t,e){return ui(t),e=Fo(t,e),t.g.has(e)}function uR(t,e,n){oR(t,e),0<n.length&&(t.i=null,t.g.set(Fo(t,e),cI(n)),t.h+=n.length)}function Fo(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function cR(t){this.l=t||xY,t=K.PerformanceNavigationTiming?0<(t=K.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(K.g&&K.g.Ga&&K.g.Ga()&&K.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(L=Uu.prototype).add=function(t,e){ui(this),this.i=null,t=Fo(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},L.forEach=function(t,e){ui(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},L.oa=function(){ui(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},L.W=function(t){ui(this);let e=[];if("string"==typeof t)aR(this,t)&&(e=e.concat(this.g.get(Fo(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},L.set=function(t,e){return ui(this),this.i=null,aR(this,t=Fo(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},L.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},L.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var xY=10;function lR(t){return!!t.h||!!t.g&&t.g.size>=t.j}function dR(t){return t.h?1:t.g?t.g.size:0}function VI(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function BI(t,e){t.g?t.g.add(e):t.h=e}function hR(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function fR(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return cI(t.i)}function UI(){}function MY(){this.g=new UI}function NY(t,e,n){const r=n||"";try{nR(t,function(i,s){let o=i;Au(i)&&(o=CI(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function gh(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function $u(t){this.l=t.ac||null,this.j=t.jb||!1}function mh(t,e){dt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=$I,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}cR.prototype.cancel=function(){if(this.i=fR(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},UI.prototype.stringify=function(t){return K.JSON.stringify(t,void 0)},UI.prototype.parse=function(t){return K.JSON.parse(t,void 0)},Dt($u,NI),$u.prototype.g=function(){return new mh(this.l,this.j)},$u.prototype.i=function(t){return function(){return t}}({}),Dt(mh,dt);var $I=0;function pR(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}function ju(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Hu(t)}function Hu(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(L=mh.prototype).open=function(t,e){if(this.readyState!=$I)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Hu(this)},L.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||K).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},L.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ju(this)),this.readyState=$I},L.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Hu(this)),this.g&&(this.readyState=3,Hu(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof K.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;pR(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))},L.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ju(this):Hu(this),3==this.readyState&&pR(this)}},L.Va=function(t){this.g&&(this.response=this.responseText=t,ju(this))},L.Ua=function(t){this.g&&(this.response=t,ju(this))},L.ga=function(){this.g&&ju(this)},L.setRequestHeader=function(t,e){this.v.append(t,e)},L.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},L.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(mh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var RY=K.JSON.parse;function Be(t){dt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=gR,this.K=this.L=!1}Dt(Be,dt);var gR="",PY=/^https?$/i,OY=["POST","PUT"];function mR(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,yR(t),yh(t)}function yR(t){t.D||(t.D=!0,bt(t,"complete"),bt(t,"error"))}function _R(t){if(t.h&&typeof aI<"u"&&(!t.C[1]||4!=Gr(t)||2!=t.aa()))if(t.v&&4==Gr(t))MI(t.Ha,0,t);else if(bt(t,"readystatechange"),4==Gr(t)){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===a){var i=String(t.H).match(rR)[1]||null;if(!i&&K.self&&K.self.location){var s=K.self.location.protocol;i=s.substr(0,s.length-1)}r=!PY.test(i?i.toLowerCase():"")}n=r}if(n)bt(t,"complete"),bt(t,"success");else{t.m=6;try{var o=2<Gr(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",yR(t)}}finally{yh(t)}}}function yh(t,e){if(t.g){vR(t);const n=t.g,r=t.C[0]?Yd:null;t.g=null,t.C=null,e||bt(t,"ready");try{n.onreadystatechange=r}catch{}}}function vR(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(K.clearTimeout(t.A),t.A=null)}function Gr(t){return t.g?t.g.readyState:0}function wR(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case gR:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function IR(t){let e="";return yI(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function jI(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=IR(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Me(t,e,n))}function Gu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function ER(t){this.Ca=0,this.i=[],this.j=new oh,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Gu("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Gu("baseRetryDelayMs",5e3,t),this.bb=Gu("retryDelaySeedMs",1e4,t),this.$a=Gu("forwardChannelMaxRetries",2,t),this.ta=Gu("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new cR(t&&t.concurrentRequestLimit),this.Fa=new MY,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function HI(t){if(DR(t),3==t.G){var e=t.U++,n=Hr(t.F);Me(n,"SID",t.I),Me(n,"RID",e),Me(n,"TYPE","terminate"),qu(t,n),(e=new Ou(t,t.j,e,void 0)).K=2,e.v=ph(Hr(n)),n=!1,K.navigator&&K.navigator.sendBeacon&&(n=K.navigator.sendBeacon(e.v.toString(),"")),!n&&K.Image&&((new Image).src=e.v,n=!0),n||(e.g=kR(e.l,null),e.g.da(e.v)),e.F=Date.now(),Fu(e)}MR(t)}function _h(t){t.g&&(qI(t),t.g.cancel(),t.g=null)}function DR(t){_h(t),t.u&&(K.clearTimeout(t.u),t.u=null),wh(t),t.h.cancel(),t.m&&("number"==typeof t.m&&K.clearTimeout(t.m),t.m=null)}function vh(t){lR(t.h)||t.m||(t.m=!0,Vk(t.Ja,t),t.C=0)}function bR(t,e){var n;n=e?e.m:t.U++;const r=Hr(t.F);Me(r,"SID",t.I),Me(r,"RID",n),Me(r,"AID",t.T),qu(t,r),t.o&&t.s&&jI(r,t.o,t.s),n=new Ou(t,t.j,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=TR(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),BI(t.h,n),FI(n,r,e)}function qu(t,e){t.ia&&yI(t.ia,function(n,r){Me(e,r,n)}),t.l&&nR({},function(n,r){Me(e,r,n)})}function TR(t,e,n){n=Math.min(t.i.length,n);var r=t.l?Ft(t.l.Ra,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].h;const l=i[u].g;if(c-=s,0>c)s=Math.max(0,i[u].h-100),a=!1;else try{NY(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function CR(t){t.g||t.u||(t.Z=1,Vk(t.Ia,t),t.A=0)}function GI(t){return!(t.g||t.u||3<=t.A||(t.Z++,t.u=Ru(Ft(t.Ia,t),xR(t,t.A)),t.A++,0))}function qI(t){null!=t.B&&(K.clearTimeout(t.B),t.B=null)}function SR(t){t.g=new Ou(t,t.j,"rpc",t.Z),null===t.o&&(t.g.H=t.s),t.g.N=0;var e=Hr(t.sa);Me(e,"RID","rpc"),Me(e,"SID",t.I),Me(e,"CI",t.L?"0":"1"),Me(e,"AID",t.T),Me(e,"TYPE","xmlhttp"),qu(t,e),t.o&&t.s&&jI(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=ph(Hr(e)),n.s=null,n.P=!0,Jk(n,t)}function wh(t){null!=t.v&&(K.clearTimeout(t.v),t.v=null)}function AR(t,e){var n=null;if(t.g==e){wh(t),qI(t),t.g=null;var r=2}else{if(!VI(t.h,e))return;n=e.D,hR(t.h,e),r=1}if(0!=t.G)if(t.pa=e.Y,e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;bt(r=ah(),new Wk(r,n)),vh(t)}else CR(t);else if(3==(i=e.o)||0==i&&0<t.pa||!(1==r&&function LY(t,e){return!(dR(t.h)>=t.h.j-(t.m?1:0)||(t.m?(t.i=e.D.concat(t.i),0):1==t.G||2==t.G||t.C>=(t.Za?0:t.$a)||(t.m=Ru(Ft(t.Ja,t,e),xR(t,t.C)),t.C++,0)))}(t,e)||2==r&&GI(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:os(t,5);break;case 4:os(t,10);break;case 3:os(t,6);break;default:os(t,2)}}function xR(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function os(t,e){if(t.j.info("Error code "+e),2==e){var n=null;t.l&&(n=null);var r=Ft(t.kb,t);n||(n=new ss("//www.google.com/images/cleardot.gif"),K.location&&"http"==K.location.protocol||hh(n,"https"),ph(n)),function kY(t,e){const n=new oh;if(K.Image){const r=new Image;r.onload=Jd(gh,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Jd(gh,n,r,"TestLoadImage: error",!1,e),r.onabort=Jd(gh,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Jd(gh,n,r,"TestLoadImage: timeout",!1,e),K.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Kt(2);t.G=0,t.l&&t.l.va(e),MR(t),DR(t)}function MR(t){if(t.G=0,t.la=[],t.l){const e=fR(t.h);(0!=e.length||0!=t.i.length)&&(Dk(t.la,e),Dk(t.la,t.i),t.h.i.length=0,cI(t.i),t.i.length=0),t.l.ua()}}function NR(t,e,n){var r=n instanceof ss?Hr(n):new ss(n,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),fh(r,r.m);else{var i=K.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new ss(null,void 0);r&&hh(s,r),e&&(s.g=e),i&&fh(s,i),n&&(s.l=n),r=s}return e=t.za,(n=t.D)&&e&&Me(r,n,e),Me(r,"VER",t.ma),qu(t,r),r}function kR(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Be(n&&t.Da&&!t.ra?new $u({jb:!0}):t.ra)).Ka(t.H),e}function RR(){}function Ih(){if(Po&&!(10<=Number(eY)))throw Error("Environmental error: no available transport.")}function vn(t,e){dt.call(this),this.g=new ER(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!Zd(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Zd(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Lo(this)}function PR(t){kI.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function OR(){RI.call(this),this.status=1}function Lo(t){this.g=t}(L=Be.prototype).Ka=function(t){this.L=t},L.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():PI.g(),this.C=function Qk(t){return t.h||(t.h=t.i())}(this.u?this.u:PI),this.g.onreadystatechange=Ft(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){return void mR(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=K.FormData&&t instanceof K.FormData,!(0<=Ek(OY,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{vR(this),0<this.B&&((this.K=function FY(t){return Po&&function ZQ(){return function QQ(t){var e=JQ;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}(function(){let t=0;const e=bk(String(th)).split("."),n=bk("9").split("."),r=Math.max(e.length,n.length);for(let o=0;0==t&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;t=lI(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||lI(0==i[2].length,0==s[2].length)||lI(i[2],s[2]),i=i[3],s=s[3]}while(0==t)}return 0<=t})}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ft(this.qa,this)):this.A=MI(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){mR(this,s)}},L.qa=function(){typeof aI<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,bt(this,"timeout"),this.abort(8))},L.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,bt(this,"complete"),bt(this,"abort"),yh(this))},L.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),yh(this,!0)),Be.X.M.call(this)},L.Ha=function(){this.s||(this.F||this.v||this.l?_R(this):this.fb())},L.fb=function(){_R(this)},L.aa=function(){try{return 2<Gr(this)?this.g.status:-1}catch{return-1}},L.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},L.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),RY(e)}},L.Ea=function(){return this.m},L.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(L=ER.prototype).ma=8,L.G=1,L.Ja=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new Ou(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=xk(s),Nk(s,this.S)):s=this.S),null!==this.o||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=TR(this,i,e),Me(n=Hr(this.F),"RID",t),Me(n,"CVER",22),this.D&&Me(n,"X-HTTP-Session-Id",this.D),qu(this,n),s&&(this.N?e="headers="+encodeURIComponent(String(IR(s)))+"&"+e:this.o&&jI(n,this.o,s)),BI(this.h,i),this.Ya&&Me(n,"TYPE","init"),this.O?(Me(n,"$req",e),Me(n,"SID","null"),i.Z=!0,FI(i,n,null)):FI(i,n,e),this.G=2}}else 3==this.G&&(t?bR(this,t):0==this.i.length||lR(this.h)||bR(this))},L.Ia=function(){if(this.u=null,SR(this),this.$&&!(this.K||null==this.g||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=Ru(Ft(this.eb,this),t)}},L.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Kt(10),_h(this),SR(this))},L.cb=function(){null!=this.v&&(this.v=null,_h(this),GI(this),Kt(19))},L.kb=function(t){t?(this.j.info("Successfully pinged google.com"),Kt(2)):(this.j.info("Failed to ping google.com"),Kt(1))},(L=RR.prototype).xa=function(){},L.wa=function(){},L.va=function(){},L.ua=function(){},L.Ra=function(){},Ih.prototype.g=function(t,e){return new vn(t,e)},Dt(vn,dt),vn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;Kt(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=NR(t,null,t.V),vh(t)},vn.prototype.close=function(){HI(this.g)},vn.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=CI(t),t=n);e.i.push(new class{constructor(t,e){this.h=t,this.g=e}}(e.ab++,t)),3==e.G&&vh(e)},vn.prototype.M=function(){this.g.l=null,delete this.j,HI(this.g),delete this.g,vn.X.M.call(this)},Dt(PR,kI),Dt(OR,RI),Dt(Lo,RR),Lo.prototype.xa=function(){bt(this.g,"a")},Lo.prototype.wa=function(t){bt(this.g,new PR(t))},Lo.prototype.va=function(t){bt(this.g,new OR)},Lo.prototype.ua=function(){bt(this.g,"b")},Ih.prototype.createWebChannel=Ih.prototype.g,vn.prototype.send=vn.prototype.u,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,uh.NO_ERROR=0,uh.TIMEOUT=8,uh.HTTP_ERROR=6,Kk.COMPLETE="complete",Yk.EventType=Pu,Pu.OPEN="a",Pu.CLOSE="b",Pu.ERROR="c",Pu.MESSAGE="d",dt.prototype.listen=dt.prototype.N,Be.prototype.listenOnce=Be.prototype.O,Be.prototype.getLastError=Be.prototype.Oa,Be.prototype.getLastErrorCode=Be.prototype.Ea,Be.prototype.getStatus=Be.prototype.aa,Be.prototype.getResponseJson=Be.prototype.Sa,Be.prototype.getResponseText=Be.prototype.fa,Be.prototype.send=Be.prototype.da,Be.prototype.setWithCredentials=Be.prototype.Ka;var VY=jr.createWebChannelTransport=function(){return new Ih},BY=jr.getStatEventTarget=function(){return ah()},zI=jr.ErrorCode=uh,UY=jr.EventType=Kk,$Y=jr.Event=rs,FR=jr.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},jY=jr.FetchXmlHttpFactory=$u,Eh=jr.WebChannel=Yk,HY=jr.XhrIo=Be;const LR="@firebase/firestore";class ht{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ht.UNAUTHENTICATED=new ht(null),ht.GOOGLE_CREDENTIALS=new ht("google-credentials-uid"),ht.FIRST_PARTY=new ht("first-party-uid"),ht.MOCK_USER=new ht("mock-user");let Vo="9.18.0";const ci=new Eo("@firebase/firestore");function WI(){return ci.logLevel}function b(t,...e){if(ci.logLevel<=le.DEBUG){const n=e.map(KI);ci.debug(`Firestore (${Vo}): ${t}`,...n)}}function qe(t,...e){if(ci.logLevel<=le.ERROR){const n=e.map(KI);ci.error(`Firestore (${Vo}): ${t}`,...n)}}function Bo(t,...e){if(ci.logLevel<=le.WARN){const n=e.map(KI);ci.warn(`Firestore (${Vo}): ${t}`,...n)}}function KI(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function F(t="Unexpected state"){const e=`FIRESTORE (${Vo}) INTERNAL ASSERTION FAILED: `+t;throw qe(e),new Error(e)}function V(t,e){t||F()}function x(t,e){return t}const w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class D extends Mn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class at{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class VR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class GY{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ht.UNAUTHENTICATED))}shutdown(){}}class qY{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class zY{constructor(e){this.t=e,this.currentUser=ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new at;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new at,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(g(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{b("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(b("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new at)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(b("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(V("string"==typeof r.accessToken),new VR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return V(null===e||"string"==typeof e),new ht(e)}}class WY{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=ht.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(V(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class KY{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i}getToken(){return Promise.resolve(new WY(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class BR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class QY{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const r=s=>{null!=s.error&&b("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,b("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{b("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):b("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(V("string"==typeof n.token),this.A=n.token,new BR(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function YY(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class UR{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=YY(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Q(t,e){return t<e?-1:t>e?1:0}function Uo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Oe{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new D(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new D(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new D(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new D(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Oe.fromMillis(Date.now())}static fromDate(e){return Oe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Oe(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Q(this.nanoseconds,e.nanoseconds):Q(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class U{constructor(e){this.timestamp=e}static fromTimestamp(e){return new U(e)}static min(){return new U(new Oe(0,0))}static max(){return new U(new Oe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class zu{constructor(e,n,r){void 0===n?n=0:n>e.length&&F(),void 0===r?r=e.length-n:r>e.length-n&&F(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===zu.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof zu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class de extends zu{construct(e,n,r){return new de(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new D(w.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new de(n)}static emptyPath(){return new de([])}}const XY=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ze extends zu{construct(e,n,r){return new ze(e,n,r)}static isValidIdentifier(e){return XY.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ze.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ze(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new D(w.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new D(w.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new D(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new D(w.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ze(n)}static emptyPath(){return new ze([])}}class A{constructor(e){this.path=e}static fromPath(e){return new A(de.fromString(e))}static fromName(e){return new A(de.fromString(e).popFirst(5))}static empty(){return new A(de.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===de.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return de.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new A(new de(e.slice()))}}function HR(t){return new wn(t.readTime,t.key,-1)}class wn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new wn(U.min(),A.empty(),-1)}static max(){return new wn(U.max(),A.empty(),-1)}}function YI(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=A.comparator(t.documentKey,e.documentKey),0!==n?n:Q(t.largestBatchId,e.largestBatchId))}const GR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eX{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function li(t){return XI.apply(this,arguments)}function XI(){return XI=g(function*(t){if(t.code!==w.FAILED_PRECONDITION||t.message!==GR)throw t;b("LocalStore","Unexpectedly lost primary lease")}),XI.apply(this,arguments)}class v{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&F(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new v((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof v?n:v.resolve(n)}catch(n){return v.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):v.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):v.reject(n)}static resolve(e){return new v((n,r)=>{n(e)})}static reject(e){return new v((n,r)=>{r(e)})}static waitFor(e){return new v((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=v.resolve(!1);for(const r of e)n=n.next(i=>i?v.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new v((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new v((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function di(t){return"IndexedDbTransactionError"===t.name}let In=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>r.writeSequenceNumber(i))}ut(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ct&&this.ct(n),n}}return t.at=-1,t})();class aX{constructor(e,n,r,i,s,o,a,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class cs{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new cs("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof cs&&e.projectId===this.projectId&&e.database===this.database}}function zR(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ls(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function WR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Qu(t){return null==t}function Yu(t){return 0===t&&1/t==-1/0}class uX extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ut{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw i instanceof DOMException?new uX("Invalid base64 string: "+i):i}}(e);return new ut(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new ut(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Q(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ut.EMPTY_BYTE_STRING=new ut("");const cX=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hi(t){if(V(!!t),"string"==typeof t){let e=0;const n=cX.exec(t);if(V(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ue(t.seconds),nanos:Ue(t.nanos)}}function Ue(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ds(t){return"string"==typeof t?ut.fromBase64String(t):ut.fromUint8Array(t)}function eE(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function QR(t){const e=t.mapValue.fields.__previous_value__;return eE(e)?QR(e):e}function Xu(t){const e=hi(t.mapValue.fields.__local_write_time__.timestampValue);return new Oe(e.seconds,e.nanos)}const fi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function hs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?eE(t)?4:ZR(t)?9007199254740991:10:F()}function ar(t,e){if(t===e)return!0;const n=hs(t);if(n!==hs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xu(t).isEqual(Xu(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=hi(r.timestampValue),o=hi(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,ds(t.bytesValue).isEqual(ds(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Ue(r.geoPointValue.latitude)===Ue(i.geoPointValue.latitude)&&Ue(r.geoPointValue.longitude)===Ue(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ue(r.integerValue)===Ue(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Ue(r.doubleValue),o=Ue(i.doubleValue);return s===o?Yu(s)===Yu(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Uo(t.arrayValue.values||[],e.arrayValue.values||[],ar);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(zR(s)!==zR(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!ar(s[a],o[a])))return!1;return!0}(t,e);default:return F()}var i}function Ju(t,e){return void 0!==(t.values||[]).find(n=>ar(n,e))}function pi(t,e){if(t===e)return 0;const n=hs(t),r=hs(e);if(n!==r)return Q(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Q(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Ue(i.integerValue||i.doubleValue),a=Ue(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return YR(t.timestampValue,e.timestampValue);case 4:return YR(Xu(t),Xu(e));case 5:return Q(t.stringValue,e.stringValue);case 6:return function(i,s){const o=ds(i),a=ds(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=Q(o[u],a[u]);if(0!==c)return c}return Q(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Q(Ue(i.latitude),Ue(s.latitude));return 0!==o?o:Q(Ue(i.longitude),Ue(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=pi(o[u],a[u]);if(c)return c}return Q(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===fi.mapValue&&s===fi.mapValue)return 0;if(i===fi.mapValue)return 1;if(s===fi.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=Q(a[l],c[l]);if(0!==d)return d;const h=pi(o[a[l]],u[c[l]]);if(0!==h)return h}return Q(a.length,c.length)}(t.mapValue,e.mapValue);default:throw F()}}function YR(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Q(t,e);const n=hi(t),r=hi(e),i=Q(n.seconds,r.seconds);return 0!==i?i:Q(n.nanos,r.nanos)}function $o(t){return tE(t)}function tE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=hi(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ds(t.bytesValue).toBase64():"referenceValue"in t?A.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=tE(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${tE(r.fields[a])}`;return s+"}"}(t.mapValue):F();var e}function nE(t){return!!t&&"integerValue"in t}function Zu(t){return!!t&&"arrayValue"in t}function XR(t){return!!t&&"nullValue"in t}function JR(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Sh(t){return!!t&&"mapValue"in t}function ec(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ls(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ec(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ec(t.arrayValue.values[n]);return e}return Object.assign({},t)}function ZR(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class gi{constructor(e,n){this.position=e,this.inclusive=n}}function nP(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?A.comparator(A.fromName(o.referenceValue),n.key):pi(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function rP(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ar(t.position[n],e.position[n]))return!1;return!0}class iP{}class se extends iP{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new hX(e,n,r):"array-contains"===n?new gX(e,r):"in"===n?new lP(e,r):"not-in"===n?new mX(e,r):"array-contains-any"===n?new yX(e,r):new se(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new fX(e,r):new pX(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(pi(n,this.value)):null!==n&&hs(this.value)===hs(n)&&this.matchesComparison(pi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return F()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class _e extends iP{constructor(e,n){super(),this.filters=e,this.op=n,this.ft=null}static create(e,n){return new _e(e,n)}matches(e){return jo(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ft||(this.ft=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ft}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.dt(n=>n.isInequality());return null!==e?e.field:null}dt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function jo(t){return"and"===t.op}function iE(t){return function sP(t){for(const e of t.filters)if(e instanceof _e)return!1;return!0}(t)&&jo(t)}function sE(t){if(t instanceof se)return t.field.canonicalString()+t.op.toString()+$o(t.value);if(iE(t))return t.filters.map(e=>sE(e)).join(",");{const e=t.filters.map(n=>sE(n)).join(",");return`${t.op}(${e})`}}function oP(t,e){return t instanceof se?(n=t,(r=e)instanceof se&&n.op===r.op&&n.field.isEqual(r.field)&&ar(n.value,r.value)):t instanceof _e?function(n,r){return r instanceof _e&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&oP(s,r.filters[o]),!0)}(t,e):void F();var n,r}function uP(t){return t instanceof se?`${(e=t).field.canonicalString()} ${e.op} ${$o(e.value)}`:t instanceof _e?function(e){return e.op.toString()+" {"+e.getFilters().map(uP).join(" ,")+"}"}(t):"Filter";var e}class hX extends se{constructor(e,n,r){super(e,n,r),this.key=A.fromName(r.referenceValue)}matches(e){const n=A.comparator(e.key,this.key);return this.matchesComparison(n)}}class fX extends se{constructor(e,n){super(e,"in",n),this.keys=cP(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class pX extends se{constructor(e,n){super(e,"not-in",n),this.keys=cP(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function cP(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>A.fromName(r.referenceValue))}class gX extends se{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Zu(n)&&Ju(n.arrayValue,this.value)}}class lP extends se{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Ju(this.value.arrayValue,n)}}class mX extends se{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ju(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Ju(this.value.arrayValue,n)}}class yX extends se{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Zu(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ju(this.value.arrayValue,r))}}class Ho{constructor(e,n="asc"){this.field=e,this.dir=n}}function _X(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class $e{constructor(e,n){this.comparator=e,this.root=n||Tt.EMPTY}insert(e,n){return new $e(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Tt.BLACK,null,null))}remove(e){return new $e(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ah(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ah(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ah(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ah(this.root,e,this.comparator,!0)}}class Ah{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Tt.RED,this.left=i??Tt.EMPTY,this.right=s??Tt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Tt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Tt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Tt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw F();const e=this.left.check();if(e!==this.right.check())throw F();return e+(this.isRed()?0:1)}}Tt.EMPTY=null,Tt.RED=!0,Tt.BLACK=!1,Tt.EMPTY=new class{constructor(){this.size=0}get key(){throw F()}get value(){throw F()}get color(){throw F()}get left(){throw F()}get right(){throw F()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Tt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ve{constructor(e){this.comparator=e,this.data=new $e(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new dP(this.data.getIterator())}getIteratorFrom(e){return new dP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ve)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ve(this.comparator);return n.data=e,n}}class dP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class an{constructor(e){this.fields=e,e.sort(ze.comparator)}static empty(){return new an([])}unionWith(e){let n=new ve(ze.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new an(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Uo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class ft{constructor(e){this.value=e}static empty(){return new ft({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Sh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ec(n)}setAll(e){let n=ze.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ec(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Sh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ar(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Sh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ls(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new ft(ec(this.value))}}function hP(t){const e=[];return ls(t.fields,(n,r)=>{const i=new ze([n]);if(Sh(r)){const s=hP(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new an(e)}class Se{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Se(e,0,U.min(),U.min(),U.min(),ft.empty(),0)}static newFoundDocument(e,n,r,i){return new Se(e,1,n,U.min(),r,i,0)}static newNoDocument(e,n){return new Se(e,2,n,U.min(),U.min(),ft.empty(),0)}static newUnknownDocument(e,n){return new Se(e,3,n,U.min(),U.min(),ft.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(U.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ft.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ft.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=U.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Se&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Se(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class vX{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this._t=null}}function oE(t,e=null,n=[],r=[],i=null,s=null,o=null){return new vX(t,e,n,r,i,s,o)}function ps(t){const e=x(t);if(null===e._t){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>sE(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Qu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>$o(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>$o(r)).join(",")),e._t=n}return e._t}function tc(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!_X(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!oP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!rP(t.startAt,e.startAt)&&rP(t.endAt,e.endAt)}function xh(t){return A.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class qr{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.wt=null,this.gt=null}}function qo(t){return new qr(t)}function mP(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function gs(t){const e=x(t);if(null===e.wt){e.wt=[];const n=function Nh(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}(e),r=function aE(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new Ho(n)),e.wt.push(new Ho(ze.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Ho(ze.keyField(),s))}}}return e.wt}function Qt(t){const e=x(t);if(!e.gt)if("F"===e.limitType)e.gt=oE(e.path,e.collectionGroup,gs(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of gs(e))n.push(new Ho(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new gi(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new gi(e.startAt.position,e.startAt.inclusive):null;e.gt=oE(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.gt}function kh(t,e,n){return new qr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function nc(t,e){return tc(Qt(t),Qt(e))&&t.limitType===e.limitType}function yP(t){return`${ps(Qt(t))}|lt:${t.limitType}`}function lE(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>uP(r)).join(", ")}]`),Qu(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>$o(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>$o(r)).join(",")),`Target(${n})`}(Qt(t))}; limitType=${t.limitType})`}function rc(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):A.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of gs(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=nP(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,gs(n),r)||n.endAt&&!function(i,s,o){const a=nP(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,gs(n),r)));var n,r}function vP(t){return(e,n)=>{let r=!1;for(const i of gs(t)){const s=wX(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function wX(t,e,n){const r=t.field.isKeyField()?A.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?pi(a,u):F()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return F()}}function wP(t,e){if(t.yt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yu(e)?"-0":e}}function IP(t){return{integerValue:""+t}}function EP(t,e){return function KR(t){return"number"==typeof t&&Number.isInteger(t)&&!Yu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?IP(e):wP(t,e)}class Rh{constructor(){this._=void 0}}function IX(t,e,n){return t instanceof zo?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof ms?bP(t,e):t instanceof ys?TP(t,e):function(r,i){const s=DP(r,i),o=CP(s)+CP(r.It);return nE(s)&&nE(r.It)?IP(o):wP(r.Tt,o)}(t,e)}function EX(t,e,n){return t instanceof ms?bP(t,e):t instanceof ys?TP(t,e):n}function DP(t,e){return t instanceof Wo?nE(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class zo extends Rh{}class ms extends Rh{constructor(e){super(),this.elements=e}}function bP(t,e){const n=SP(e);for(const r of t.elements)n.some(i=>ar(i,r))||n.push(r);return{arrayValue:{values:n}}}class ys extends Rh{constructor(e){super(),this.elements=e}}function TP(t,e){let n=SP(e);for(const r of t.elements)n=n.filter(i=>!ar(i,r));return{arrayValue:{values:n}}}class Wo extends Rh{constructor(e,n){super(),this.Tt=e,this.It=n}}function CP(t){return Ue(t.integerValue||t.doubleValue)}function SP(t){return Zu(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class bX{constructor(e,n){this.version=e,this.transformResults=n}}class Ne{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ne}static exists(e){return new Ne(void 0,e)}static updateTime(e){return new Ne(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ph(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Oh{}function AP(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Qo(t.key,Ne.none()):new Ko(t.key,t.data,Ne.none());{const n=t.data,r=ft.empty();let i=new ve(ze.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new zr(t.key,r,new an(i.toArray()),Ne.none())}}function TX(t,e,n){t instanceof Ko?function(r,i,s){const o=r.value.clone(),a=NP(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof zr?function(r,i,s){if(!Ph(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=NP(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(MP(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function sc(t,e,n,r){return t instanceof Ko?function(i,s,o,a){if(!Ph(i.precondition,s))return o;const u=i.value.clone(),c=kP(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof zr?function(i,s,o,a){if(!Ph(i.precondition,s))return o;const u=kP(i.fieldTransforms,a,s),c=s.data;return c.setAll(MP(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,Ph(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function CX(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=DP(r.transform,i||null);null!=s&&(null===n&&(n=ft.empty()),n.set(r.field,s))}return n||null}function xP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&Uo(n,r,(i,s)=>function DX(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof ms&&r instanceof ms||n instanceof ys&&r instanceof ys?Uo(n.elements,r.elements,ar):n instanceof Wo&&r instanceof Wo?ar(n.It,r.It):n instanceof zo&&r instanceof zo);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class Ko extends Oh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class zr extends Oh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function MP(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function NP(t,e,n){const r=new Map;V(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,EX(o,a,n[i]))}return r}function kP(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,IX(s,o,e))}return r}class Qo extends Oh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dE extends Oh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class SX{constructor(e){this.count=e}}var Ze,he;function PP(t){if(void 0===t)return qe("GRPC error has no .code"),w.UNKNOWN;switch(t){case Ze.OK:return w.OK;case Ze.CANCELLED:return w.CANCELLED;case Ze.UNKNOWN:return w.UNKNOWN;case Ze.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case Ze.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case Ze.INTERNAL:return w.INTERNAL;case Ze.UNAVAILABLE:return w.UNAVAILABLE;case Ze.UNAUTHENTICATED:return w.UNAUTHENTICATED;case Ze.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case Ze.NOT_FOUND:return w.NOT_FOUND;case Ze.ALREADY_EXISTS:return w.ALREADY_EXISTS;case Ze.PERMISSION_DENIED:return w.PERMISSION_DENIED;case Ze.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case Ze.ABORTED:return w.ABORTED;case Ze.OUT_OF_RANGE:return w.OUT_OF_RANGE;case Ze.UNIMPLEMENTED:return w.UNIMPLEMENTED;case Ze.DATA_LOSS:return w.DATA_LOSS;default:return F()}}(he=Ze||(Ze={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";class mi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ls(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return WR(this.inner)}size(){return this.innerSize}}const AX=new $e(A.comparator);function un(){return AX}const OP=new $e(A.comparator);function oc(...t){let e=OP;for(const n of t)e=e.insert(n.key,n);return e}function FP(t){let e=OP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ur(){return ac()}function LP(){return ac()}function ac(){return new mi(t=>t.toString(),(t,e)=>t.isEqual(e))}const xX=new $e(A.comparator),MX=new ve(A.comparator);function ee(...t){let e=MX;for(const n of t)e=e.add(n);return e}const NX=new ve(Q);function Fh(){return NX}class uc{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,cc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new uc(U.min(),i,Fh(),un(),ee())}}class cc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new cc(r,n,ee(),ee(),ee())}}class Lh{constructor(e,n,r,i){this.Et=e,this.removedTargetIds=n,this.key=r,this.At=i}}class VP{constructor(e,n){this.targetId=e,this.Rt=n}}class BP{constructor(e,n,r=ut.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class UP{constructor(){this.Pt=0,this.vt=jP(),this.bt=ut.EMPTY_BYTE_STRING,this.Vt=!1,this.St=!0}get current(){return this.Vt}get resumeToken(){return this.bt}get Dt(){return 0!==this.Pt}get Ct(){return this.St}xt(e){e.approximateByteSize()>0&&(this.St=!0,this.bt=e)}Nt(){let e=ee(),n=ee(),r=ee();return this.vt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:F()}}),new cc(this.bt,this.Vt,e,n,r)}kt(){this.St=!1,this.vt=jP()}$t(e,n){this.St=!0,this.vt=this.vt.insert(e,n)}Mt(e){this.St=!0,this.vt=this.vt.remove(e)}Ot(){this.Pt+=1}Ft(){this.Pt-=1}Bt(){this.St=!0,this.Vt=!0}}class kX{constructor(e){this.Lt=e,this.qt=new Map,this.Ut=un(),this.Kt=$P(),this.Gt=new ve(Q)}Qt(e){for(const n of e.Et)e.At&&e.At.isFoundDocument()?this.jt(n,e.At):this.zt(n,e.key,e.At);for(const n of e.removedTargetIds)this.zt(n,e.key,e.At)}Wt(e){this.forEachTarget(e,n=>{const r=this.Ht(n);switch(e.state){case 0:this.Jt(n)&&r.xt(e.resumeToken);break;case 1:r.Ft(),r.Dt||r.kt(),r.xt(e.resumeToken);break;case 2:r.Ft(),r.Dt||this.removeTarget(n);break;case 3:this.Jt(n)&&(r.Bt(),r.xt(e.resumeToken));break;case 4:this.Jt(n)&&(this.Yt(n),r.xt(e.resumeToken));break;default:F()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qt.forEach((r,i)=>{this.Jt(i)&&n(i)})}Zt(e){const n=e.targetId,r=e.Rt.count,i=this.Xt(n);if(i){const s=i.target;if(xh(s))if(0===r){const o=new A(s.path);this.zt(n,o,Se.newNoDocument(o,U.min()))}else V(1===r);else this.te(n)!==r&&(this.Yt(n),this.Gt=this.Gt.add(n))}}ee(e){const n=new Map;this.qt.forEach((s,o)=>{const a=this.Xt(o);if(a){if(s.current&&xh(a.target)){const u=new A(a.target.path);null!==this.Ut.get(u)||this.ne(o,u)||this.zt(o,u,Se.newNoDocument(u,e))}s.Ct&&(n.set(o,s.Nt()),s.kt())}});let r=ee();this.Kt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.Xt(u);return!c||2===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.Ut.forEach((s,o)=>o.setReadTime(e));const i=new uc(e,n,this.Gt,this.Ut,r);return this.Ut=un(),this.Kt=$P(),this.Gt=new ve(Q),i}jt(e,n){if(!this.Jt(e))return;const r=this.ne(e,n.key)?2:0;this.Ht(e).$t(n.key,r),this.Ut=this.Ut.insert(n.key,n),this.Kt=this.Kt.insert(n.key,this.se(n.key).add(e))}zt(e,n,r){if(!this.Jt(e))return;const i=this.Ht(e);this.ne(e,n)?i.$t(n,1):i.Mt(n),this.Kt=this.Kt.insert(n,this.se(n).delete(e)),r&&(this.Ut=this.Ut.insert(n,r))}removeTarget(e){this.qt.delete(e)}te(e){const n=this.Ht(e).Nt();return this.Lt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.Ht(e).Ot()}Ht(e){let n=this.qt.get(e);return n||(n=new UP,this.qt.set(e,n)),n}se(e){let n=this.Kt.get(e);return n||(n=new ve(Q),this.Kt=this.Kt.insert(e,n)),n}Jt(e){const n=null!==this.Xt(e);return n||b("WatchChangeAggregator","Detected inactive target",e),n}Xt(e){const n=this.qt.get(e);return n&&n.Dt?null:this.Lt.ie(e)}Yt(e){this.qt.set(e,new UP),this.Lt.getRemoteKeysForTarget(e).forEach(n=>{this.zt(e,n,null)})}ne(e,n){return this.Lt.getRemoteKeysForTarget(e).has(n)}}function $P(){return new $e(A.comparator)}function jP(){return new $e(A.comparator)}const RX={asc:"ASCENDING",desc:"DESCENDING"},PX={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OX={and:"AND",or:"OR"};class FX{constructor(e,n){this.databaseId=e,this.yt=n}}function Yo(t,e){return t.yt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HP(t,e){return t.yt?e.toBase64():e.toUint8Array()}function LX(t,e){return Yo(t,e.toTimestamp())}function We(t){return V(!!t),U.fromTimestamp(function(e){const n=hi(e);return new Oe(n.seconds,n.nanos)}(t))}function hE(t,e){return(n=t,new de(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function GP(t){const e=de.fromString(t);return V(ZP(e)),e}function lc(t,e){return hE(t.databaseId,e.path)}function cr(t,e){const n=GP(e);if(n.get(1)!==t.databaseId.projectId)throw new D(w.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new D(w.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new A(zP(n))}function fE(t,e){return hE(t.databaseId,e)}function dc(t){return new de(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function zP(t){return V(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function WP(t,e,n){return{name:lc(t,e),fields:n.value.mapValue.fields}}function QP(t,e){return{documents:[fE(t,e.path)]}}function gE(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=fE(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=fE(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return JP(_e.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:yi((l=c).field),direction:jX(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=(c=e.limit,t.yt||Qu(c)?c:{value:c});var c,a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function YP(t){let e=function qP(t){const e=GP(t);return 4===e.length?de.emptyPath():zP(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){V(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(l){const d=XP(l);return d instanceof _e&&iE(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new Ho(Xo((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,Qu(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new gi((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new gi(l.values||[],!l.before)}(n.endAt)),function gP(t,e,n,r,i,s,o,a){return new qr(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function XP(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Xo(e.unaryFilter.field);return se.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Xo(e.unaryFilter.field);return se.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Xo(e.unaryFilter.field);return se.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Xo(e.unaryFilter.field);return se.create(s,"!=",{nullValue:"NULL_VALUE"});default:return F()}}(t):void 0!==t.fieldFilter?se.create(Xo((e=t).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return F()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==t.compositeFilter?function(e){return _e.create(e.compositeFilter.filters.map(n=>XP(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return F()}}(e.compositeFilter.op))}(t):F();var e}function jX(t){return RX[t]}function HX(t){return PX[t]}function GX(t){return OX[t]}function yi(t){return{fieldPath:t.canonicalString()}}function Xo(t){return ze.fromServerFormat(t.fieldPath)}function JP(t){return t instanceof se?function(e){if("=="===e.op){if(JR(e.value))return{unaryFilter:{field:yi(e.field),op:"IS_NAN"}};if(XR(e.value))return{unaryFilter:{field:yi(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(JR(e.value))return{unaryFilter:{field:yi(e.field),op:"IS_NOT_NAN"}};if(XR(e.value))return{unaryFilter:{field:yi(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yi(e.field),op:HX(e.op),value:e.value}}}(t):t instanceof _e?function(e){const n=e.getFilters().map(r=>JP(r));return 1===n.length?n[0]:{compositeFilter:{op:GX(e.op),filters:n}}}(t):F()}function qX(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ZP(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class yE{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&TX(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=sc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=sc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=LP();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=AP(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(U.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ee())}isEqual(e){return this.batchId===e.batchId&&Uo(this.mutations,e.mutations,(n,r)=>xP(n,r))&&Uo(this.baseMutations,e.baseMutations,(n,r)=>xP(n,r))}}class _E{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){V(e.mutations.length===r.length);let i=xX;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new _E(e,n,r,i)}}class vE{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class _i{constructor(e,n,r,i,s=U.min(),o=U.min(),a=ut.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new _i(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new _i(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new _i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class oO{constructor(e){this.oe=e}}function wE(t){const e=YP({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?kh(e,e.limit,"L"):e}class Is{constructor(){}ae(e,n){this.he(e,n),n.le()}he(e,n){if("nullValue"in e)this.fe(n,5);else if("booleanValue"in e)this.fe(n,10),n.de(e.booleanValue?1:0);else if("integerValue"in e)this.fe(n,15),n.de(Ue(e.integerValue));else if("doubleValue"in e){const r=Ue(e.doubleValue);isNaN(r)?this.fe(n,13):(this.fe(n,15),Yu(r)?n.de(0):n.de(r))}else if("timestampValue"in e){const r=e.timestampValue;this.fe(n,20),"string"==typeof r?n._e(r):(n._e(`${r.seconds||""}`),n.de(r.nanos||0))}else if("stringValue"in e)this.we(e.stringValue,n),this.me(n);else if("bytesValue"in e)this.fe(n,30),n.ge(ds(e.bytesValue)),this.me(n);else if("referenceValue"in e)this.ye(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.fe(n,45),n.de(r.latitude||0),n.de(r.longitude||0)}else"mapValue"in e?ZR(e)?this.fe(n,Number.MAX_SAFE_INTEGER):(this.pe(e.mapValue,n),this.me(n)):"arrayValue"in e?(this.Ie(e.arrayValue,n),this.me(n)):F()}we(e,n){this.fe(n,25),this.Te(e,n)}Te(e,n){n._e(e)}pe(e,n){const r=e.fields||{};this.fe(n,55);for(const i of Object.keys(r))this.we(i,n),this.he(r[i],n)}Ie(e,n){const r=e.values||[];this.fe(n,50);for(const i of r)this.he(i,n)}ye(e,n){this.fe(n,37),A.fromName(e).path.forEach(r=>{this.fe(n,60),this.Te(r,n)})}fe(e,n){e.de(n)}me(e){e.de(2)}}Is.Ee=new Is;class _J{constructor(){this.Ze=new CE}addToCollectionParentIndex(e,n){return this.Ze.add(n),v.resolve()}getCollectionParents(e,n){return v.resolve(this.Ze.getEntries(n))}addFieldIndex(e,n){return v.resolve()}deleteFieldIndex(e,n){return v.resolve()}getDocumentsMatchingTarget(e,n){return v.resolve(null)}getIndexType(e,n){return v.resolve(0)}getFieldIndexes(e,n){return v.resolve([])}getNextCollectionGroupToUpdate(e){return v.resolve(null)}getMinOffset(e,n){return v.resolve(wn.min())}getMinOffsetFromCollectionGroup(e,n){return v.resolve(wn.min())}updateCollectionGroup(e,n,r){return v.resolve()}updateIndexEntries(e,n){return v.resolve()}}class CE{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ve(de.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ve(de.comparator)).toArray()}}new Uint8Array(0);class cn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(41943040,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);class Ds{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Vn(){return new Ds(0)}static Sn(){return new Ds(-1)}}class TJ{constructor(){this.changes=new mi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Se.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?v.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class AJ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class MO{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&sc(r.mutation,i,an.empty(),Oe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ee()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ee()){const i=ur();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=oc();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ur();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ee()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=un();const o=ac(),a=ac();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof zr)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),sc(l.mutation,c,l.mutation.getFieldMask(),Oe.now())):o.set(c.key,an.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new AJ(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ac();let i=new $e((o,a)=>o-a),s=ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||an.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||ee()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=LP();l.forEach(h=>{if(!s.has(h)){const f=AP(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return v.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return A.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function uE(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):v.resolve(ur());let a=-1,u=s;return o.next(c=>v.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?v.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,ee())).next(l=>({batchId:a,changes:FP(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new A(n)).next(r=>{let i=oc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=oc();return this.indexManager.getCollectionParents(e,i).next(o=>v.forEach(o,a=>{const u=(c=n,l=a.child(i),new qr(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,u)=>{const c=u.getKey();null===s.get(c)&&(s=s.insert(c,Se.newInvalidDocument(c)))});let o=oc();return s.forEach((a,u)=>{const c=i.get(a);void 0!==c&&sc(c.mutation,u,an.empty(),Oe.now()),rc(n,u)&&(o=o.insert(a,u))}),o})}}class xJ{constructor(e){this.Tt=e,this.es=new Map,this.ns=new Map}getBundleMetadata(e,n){return v.resolve(this.es.get(n))}saveBundleMetadata(e,n){var r;return this.es.set(n.id,{id:(r=n).id,version:r.version,createTime:We(r.createTime)}),v.resolve()}getNamedQuery(e,n){return v.resolve(this.ns.get(n))}saveNamedQuery(e,n){return this.ns.set(n.name,{name:(r=n).name,query:wE(r.bundledQuery),readTime:We(r.readTime)}),v.resolve();var r}}class MJ{constructor(){this.overlays=new $e(A.comparator),this.ss=new Map}getOverlay(e,n){return v.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ur();return v.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ce(e,n,s)}),v.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ss.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ss.delete(r)),v.resolve()}getOverlaysForCollection(e,n,r){const i=ur(),s=n.length+1,o=new A(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return v.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new $e((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=ur(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=ur(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return v.resolve(a)}ce(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ss.get(i.largestBatchId).delete(r.key);this.ss.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new vE(n,r));let s=this.ss.get(n);void 0===s&&(s=ee(),this.ss.set(n,s)),this.ss.set(n,s.add(r.key))}}class SE{constructor(){this.rs=new ve(gt.os),this.us=new ve(gt.cs)}isEmpty(){return this.rs.isEmpty()}addReference(e,n){const r=new gt(e,n);this.rs=this.rs.add(r),this.us=this.us.add(r)}hs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ls(new gt(e,n))}fs(e,n){e.forEach(r=>this.removeReference(r,n))}ds(e){const n=new A(new de([])),r=new gt(n,e),i=new gt(n,e+1),s=[];return this.us.forEachInRange([r,i],o=>{this.ls(o),s.push(o.key)}),s}_s(){this.rs.forEach(e=>this.ls(e))}ls(e){this.rs=this.rs.delete(e),this.us=this.us.delete(e)}ws(e){const n=new A(new de([])),r=new gt(n,e),i=new gt(n,e+1);let s=ee();return this.us.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new gt(e,0),r=this.rs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class gt{constructor(e,n){this.key=e,this.gs=n}static os(e,n){return A.comparator(e.key,n.key)||Q(e.gs,n.gs)}static cs(e,n){return Q(e.gs,n.gs)||A.comparator(e.key,n.key)}}class NJ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ys=1,this.ps=new ve(gt.os)}checkEmpty(e){return v.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.ys;this.ys++;const o=new yE(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.ps=this.ps.add(new gt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return v.resolve(o)}lookupMutationBatch(e,n){return v.resolve(this.Is(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.Ts(n+1),s=i<0?0:i;return v.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return v.resolve(0===this.mutationQueue.length?-1:this.ys-1)}getAllMutationBatches(e){return v.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new gt(n,0),i=new gt(n,Number.POSITIVE_INFINITY),s=[];return this.ps.forEachInRange([r,i],o=>{const a=this.Is(o.gs);s.push(a)}),v.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ve(Q);return n.forEach(i=>{const s=new gt(i,0),o=new gt(i,Number.POSITIVE_INFINITY);this.ps.forEachInRange([s,o],a=>{r=r.add(a.gs)})}),v.resolve(this.Es(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;A.isDocumentKey(s)||(s=s.child(""));const o=new gt(new A(s),0);let a=new ve(Q);return this.ps.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.gs)),!0)},o),v.resolve(this.Es(a))}Es(e){const n=[];return e.forEach(r=>{const i=this.Is(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){V(0===this.As(n.batchId,"removed")),this.mutationQueue.shift();let r=this.ps;return v.forEach(n.mutations,i=>{const s=new gt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ps=r})}Pn(e){}containsKey(e,n){const r=new gt(n,0),i=this.ps.firstAfterOrEqual(r);return v.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return v.resolve()}As(e,n){return this.Ts(e)}Ts(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Is(e){const n=this.Ts(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class kJ{constructor(e){this.Rs=e,this.docs=new $e(A.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Rs(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return v.resolve(r?r.document.mutableCopy():Se.newInvalidDocument(n))}getEntries(e,n){let r=un();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Se.newInvalidDocument(i))}),v.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=un();const o=n.path,a=new A(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||YI(HR(l),r)<=0||(i.has(l.key)||rc(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return v.resolve(s)}getAllFromCollectionGroup(e,n,r,i){F()}Ps(e,n){return v.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new RJ(this)}getSize(e){return v.resolve(this.size)}}class RJ extends TJ{constructor(e){super(),this.Xn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Xn.addEntry(e,i)):this.Xn.removeEntry(r)}),v.waitFor(n)}getFromCache(e,n){return this.Xn.getEntry(e,n)}getAllFromCache(e,n){return this.Xn.getEntries(e,n)}}class PJ{constructor(e){this.persistence=e,this.vs=new mi(n=>ps(n),tc),this.lastRemoteSnapshotVersion=U.min(),this.highestTargetId=0,this.bs=0,this.Vs=new SE,this.targetCount=0,this.Ss=Ds.Vn()}forEachTarget(e,n){return this.vs.forEach((r,i)=>n(i)),v.resolve()}getLastRemoteSnapshotVersion(e){return v.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return v.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.Ss.next(),v.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.bs&&(this.bs=n),v.resolve()}xn(e){this.vs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ss=new Ds(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.xn(n),this.targetCount+=1,v.resolve()}updateTargetData(e,n){return this.xn(n),v.resolve()}removeTargetData(e,n){return this.vs.delete(n.target),this.Vs.ds(n.targetId),this.targetCount-=1,v.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.vs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.vs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),v.waitFor(s).next(()=>i)}getTargetCount(e){return v.resolve(this.targetCount)}getTargetData(e,n){const r=this.vs.get(n)||null;return v.resolve(r)}addMatchingKeys(e,n,r){return this.Vs.hs(n,r),v.resolve()}removeMatchingKeys(e,n,r){this.Vs.fs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),v.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Vs.ds(n),v.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Vs.ws(n);return v.resolve(r)}containsKey(e,n){return v.resolve(this.Vs.containsKey(n))}}class NO{constructor(e,n){this.Ds={},this.overlays={},this.Cs=new In(0),this.xs=!1,this.xs=!0,this.referenceDelegate=e(this),this.Ns=new PJ(this),this.indexManager=new _J,this.remoteDocumentCache=new kJ(r=>this.referenceDelegate.ks(r)),this.Tt=new oO(n),this.$s=new xJ(this.Tt)}start(){return Promise.resolve()}shutdown(){return this.xs=!1,Promise.resolve()}get started(){return this.xs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new MJ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Ds[e.toKey()];return r||(r=new NJ(n,this.referenceDelegate),this.Ds[e.toKey()]=r),r}getTargetCache(){return this.Ns}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$s}runTransaction(e,n,r){b("MemoryPersistence","Starting transaction:",e);const i=new OJ(this.Cs.next());return this.referenceDelegate.Ms(),r(i).next(s=>this.referenceDelegate.Os(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Fs(e,n){return v.or(Object.values(this.Ds).map(r=>()=>r.containsKey(e,n)))}}class OJ extends eX{constructor(e){super(),this.currentSequenceNumber=e}}class Wh{constructor(e){this.persistence=e,this.Bs=new SE,this.Ls=null}static qs(e){return new Wh(e)}get Us(){if(this.Ls)return this.Ls;throw F()}addReference(e,n,r){return this.Bs.addReference(r,n),this.Us.delete(r.toString()),v.resolve()}removeReference(e,n,r){return this.Bs.removeReference(r,n),this.Us.add(r.toString()),v.resolve()}markPotentiallyOrphaned(e,n){return this.Us.add(n.toString()),v.resolve()}removeTarget(e,n){this.Bs.ds(n.targetId).forEach(i=>this.Us.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Us.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ms(){this.Ls=new Set}Os(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return v.forEach(this.Us,r=>{const i=A.fromPath(r);return this.Ks(e,i).next(s=>{s||n.removeEntry(i,U.min())})}).next(()=>(this.Ls=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ks(e,n).next(r=>{r?this.Us.delete(n.toString()):this.Us.add(n.toString())})}ks(e){return 0}Ks(e,n){return v.or([()=>v.resolve(this.Bs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Fs(e,n)])}}class NE{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ci=r,this.xi=i}static Ni(e,n){let r=ee(),i=ee();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new NE(e,n.fromCache,r,i)}}class RO{constructor(){this.ki=!1}initialize(e,n){this.$i=e,this.indexManager=n,this.ki=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Mi(e,n).next(s=>s||this.Oi(e,n,i,r)).next(s=>s||this.Fi(e,n))}Mi(e,n){if(mP(n))return v.resolve(null);let r=Qt(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=kh(n,null,"F"),r=Qt(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ee(...s);return this.$i.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Bi(n,a);return this.Li(n,c,o,u.readTime)?this.Mi(e,kh(n,null,"F")):this.qi(e,c,n,u)}))})))}Oi(e,n,r,i){return mP(n)||i.isEqual(U.min())?this.Fi(e,n):this.$i.getDocuments(e,r).next(s=>{const o=this.Bi(n,s);return this.Li(n,o,r,i)?this.Fi(e,n):(WI()<=le.DEBUG&&b("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),lE(n)),this.qi(e,o,n,function jR(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=U.fromTimestamp(1e9===r?new Oe(n+1,0):new Oe(n,r));return new wn(i,A.empty(),e)}(i,-1)))})}Bi(e,n){let r=new ve(vP(e));return n.forEach((i,s)=>{rc(e,s)&&(r=r.add(s))}),r}Li(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Fi(e,n){return WI()<=le.DEBUG&&b("QueryEngine","Using full collection scan to execute query:",lE(n)),this.$i.getDocumentsMatchingQuery(e,n,wn.min())}qi(e,n,r,i){return this.$i.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class LJ{constructor(e,n,r,i){this.persistence=e,this.Ui=n,this.Tt=i,this.Ki=new $e(Q),this.Gi=new mi(s=>ps(s),tc),this.Qi=new Map,this.ji=e.getRemoteDocumentCache(),this.Ns=e.getTargetCache(),this.$s=e.getBundleCache(),this.zi(r)}zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new MO(this.ji,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ji.setIndexManager(this.indexManager),this.Ui.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ki))}}function OO(t,e){return kE.apply(this,arguments)}function kE(){return kE=g(function*(t,e){const n=x(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.zi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=ee();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Wi:c,removedBatchIds:o,addedBatchIds:a}))})})}),kE.apply(this,arguments)}function FO(t){const e=x(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ns.getLastRemoteSnapshotVersion(n))}function UJ(t,e){const n=x(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ta(t,e,n){return RE.apply(this,arguments)}function RE(){return RE=g(function*(t,e,n){const r=x(t),i=r.Ki.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!di(o))throw o;b("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ki=r.Ki.remove(e),r.Gi.delete(i.target)}),RE.apply(this,arguments)}function Qh(t,e,n){const r=x(t);let i=U.min(),s=ee();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=x(a),d=l.Gi.get(c);return void 0!==d?v.resolve(l.Ki.get(d)):l.Ns.getTargetData(u,c)}(r,o,Qt(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ns.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Ui.getDocumentsMatchingQuery(o,e,n?i:U.min(),n?s:ee())).next(a=>(function UO(t,e,n){let r=t.Qi.get(e)||U.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Qi.set(e,r)}(r,function _P(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,Yi:s})))}class VE{constructor(){this.activeTargetIds=Fh()}sr(e){this.activeTargetIds=this.activeTargetIds.add(e)}ir(e){this.activeTargetIds=this.activeTargetIds.delete(e)}nr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class HO{constructor(){this.Ur=new VE,this.Kr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Ur.sr(e),this.Kr[e]||"not-current"}updateQueryState(e,n,r){this.Kr[e]=n}removeLocalQueryTarget(e){this.Ur.ir(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.Kr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new VE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class HJ{Gr(e){}shutdown(){}}class GO{constructor(){this.Qr=()=>this.jr(),this.zr=()=>this.Wr(),this.Hr=[],this.Jr()}Gr(e){this.Hr.push(e)}shutdown(){window.removeEventListener("online",this.Qr),window.removeEventListener("offline",this.zr)}Jr(){window.addEventListener("online",this.Qr),window.addEventListener("offline",this.zr)}jr(){b("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Hr)e(0)}Wr(){b("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Hr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Jh=null;function UE(){return null===Jh?Jh=268435456+Math.round(2147483648*Math.random()):Jh++,"0x"+Jh.toString(16)}const GJ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qJ{constructor(e){this.Yr=e.Yr,this.Zr=e.Zr}Xr(e){this.eo=e}no(e){this.so=e}onMessage(e){this.io=e}close(){this.Zr()}send(e){this.Yr(e)}ro(){this.eo()}oo(e){this.so(e)}uo(e){this.io(e)}}const Vt="WebChannelConnection";class zJ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.co=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get ho(){return!1}lo(e,n,r,i,s){const o=UE(),a=this.fo(e,n);b("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const u={};return this._o(u,i,s),this.wo(e,a,u,r).then(c=>(b("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw Bo("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}mo(e,n,r,i,s,o){return this.lo(e,n,r,i,s)}_o(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Vo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}fo(e,n){return`${this.co}/v1/${n}:${GJ[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}wo(e,n,r,i){const s=UE();return new Promise((o,a)=>{const u=new HY;u.setWithCredentials(!0),u.listenOnce(UY.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case zI.NO_ERROR:const l=u.getResponseJson();b(Vt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case zI.TIMEOUT:b(Vt,`RPC '${e}' ${s} timed out`),a(new D(w.DEADLINE_EXCEEDED,"Request time out"));break;case zI.HTTP_ERROR:const d=u.getStatus();if(b(Vt,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(m){const y=m.toLowerCase().replace(/_/g,"-");return Object.values(w).indexOf(y)>=0?y:w.UNKNOWN}(f.status);a(new D(p,f.message))}else a(new D(w.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new D(w.UNAVAILABLE,"Connection failed."));break;default:F()}}finally{b(Vt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);b(Vt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}yo(e,n,r){const i=UE(),s=[this.co,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=VY(),a=BY(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(u.xmlHttpFactory=new jY({})),this._o(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const c=s.join("");b(Vt,`Creating RPC '${e}' stream ${i}: ${c}`,u);const l=o.createWebChannel(c,u);let d=!1,h=!1;const f=new qJ({Yr:m=>{h?b(Vt,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(d||(b(Vt,`Opening RPC '${e}' stream ${i} transport.`),l.open(),d=!0),b(Vt,`RPC '${e}' stream ${i} sending:`,m),l.send(m))},Zr:()=>l.close()}),p=(m,y,I)=>{m.listen(y,T=>{try{I(T)}catch(_){setTimeout(()=>{throw _},0)}})};return p(l,Eh.EventType.OPEN,()=>{h||b(Vt,`RPC '${e}' stream ${i} transport opened.`)}),p(l,Eh.EventType.CLOSE,()=>{h||(h=!0,b(Vt,`RPC '${e}' stream ${i} transport closed`),f.oo())}),p(l,Eh.EventType.ERROR,m=>{h||(h=!0,Bo(Vt,`RPC '${e}' stream ${i} transport errored:`,m),f.oo(new D(w.UNAVAILABLE,"The operation could not be completed")))}),p(l,Eh.EventType.MESSAGE,m=>{var y;if(!h){const I=m.data[0];V(!!I);const _=I.error||(null===(y=I[0])||void 0===y?void 0:y.error);if(_){b(Vt,`RPC '${e}' stream ${i} received error:`,_);const P=_.status;let B=function(tt){const fr=Ze[tt];if(void 0!==fr)return PP(fr)}(P),$=_.message;void 0===B&&(B=w.INTERNAL,$="Unknown error status: "+P+" with message "+_.message),h=!0,f.oo(new D(B,$)),l.close()}else b(Vt,`RPC '${e}' stream ${i} received:`,I),f.uo(I)}}),p(a,$Y.STAT_EVENT,m=>{m.stat===FR.PROXY?b(Vt,`RPC '${e}' stream ${i} detected buffering proxy`):m.stat===FR.NOPROXY&&b(Vt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{f.ro()},0),f}}function Zh(){return typeof document<"u"?document:null}function Ic(t){return new FX(t,!0)}class $E{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ys=e,this.timerId=n,this.po=r,this.Io=i,this.To=s,this.Eo=0,this.Ao=null,this.Ro=Date.now(),this.reset()}reset(){this.Eo=0}Po(){this.Eo=this.To}vo(e){this.cancel();const n=Math.floor(this.Eo+this.bo()),r=Math.max(0,Date.now()-this.Ro),i=Math.max(0,n-r);i>0&&b("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Eo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Ao=this.Ys.enqueueAfterDelay(this.timerId,i,()=>(this.Ro=Date.now(),e())),this.Eo*=this.Io,this.Eo<this.po&&(this.Eo=this.po),this.Eo>this.To&&(this.Eo=this.To)}Vo(){null!==this.Ao&&(this.Ao.skipDelay(),this.Ao=null)}cancel(){null!==this.Ao&&(this.Ao.cancel(),this.Ao=null)}bo(){return(Math.random()-.5)*this.Eo}}class zO{constructor(e,n,r,i,s,o,a,u){this.Ys=e,this.So=r,this.Do=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Co=0,this.xo=null,this.No=null,this.stream=null,this.ko=new $E(e,n)}$o(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return g(function*(){e.$o()&&(yield e.close(0))})()}Fo(){this.state=0,this.ko.reset()}Bo(){this.Mo()&&null===this.xo&&(this.xo=this.Ys.enqueueAfterDelay(this.So,6e4,()=>this.Lo()))}qo(e){this.Uo(),this.stream.send(e)}Lo(){var e=this;return g(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.xo&&(this.xo.cancel(),this.xo=null)}Ko(){this.No&&(this.No.cancel(),this.No=null)}close(e,n){var r=this;return g(function*(){r.Uo(),r.Ko(),r.ko.cancel(),r.Co++,4!==e?r.ko.reset():n&&n.code===w.RESOURCE_EXHAUSTED?(qe(n.toString()),qe("Using maximum backoff delay to prevent overloading the backend."),r.ko.Po()):n&&n.code===w.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Go(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.no(n)})()}Go(){}auth(){this.state=1;const e=this.Qo(this.Co),n=this.Co;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Co===n&&this.jo(r,i)},r=>{e(()=>{const i=new D(w.UNKNOWN,"Fetching auth token failed: "+r.message);return this.zo(i)})})}jo(e,n){const r=this.Qo(this.Co);this.stream=this.Wo(e,n),this.stream.Xr(()=>{r(()=>(this.state=2,this.No=this.Ys.enqueueAfterDelay(this.Do,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.no(i=>{r(()=>this.zo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.ko.vo(g(function*(){e.state=0,e.start()}))}zo(e){return b("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Qo(e){return n=>{this.Ys.enqueueAndForget(()=>this.Co===e?n():(b("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class WJ extends zO{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.Tt=s}Wo(e,n){return this.connection.yo("Listen",e,n)}onMessage(e){this.ko.reset();const n=function BX(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:F(),i=e.targetChange.targetIds||[],s=function(u,c){return u.yt?(V(void 0===c||"string"==typeof c),ut.fromBase64String(c||"")):(V(void 0===c||c instanceof Uint8Array),ut.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?w.UNKNOWN:PP(u.code);return new D(c,u.message||"")}(o);n=new BP(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=cr(t,r.document.name),s=We(r.document.updateTime),o=r.document.createTime?We(r.document.createTime):U.min(),a=new ft({mapValue:{fields:r.document.fields}}),u=Se.newFoundDocument(i,s,o,a);n=new Lh(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=cr(t,r.document),s=r.readTime?We(r.readTime):U.min(),o=Se.newNoDocument(i,s);n=new Lh([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=cr(t,r.document);n=new Lh([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return F();{const r=e.filter,s=new SX(r.count||0);n=new VP(r.targetId,s)}}var u;return n}(this.Tt,e),r=function(i){if(!("targetChange"in i))return U.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?U.min():s.readTime?We(s.readTime):U.min()}(e);return this.listener.Ho(n,r)}Jo(e){const n={};n.database=dc(this.Tt),n.addTarget=function(i,s){let o;const a=s.target;return o=xh(a)?{documents:QP(i,a)}:{query:gE(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=HP(i,s.resumeToken):s.snapshotVersion.compareTo(U.min())>0&&(o.readTime=Yo(i,s.snapshotVersion.toTimestamp())),o}(this.Tt,e);const r=function $X(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return F()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.qo(n)}Yo(e){const n={};n.database=dc(this.Tt),n.removeTarget=e,this.qo(n)}}class KJ extends zO{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.Tt=s,this.Zo=!1}get Xo(){return this.Zo}start(){this.Zo=!1,this.lastStreamToken=void 0,super.start()}Go(){this.Zo&&this.tu([])}Wo(e,n){return this.connection.yo("Write",e,n)}onMessage(e){if(V(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Zo){this.ko.reset();const n=function UX(t,e){return t&&t.length>0?(V(void 0!==e),t.map(n=>function(r,i){let s=We(r.updateTime?r.updateTime:i);return s.isEqual(U.min())&&(s=We(i)),new bX(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=We(e.commitTime);return this.listener.eu(r,n)}return V(!e.writeResults||0===e.writeResults.length),this.Zo=!0,this.listener.nu()}su(){const e={};e.database=dc(this.Tt),this.qo(e)}tu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function hc(t,e){let n;if(e instanceof Ko)n={update:WP(t,e.key,e.value)};else if(e instanceof Qo)n={delete:lc(t,e.key)};else if(e instanceof zr)n={update:WP(t,e.key,e.data),updateMask:qX(e.fieldMask)};else{if(!(e instanceof dE))return F();n={verify:lc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof zo)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof ms)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof ys)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Wo)return{fieldPath:s.field.canonicalString(),increment:o.It};throw F()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:LX(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:F()),n;var i}(this.Tt,r))};this.qo(n)}}class QJ extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.Tt=i,this.iu=!1}ru(){if(this.iu)throw new D(w.FAILED_PRECONDITION,"The client has already been terminated.")}lo(e,n,r){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.lo(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new D(w.UNKNOWN,i.toString())})}mo(e,n,r,i){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.mo(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new D(w.UNKNOWN,s.toString())})}terminate(){this.iu=!0}}class XJ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ou=0,this.uu=null,this.cu=!0}au(){0===this.ou&&(this.hu("Unknown"),this.uu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.uu=null,this.lu("Backend didn't respond within 10 seconds."),this.hu("Offline"),Promise.resolve())))}fu(e){"Online"===this.state?this.hu("Unknown"):(this.ou++,this.ou>=1&&(this.du(),this.lu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.hu("Offline")))}set(e){this.du(),this.ou=0,"Online"===e&&(this.cu=!1),this.hu(e)}hu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}lu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.cu?(qe(n),this.cu=!1):b("OnlineStateTracker",n)}du(){null!==this.uu&&(this.uu.cancel(),this.uu=null)}}class JJ{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this._u=[],this.wu=new Map,this.mu=new Set,this.gu=[],this.yu=s,this.yu.Gr(a=>{r.enqueueAndForget(g(function*(){var u;Wr(o)&&(b("RemoteStore","Restarting streams for network reachability change."),yield(u=g(function*(c){const l=x(c);l.mu.add(4),yield na(l),l.pu.set("Unknown"),l.mu.delete(4),yield Ec(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.pu=new XJ(r,i)}}function Ec(t){return HE.apply(this,arguments)}function HE(){return HE=g(function*(t){if(Wr(t))for(const e of t.gu)yield e(!0)}),HE.apply(this,arguments)}function na(t){return GE.apply(this,arguments)}function GE(){return GE=g(function*(t){for(const e of t.gu)yield e(!1)}),GE.apply(this,arguments)}function ef(t,e){const n=x(t);n.wu.has(e.targetId)||(n.wu.set(e.targetId,e),WE(n)?zE(n):ia(n).Mo()&&qE(n,e))}function Dc(t,e){const n=x(t),r=ia(n);n.wu.delete(e),r.Mo()&&WO(n,e),0===n.wu.size&&(r.Mo()?r.Bo():Wr(n)&&n.pu.set("Unknown"))}function qE(t,e){t.Iu.Ot(e.targetId),ia(t).Jo(e)}function WO(t,e){t.Iu.Ot(e),ia(t).Yo(e)}function zE(t){t.Iu=new kX({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ie:e=>t.wu.get(e)||null}),ia(t).start(),t.pu.au()}function WE(t){return Wr(t)&&!ia(t).$o()&&t.wu.size>0}function Wr(t){return 0===x(t).mu.size}function KO(t){t.Iu=void 0}function ZJ(t){return KE.apply(this,arguments)}function KE(){return KE=g(function*(t){t.wu.forEach((e,n)=>{qE(t,e)})}),KE.apply(this,arguments)}function eZ(t,e){return QE.apply(this,arguments)}function QE(){return QE=g(function*(t,e){KO(t),WE(t)?(t.pu.fu(e),zE(t)):t.pu.set("Unknown")}),QE.apply(this,arguments)}function tZ(t,e,n){return YE.apply(this,arguments)}function YE(){return YE=g(function*(t,e,n){if(t.pu.set("Online"),e instanceof BP&&2===e.state&&e.cause)try{yield(r=g(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.wu.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.wu.delete(a),i.Iu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){b("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield tf(t,r)}else if(e instanceof Lh?t.Iu.Qt(e):e instanceof VP?t.Iu.Zt(e):t.Iu.Wt(e),!n.isEqual(U.min()))try{const r=yield FO(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Iu.ee(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.wu.get(u);c&&i.wu.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const u=i.wu.get(a);if(!u)return;i.wu.set(a,u.withResumeToken(ut.EMPTY_BYTE_STRING,u.snapshotVersion)),WO(i,a);const c=new _i(u.target,a,1,u.sequenceNumber);qE(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){b("RemoteStore","Failed to raise snapshot:",r),yield tf(t,r)}var r}),YE.apply(this,arguments)}function tf(t,e,n){return XE.apply(this,arguments)}function XE(){return XE=g(function*(t,e,n){if(!di(e))throw e;t.mu.add(1),yield na(t),t.pu.set("Offline"),n||(n=()=>FO(t.localStore)),t.asyncQueue.enqueueRetryable(g(function*(){b("RemoteStore","Retrying IndexedDB access"),yield n(),t.mu.delete(1),yield Ec(t)}))}),XE.apply(this,arguments)}function QO(t,e){return e().catch(n=>tf(t,n,e))}function ra(t){return JE.apply(this,arguments)}function JE(){return JE=g(function*(t){const e=x(t),n=Ei(e);let r=e._u.length>0?e._u[e._u.length-1].batchId:-1;for(;nZ(e);)try{const i=yield UJ(e.localStore,r);if(null===i){0===e._u.length&&n.Bo();break}r=i.batchId,rZ(e,i)}catch(i){yield tf(e,i)}YO(e)&&XO(e)}),JE.apply(this,arguments)}function nZ(t){return Wr(t)&&t._u.length<10}function rZ(t,e){t._u.push(e);const n=Ei(t);n.Mo()&&n.Xo&&n.tu(e.mutations)}function YO(t){return Wr(t)&&!Ei(t).$o()&&t._u.length>0}function XO(t){Ei(t).start()}function iZ(t){return ZE.apply(this,arguments)}function ZE(){return ZE=g(function*(t){Ei(t).su()}),ZE.apply(this,arguments)}function sZ(t){return eD.apply(this,arguments)}function eD(){return eD=g(function*(t){const e=Ei(t);for(const n of t._u)e.tu(n.mutations)}),eD.apply(this,arguments)}function oZ(t,e,n){return tD.apply(this,arguments)}function tD(){return tD=g(function*(t,e,n){const r=t._u.shift(),i=_E.from(r,e,n);yield QO(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield ra(t)}),tD.apply(this,arguments)}function aZ(t,e){return nD.apply(this,arguments)}function nD(){return nD=g(function*(t,e){var n;e&&Ei(t).Xo&&(yield(n=g(function*(r,i){if(function RP(t){switch(t){default:return F();case w.CANCELLED:case w.UNKNOWN:case w.DEADLINE_EXCEEDED:case w.RESOURCE_EXHAUSTED:case w.INTERNAL:case w.UNAVAILABLE:case w.UNAUTHENTICATED:return!1;case w.INVALID_ARGUMENT:case w.NOT_FOUND:case w.ALREADY_EXISTS:case w.PERMISSION_DENIED:case w.FAILED_PRECONDITION:case w.ABORTED:case w.OUT_OF_RANGE:case w.UNIMPLEMENTED:case w.DATA_LOSS:return!0}}(s=i.code)&&s!==w.ABORTED){const o=r._u.shift();Ei(r).Fo(),yield QO(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield ra(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),YO(t)&&XO(t)}),nD.apply(this,arguments)}function JO(t,e){return rD.apply(this,arguments)}function rD(){return rD=g(function*(t,e){const n=x(t);n.asyncQueue.verifyOperationInProgress(),b("RemoteStore","RemoteStore received new credentials");const r=Wr(n);n.mu.add(3),yield na(n),r&&n.pu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.mu.delete(3),yield Ec(n)}),rD.apply(this,arguments)}function sD(){return sD=g(function*(t,e){const n=x(t);e?(n.mu.delete(2),yield Ec(n)):e||(n.mu.add(2),yield na(n),n.pu.set("Unknown"))}),sD.apply(this,arguments)}function ia(t){return t.Tu||(t.Tu=function(e,n,r){const i=x(e);return i.ru(),new WJ(n,i.connection,i.authCredentials,i.appCheckCredentials,i.Tt,r)}(t.datastore,t.asyncQueue,{Xr:ZJ.bind(null,t),no:eZ.bind(null,t),Ho:tZ.bind(null,t)}),t.gu.push(function(){var e=g(function*(n){n?(t.Tu.Fo(),WE(t)?zE(t):t.pu.set("Unknown")):(yield t.Tu.stop(),KO(t))});return function(n){return e.apply(this,arguments)}}())),t.Tu}function Ei(t){return t.Eu||(t.Eu=function(e,n,r){const i=x(e);return i.ru(),new KJ(n,i.connection,i.authCredentials,i.appCheckCredentials,i.Tt,r)}(t.datastore,t.asyncQueue,{Xr:iZ.bind(null,t),no:aZ.bind(null,t),nu:sZ.bind(null,t),eu:oZ.bind(null,t)}),t.gu.push(function(){var e=g(function*(n){n?(t.Eu.Fo(),yield ra(t)):(yield t.Eu.stop(),t._u.length>0&&(b("RemoteStore",`Stopping write stream with ${t._u.length} pending writes`),t._u=[]))});return function(n){return e.apply(this,arguments)}}())),t.Eu}class oD{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new at,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new oD(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new D(w.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sa(t,e){if(qe("AsyncQueue",`${e}: ${t}`),di(t))return new D(w.UNAVAILABLE,`${e}: ${t}`);throw t}class oa{constructor(e){this.comparator=e?(n,r)=>e(n,r)||A.comparator(n.key,r.key):(n,r)=>A.comparator(n.key,r.key),this.keyedMap=oc(),this.sortedSet=new $e(this.comparator)}static emptySet(e){return new oa(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof oa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new oa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class ZO{constructor(){this.Au=new $e(A.comparator)}track(e){const n=e.doc.key,r=this.Au.get(n);r?0!==e.type&&3===r.type?this.Au=this.Au.insert(n,e):3===e.type&&1!==r.type?this.Au=this.Au.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Au=this.Au.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Au=this.Au.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Au=this.Au.remove(n):1===e.type&&2===r.type?this.Au=this.Au.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Au=this.Au.insert(n,{type:2,doc:e.doc}):F():this.Au=this.Au.insert(n,e)}Ru(){const e=[];return this.Au.inorderTraversal((n,r)=>{e.push(r)}),e}}class aa{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new aa(e,n,oa.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class uZ{constructor(){this.Pu=void 0,this.listeners=[]}}class cZ{constructor(){this.queries=new mi(e=>yP(e),nc),this.onlineState="Unknown",this.vu=new Set}}function uD(){return uD=g(function*(t,e){const n=x(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new uZ),i)try{s.Pu=yield n.onListen(r)}catch(o){const a=sa(o,`Initialization of query '${lE(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.bu(n.onlineState),s.Pu&&e.Vu(s.Pu)&&dD(n)}),uD.apply(this,arguments)}function lD(){return lD=g(function*(t,e){const n=x(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),lD.apply(this,arguments)}function lZ(t,e){const n=x(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.Vu(i)&&(r=!0);o.Pu=i}}r&&dD(n)}function dZ(t,e,n){const r=x(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function dD(t){t.vu.forEach(e=>{e.next()})}class hD{constructor(e,n,r){this.query=e,this.Su=n,this.Du=!1,this.Cu=null,this.onlineState="Unknown",this.options=r||{}}Vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new aa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Du?this.xu(e)&&(this.Su.next(e),n=!0):this.Nu(e,this.onlineState)&&(this.ku(e),n=!0),this.Cu=e,n}onError(e){this.Su.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Cu&&!this.Du&&this.Nu(this.Cu,e)&&(this.ku(this.Cu),n=!0),n}Nu(e,n){return!e.fromCache||(!this.options.$u||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}xu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Cu&&this.Cu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}ku(e){e=aa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Du=!0,this.Su.next(e)}}class nF{constructor(e){this.key=e}}class rF{constructor(e){this.key=e}}class iF{constructor(e,n){this.query=e,this.Ku=n,this.Gu=null,this.hasCachedResults=!1,this.current=!1,this.Qu=ee(),this.mutatedKeys=ee(),this.ju=vP(e),this.zu=new oa(this.ju)}get Wu(){return this.Ku}Hu(e,n){const r=n?n.Ju:new ZO,i=n?n.zu:this.zu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=rc(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),y=!0):this.Yu(h,f)||(r.track({type:2,doc:f}),y=!0,(u&&this.ju(f,u)>0||c&&this.ju(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(u||c)&&(a=!0)),y&&(f?(o=o.add(f),s=m?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{zu:o,Ju:r,Li:a,mutatedKeys:s}}Yu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.zu;this.zu=e.zu,this.mutatedKeys=e.mutatedKeys;const s=e.Ju.Ru();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return F()}};return f(d)-f(h)}(c.type,l.type)||this.ju(c.doc,l.doc)),this.Zu(r);const o=n?this.Xu():[],a=0===this.Qu.size&&this.current?1:0,u=a!==this.Gu;return this.Gu=a,0!==s.length||u?{snapshot:new aa(this.query,e.zu,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),tc:o}:{tc:o}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({zu:this.zu,Ju:new ZO,mutatedKeys:this.mutatedKeys,Li:!1},!1)):{tc:[]}}ec(e){return!this.Ku.has(e)&&!!this.zu.has(e)&&!this.zu.get(e).hasLocalMutations}Zu(e){e&&(e.addedDocuments.forEach(n=>this.Ku=this.Ku.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ku=this.Ku.delete(n)),this.current=e.current)}Xu(){if(!this.current)return[];const e=this.Qu;this.Qu=ee(),this.zu.forEach(r=>{this.ec(r.key)&&(this.Qu=this.Qu.add(r.key))});const n=[];return e.forEach(r=>{this.Qu.has(r)||n.push(new rF(r))}),this.Qu.forEach(r=>{e.has(r)||n.push(new nF(r))}),n}nc(e){this.Ku=e.Yi,this.Qu=ee();const n=this.Hu(e.documents);return this.applyChanges(n,!0)}sc(){return aa.fromInitialDocuments(this.query,this.zu,this.mutatedKeys,0===this.Gu,this.hasCachedResults)}}class pZ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class gZ{constructor(e){this.key=e,this.ic=!1}}class mZ{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.rc={},this.oc=new mi(a=>yP(a),nc),this.uc=new Map,this.cc=new Set,this.ac=new $e(A.comparator),this.hc=new Map,this.lc=new SE,this.fc={},this.dc=new Map,this._c=Ds.Sn(),this.onlineState="Unknown",this.wc=void 0}get isPrimaryClient(){return!0===this.wc}}function yZ(t,e){return fD.apply(this,arguments)}function fD(){return fD=g(function*(t,e){const n=function FD(t){const e=x(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=sF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CZ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wZ.bind(null,e),e.rc.Ho=lZ.bind(null,e.eventManager),e.rc.gc=dZ.bind(null,e.eventManager),e}(t);let r,i;const s=n.oc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.sc();else{const o=yield function ea(t,e){const n=x(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ns.getTargetData(r,e).next(s=>s?(i=s,v.resolve(i)):n.Ns.allocateTargetId(r).next(o=>(i=new _i(e,o,0,r.currentSequenceNumber),n.Ns.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ki.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ki=n.Ki.insert(r.targetId,r),n.Gi.set(e,r.targetId)),r})}(n.localStore,Qt(e));n.isPrimaryClient&&ef(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function pD(t,e,n,r,i){return gD.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken)}return i}),fD.apply(this,arguments)}function gD(){return gD=g(function*(t,e,n,r,i){t.mc=(d,h,f)=>{return(p=g(function*(m,y,I,T){let _=y.view.Hu(I);_.Li&&(_=yield Qh(m.localStore,y.query,!1).then(({documents:$})=>y.view.Hu($,_)));const P=T&&T.targetChanges.get(y.targetId),B=y.view.applyChanges(_,m.isPrimaryClient,P);return TD(m,y.targetId,B.tc),B.snapshot}),function(m,y,I,T){return p.apply(this,arguments)})(t,d,h,f);var p};const s=yield Qh(t.localStore,e,!0),o=new iF(e,s.Yi),a=o.Hu(s.documents),u=cc.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=o.applyChanges(a,t.isPrimaryClient,u);TD(t,n,c.tc);const l=new pZ(e,n,o);return t.oc.set(e,l),t.uc.has(n)?t.uc.get(n).push(e):t.uc.set(n,[e]),c.snapshot}),gD.apply(this,arguments)}function _Z(t,e){return mD.apply(this,arguments)}function mD(){return mD=g(function*(t,e){const n=x(t),r=n.oc.get(e),i=n.uc.get(r.targetId);if(i.length>1)return n.uc.set(r.targetId,i.filter(s=>!nc(s,e))),void n.oc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield ta(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Dc(n.remoteStore,r.targetId),ua(n,r.targetId)}).catch(li))):(ua(n,r.targetId),yield ta(n.localStore,r.targetId,!0))}),mD.apply(this,arguments)}function yD(){return yD=g(function*(t,e,n){const r=function LD(t){const e=x(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=IZ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=EZ.bind(null,e),e}(t);try{const i=yield function(s,o){const a=x(s),u=Oe.now(),c=o.reduce((h,f)=>h.add(f.key),ee());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=un(),p=ee();return a.ji.getEntries(h,c).next(m=>{f=m,f.forEach((y,I)=>{I.isValidDocument()||(p=p.add(y))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(m=>{l=m;const y=[];for(const I of o){const T=CX(I,l.get(I.key).overlayedDocument);null!=T&&y.push(new zr(I.key,T,hP(T.value.mapValue),Ne.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,y,o)}).next(m=>{d=m;const y=m.applyToLocalDocumentSet(l,p);return a.documentOverlayCache.saveOverlays(h,m.batchId,y)})}).then(()=>({batchId:d.batchId,changes:FP(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.fc[s.currentUser.toKey()];u||(u=new $e(Q)),u=u.insert(o,a),s.fc[s.currentUser.toKey()]=u}(r,i.batchId,n),yield Kr(r,i.changes),yield ra(r.remoteStore)}catch(i){const s=sa(i,"Failed to persist write");n.reject(s)}}),yD.apply(this,arguments)}function sF(t,e){return _D.apply(this,arguments)}function _D(){return _D=g(function*(t,e){const n=x(t);try{const r=yield function BJ(t,e){const n=x(t),r=e.snapshotVersion;let i=n.Ki;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ji.newChangeBuffer({trackRemovals:!0});i=n.Ki;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Ns.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Ns.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,m,y;e.targetMismatches.has(d)?f=f.withResumeToken(ut.EMPTY_BYTE_STRING,U.min()).withLastLimboFreeSnapshotVersion(U.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),m=f,y=l,(0===(p=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0)&&a.push(n.Ns.updateTargetData(s,f))});let u=un(),c=ee();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function LO(t,e,n){let r=ee(),i=ee();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=un();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(U.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):b("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Hi:o,Ji:i}})}(s,o,e.documentUpdates).next(l=>{u=l.Hi,c=l.Ji})),!r.isEqual(U.min())){const l=n.Ns.getLastRemoteSnapshotVersion(s).next(d=>n.Ns.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return v.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ki=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.hc.get(s);o&&(V(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ic=!0:i.modifiedDocuments.size>0?V(o.ic):i.removedDocuments.size>0&&(V(o.ic),o.ic=!1))}),yield Kr(n,r,e)}catch(r){yield li(r)}}),_D.apply(this,arguments)}function oF(t,e,n){const r=x(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.oc.forEach((s,o)=>{const a=o.view.bu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=x(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.bu(o)&&(u=!0)}),u&&dD(a)}(r.eventManager,e),i.length&&r.rc.Ho(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function wZ(t,e,n){return vD.apply(this,arguments)}function vD(){return vD=g(function*(t,e,n){const r=x(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.hc.get(e),s=i&&i.key;if(s){let o=new $e(A.comparator);o=o.insert(s,Se.newNoDocument(s,U.min()));const a=ee().add(s),u=new uc(U.min(),new Map,new ve(Q),o,a);yield sF(r,u),r.ac=r.ac.remove(s),r.hc.delete(e),CD(r)}else yield ta(r.localStore,e,!1).then(()=>ua(r,e,n)).catch(li)}),vD.apply(this,arguments)}function IZ(t,e){return wD.apply(this,arguments)}function wD(){return wD=g(function*(t,e){const n=x(t),r=e.batch.batchId;try{const i=yield function VJ(t,e){const n=x(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ji.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=v.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const m=u.docVersions.get(f);V(null!==m),p.version.compareTo(m)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=ee();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);bD(n,r,null),DD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Kr(n,i)}catch(i){yield li(i)}}),wD.apply(this,arguments)}function EZ(t,e,n){return ID.apply(this,arguments)}function ID(){return ID=g(function*(t,e,n){const r=x(t);try{const i=yield function(s,o){const a=x(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,o).next(l=>(V(null!==l),c=l.keys(),a.mutationQueue.removeMutationBatch(u,l))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(r.localStore,e);bD(r,e,n),DD(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Kr(r,i)}catch(i){yield li(i)}}),ID.apply(this,arguments)}function DD(t,e){(t.dc.get(e)||[]).forEach(n=>{n.resolve()}),t.dc.delete(e)}function bD(t,e,n){const r=x(t);let i=r.fc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.fc[r.currentUser.toKey()]=i}}function ua(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.uc.get(e))t.oc.delete(r),n&&t.rc.gc(r,n);t.uc.delete(e),t.isPrimaryClient&&t.lc.ds(e).forEach(r=>{t.lc.containsKey(r)||aF(t,r)})}function aF(t,e){t.cc.delete(e.path.canonicalString());const n=t.ac.get(e);null!==n&&(Dc(t.remoteStore,n),t.ac=t.ac.remove(e),t.hc.delete(n),CD(t))}function TD(t,e,n){for(const r of n)r instanceof nF?(t.lc.addReference(r.key,e),bZ(t,r)):r instanceof rF?(b("SyncEngine","Document no longer in limbo: "+r.key),t.lc.removeReference(r.key,e),t.lc.containsKey(r.key)||aF(t,r.key)):F()}function bZ(t,e){const n=e.key,r=n.path.canonicalString();t.ac.get(n)||t.cc.has(r)||(b("SyncEngine","New document in limbo: "+n),t.cc.add(r),CD(t))}function CD(t){for(;t.cc.size>0&&t.ac.size<t.maxConcurrentLimboResolutions;){const e=t.cc.values().next().value;t.cc.delete(e);const n=new A(de.fromString(e)),r=t._c.next();t.hc.set(r,new gZ(n)),t.ac=t.ac.insert(n,r),ef(t.remoteStore,new _i(Qt(qo(n.path)),r,2,In.at))}}function Kr(t,e,n){return SD.apply(this,arguments)}function SD(){return SD=g(function*(t,e,n){const r=x(t),i=[],s=[],o=[];var a;r.oc.isEmpty()||(r.oc.forEach((a,u)=>{o.push(r.mc(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=NE.Ni(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.rc.Ho(i),yield(a=g(function*(u,c){const l=x(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>v.forEach(c,h=>v.forEach(h.Ci,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>v.forEach(h.xi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!di(d))throw d;b("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Ki.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ki=l.Ki.insert(h,m)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),SD.apply(this,arguments)}function TZ(t,e){return AD.apply(this,arguments)}function AD(){return AD=g(function*(t,e){const n=x(t);if(!n.currentUser.isEqual(e)){b("SyncEngine","User change. New user:",e.toKey());const r=yield OO(n.localStore,e);n.currentUser=e,(i=n).dc.forEach(o=>{o.forEach(a=>{a.reject(new D(w.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.dc.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Kr(n,r.Wi)}var i}),AD.apply(this,arguments)}function CZ(t,e){const n=x(t),r=n.hc.get(e);if(r&&r.ic)return ee().add(r.key);{let i=ee();const s=n.uc.get(e);if(!s)return i;for(const o of s){const a=n.oc.get(o);i=i.unionWith(a.view.Wu)}return i}}class OZ{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return g(function*(){n.Tt=Ic(e.databaseInfo.databaseId),n.sharedClientState=n.Ic(e),n.persistence=n.Tc(e),yield n.persistence.start(),n.localStore=n.Ec(e),n.gcScheduler=n.Ac(e,n.localStore),n.indexBackfillerScheduler=n.Rc(e,n.localStore)})()}Ac(e,n){return null}Rc(e,n){return null}Ec(e){return function PO(t,e,n,r){return new LJ(t,e,n,r)}(this.persistence,new RO,e.initialUser,this.Tt)}Tc(e){return new NO(Wh.qs,this.Tt)}Ic(e){return new HO}terminate(){var e=this;return g(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class VD{initialize(e,n){var r=this;return g(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>oF(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=TZ.bind(null,r.syncEngine),yield function iD(t,e){return sD.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new cZ}createDatastore(e){const n=Ic(e.databaseInfo.databaseId),r=new zJ(e.databaseInfo);return new QJ(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>oF(this.syncEngine,a,0),o=GO.C()?new GO:new HJ,new JJ(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new mZ(r,i,s,o,a,u);return c&&(l.wc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=g(function*(n){const r=x(n);b("RemoteStore","RemoteStore shutting down."),r.mu.add(5),yield na(r),r.yu.shutdown(),r.pu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class nf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.vc(this.observer.next,e)}error(e){this.observer.error?this.vc(this.observer.error,e):qe("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}vc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class $Z{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ht.UNAUTHENTICATED,this.clientId=UR.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=g(function*(a){b("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(b("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return g(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new D(w.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new at;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(g(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=sa(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function BD(){return BD=g(function*(t,e){t.asyncQueue.verifyOperationInProgress(),b("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=g(function*(s){r.isEqual(s)||(yield OO(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}),BD.apply(this,arguments)}function UD(){return UD=g(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function $D(t){return jD.apply(this,arguments)}(t);b("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>JO(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>JO(e.remoteStore,s)),t.onlineComponents=e}),UD.apply(this,arguments)}function jD(){return jD=g(function*(t){return t.offlineComponents||(b("FirestoreClient","Using default OfflineComponentProvider"),yield function dF(t,e){return BD.apply(this,arguments)}(t,new OZ)),t.offlineComponents}),jD.apply(this,arguments)}function rf(t){return HD.apply(this,arguments)}function HD(){return HD=g(function*(t){return t.onlineComponents||(b("FirestoreClient","Using default OnlineComponentProvider"),yield function hF(t,e){return UD.apply(this,arguments)}(t,new VD)),t.onlineComponents}),HD.apply(this,arguments)}function zD(){return zD=g(function*(t){const e=yield rf(t),n=e.eventManager;return n.onListen=yZ.bind(null,e.syncEngine),n.onUnlisten=_Z.bind(null,e.syncEngine),n}),zD.apply(this,arguments)}function gF(t,e,n={}){const r=new at;return t.asyncQueue.enqueueAndForget(g(function*(){return function(i,s,o,a,u){const c=new nf({next:d=>{s.enqueueAndForget(()=>function cD(t,e){return lD.apply(this,arguments)}(i,l));const h=d.docs.has(o);!h&&d.fromCache?u.reject(new D(w.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&"server"===a.source?u.reject(new D(w.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),l=new hD(qo(o.path),c,{includeMetadataChanges:!0,$u:!0});return function aD(t,e){return uD.apply(this,arguments)}(i,l)}(yield function ca(t){return zD.apply(this,arguments)}(t),t.asyncQueue,e,n,r)})),r.promise}const yF=new Map;function _F(t){if(!A.isDocumentKey(t))throw new D(w.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function of(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":F()}function ae(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new D(w.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=of(t);throw new D(w.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class IF{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new D(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new D(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function QZ(t,e,n,r){if(!0===e&&!0===r)throw new D(w.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bc{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new IF({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new D(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new D(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new IF(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new GY;switch(n.type){case"gapi":return new KY(n.client,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new D(w.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=yF.get(e);n&&(b("ComponentProvider","Removing Datastore"),yF.delete(e),n.terminate())}(this),Promise.resolve()}}class Ke{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new dr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ke(this.firestore,e,this._key)}}class Ct{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ct(this.firestore,e,this._query)}}class dr extends Ct{constructor(e,n,r){super(e,n,qo(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ke(this.firestore,null,new A(e))}withConverter(e){return new dr(this.firestore,e,this._path)}}function EF(t,e,...n){if(t=Pt(t),1===arguments.length&&(e=UR.R()),function WD(t,e,n){if(!n)throw new D(w.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}("doc","path",e),t instanceof bc){const r=de.fromString(e,...n);return _F(r),new Ke(t,null,new A(r))}{if(!(t instanceof Ke||t instanceof dr))throw new D(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(de.fromString(e,...n));return _F(r),new Ke(t.firestore,t instanceof dr?t.converter:null,new A(r))}}class XZ{constructor(){this.qc=Promise.resolve(),this.Uc=[],this.Kc=!1,this.Gc=[],this.Qc=null,this.jc=!1,this.zc=!1,this.Wc=[],this.ko=new $E(this,"async_queue_retry"),this.Hc=()=>{const n=Zh();n&&b("AsyncQueue","Visibility state changed to "+n.visibilityState),this.ko.Vo()};const e=Zh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Hc)}get isShuttingDown(){return this.Kc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Jc(),this.Yc(e)}enterRestrictedMode(e){if(!this.Kc){this.Kc=!0,this.zc=e||!1;const n=Zh();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Hc)}}enqueue(e){if(this.Jc(),this.Kc)return new Promise(()=>{});const n=new at;return this.Yc(()=>this.Kc&&this.zc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Uc.push(e),this.Zc()))}Zc(){var e=this;return g(function*(){if(0!==e.Uc.length){try{yield e.Uc[0](),e.Uc.shift(),e.ko.reset()}catch(n){if(!di(n))throw n;b("AsyncQueue","Operation failed with retryable error: "+n)}e.Uc.length>0&&e.ko.vo(()=>e.Zc())}})()}Yc(e){const n=this.qc.then(()=>(this.jc=!0,e().catch(r=>{throw this.Qc=r,this.jc=!1,qe("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.jc=!1,r))));return this.qc=n,n}enqueueAfterDelay(e,n,r){this.Jc(),this.Wc.indexOf(e)>-1&&(n=0);const i=oD.createAndSchedule(this,e,n,r,s=>this.Xc(s));return this.Gc.push(i),i}Jc(){this.Qc&&F()}verifyOperationInProgress(){}ta(){var e=this;return g(function*(){let n;do{n=e.qc,yield n}while(n!==e.qc)})()}ea(e){for(const n of this.Gc)if(n.timerId===e)return!0;return!1}na(e){return this.ta().then(()=>{this.Gc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Gc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.ta()})}sa(e){this.Wc.push(e)}Xc(e){const n=this.Gc.indexOf(e);this.Gc.splice(n,1)}}class Ae extends bc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new XZ,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||bF(this),this._firestoreClient.terminate()}}function ZZ(t,e){const r="string"==typeof t?t:e||"(default)",i=Do("object"==typeof t?t:ty(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=BW("firestore");s&&function YZ(t,e,n,r={}){var i;const s=(t=ae(t,bc))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&Bo("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if("string"==typeof r.mockUserToken)o=r.mockUserToken,a=ht.MOCK_USER;else{o=function $W(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[hd(JSON.stringify({alg:"none",type:"JWT"})),hd(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new D(w.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new ht(u)}t._authCredentials=new qY(new VR(o,a))}}(i,...s)}return i}function et(t){return t._firestoreClient||bF(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function bF(t){var e;const n=t._freezeSettings(),r=(s=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new aX(t._databaseId,s,t._persistenceKey,(a=n).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;t._firestoreClient=new $Z(t._authCredentials,t._appCheckCredentials,t._queue,r)}class Ts{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ts(ut.fromBase64String(e))}catch(n){throw new D(w.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ts(ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class la{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new D(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ze(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class SF{constructor(e){this._methodName=e}}class QD{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new D(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new D(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Q(this._lat,e._lat)||Q(this._long,e._long)}}const tee=/^__.*__$/;class nee{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new zr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ko(e,this.data,n,this.fieldTransforms)}}function xF(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw F()}}class af{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.Tt=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ia(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ra(){return this.settings.ra}oa(e){return new af(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.Tt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ua(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.oa({path:r,ca:!1});return i.aa(e),i}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.oa({path:r,ca:!1});return i.ia(),i}la(e){return this.oa({path:void 0,ca:!0})}fa(e){return cf(e,this.settings.methodName,this.settings.da||!1,this.path,this.settings._a)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ia(){if(this.path)for(let e=0;e<this.path.length;e++)this.aa(this.path.get(e))}aa(e){if(0===e.length)throw this.fa("Document fields must not be empty");if(xF(this.ra)&&tee.test(e))throw this.fa('Document fields cannot begin and end with "__"')}}class ree{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.Tt=r||Ic(e)}wa(e,n,r,i=!1){return new af({ra:e,methodName:n,_a:r,path:ze.emptyPath(),ca:!1,da:i},this.databaseId,this.Tt,this.ignoreUndefinedProperties)}}function da(t){const e=t._freezeSettings(),n=Ic(t._databaseId);return new ree(t._databaseId,!!e.ignoreUndefinedProperties,n)}function YD(t,e,n,r,i,s={}){const o=t.wa(s.merge||s.mergeFields?2:0,e,n,i);JD("Data must be an object, but it was:",o,r);const a=PF(r,o);let u,c;if(s.merge)u=new an(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=Sc(e,d,n);if(!o.contains(h))throw new D(w.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);FF(l,h)||l.push(h)}u=new an(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new nee(new ft(a),u,c)}function Cs(t,e){if(OF(t=Pt(t)))return JD("Unsupported field value:",e,t),PF(t,e);if(t instanceof SF)return function(n,r){if(!xF(r.ra))throw r.fa(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.fa(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ca&&4!==e.ra)throw e.fa("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Cs(o,r.la(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=Pt(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return EP(r.Tt,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=Oe.fromDate(n);return{timestampValue:Yo(r.Tt,i)}}if(n instanceof Oe){const i=new Oe(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Yo(r.Tt,i)}}if(n instanceof QD)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ts)return{bytesValue:HP(r.Tt,n._byteString)};if(n instanceof Ke){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.fa(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:hE(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.fa(`Unsupported field value: ${of(n)}`)}(t,e)}function PF(t,e){const n={};return WR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ls(t,(r,i)=>{const s=Cs(i,e.ua(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function OF(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Oe||t instanceof QD||t instanceof Ts||t instanceof Ke||t instanceof SF)}function JD(t,e,n){if(!OF(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=of(n);throw e.fa("an object"===r?t+" a custom object":t+" "+r)}var r}function Sc(t,e,n){if((e=Pt(e))instanceof la)return e._internalPath;if("string"==typeof e)return uf(t,e);throw cf("Field path arguments must be of type string or ",t,!1,void 0,n)}const aee=new RegExp("[~\\*/\\[\\]]");function uf(t,e,n){if(e.search(aee)>=0)throw cf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new la(...e.split("."))._internalPath}catch{throw cf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function cf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new D(w.INVALID_ARGUMENT,a+t+u)}function FF(t,e){return t.some(n=>n.isEqual(e))}class ZD{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ke(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new uee(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(lf("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class uee extends ZD{data(){return super.data()}}function lf(t,e){return"string"==typeof e?uf(t,e):e instanceof la?e._internalPath:e._delegate._internalPath}class lee{convertValue(e,n="none"){switch(hs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ue(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ds(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw F()}}convertObject(e,n){const r={};return ls(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new QD(Ue(e.latitude),Ue(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=QR(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Xu(e));default:return null}}convertTimestamp(e){const n=hi(e);return new Oe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=de.fromString(e);V(ZP(r));const i=new cs(r.get(1),r.get(3)),s=new A(r.popFirst(5));return i.isEqual(n)||qe(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class Ss{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fa extends ZD{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new pf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(lf("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class pf extends fa{data(e={}){return super.data(e)}}function fee(t){t=ae(t,Ke);const e=ae(t.firestore,Ae);return gF(et(e),t._key).then(n=>function nb(t,e,n){const r=n.docs.get(e._key),i=new Di(t);return new fa(t,i,e._key,r,new Ss(n.hasPendingWrites,n.fromCache),e.converter)}(e,t,n))}class Di extends lee{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ts(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ke(this.firestore,null,n)}}function pee(t,e,n){t=ae(t,Ke);const r=ae(t.firestore,Ae),i=function tb(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e,n);return xc(r,[YD(da(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Ne.none())])}function gee(t){return xc(ae(t.firestore,Ae),[new Qo(t._key,Ne.none())])}function xc(t,e){return function(n,r){const i=new at;return n.asyncQueue.enqueueAndForget(g(function*(){return function vZ(t,e,n){return yD.apply(this,arguments)}(yield function qD(t){return rf(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(et(t),e)}!function(t,e=!0){Vo=bo,zt(new Ot("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Ae(new zY(n.getProvider("auth-internal")),new QY(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new D(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cs(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Ve(LR,"3.9.0",t),Ve(LR,"3.9.0","esm2017")}();class mf{constructor(e){return e}}const qF="firestore",rb=new G("angularfire2.firestore-instances");function Eee(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new mf(r)}}const Dee={provide:class wee{constructor(){return $_(qF)}},deps:[[new Ht,rb]]},bee={provide:mf,useFactory:function Iee(t,e){const n=U_(qF,t,e);return n&&new mf(n)},deps:[[new Ht,rb],xo]};let Tee=(()=>{class t{constructor(){Ve("angularfire",Sd.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Pn({type:t}),t.\u0275inj=Dn({providers:[bee,Dee]}),t})();function Cee(t,...e){return{ngModule:Tee,providers:[{provide:rb,useFactory:Eee(t),multi:!0,deps:[Ye,$n,j_,H_,[new Ht,wk],[new Ht,uv],...e]}]}}const See=Nn(gee,!0),Aee=Nn(EF,!0),xee=Nn(fee,!0),Mee=Nn(ZZ,!0),zF=Nn(pee,!0),{isArray:Nee}=Array,{getPrototypeOf:kee,prototype:Ree,keys:Pee}=Object;const{isArray:Lee}=Array;function Uee(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function $ee(...t){const e=function xV(t){return ke($f(t))?t.pop():void 0}(t),{args:n,keys:r}=function Oee(t){if(1===t.length){const e=t[0];if(Nee(e))return{args:e,keys:null};if(function Fee(t){return t&&"object"==typeof t&&kee(t)===Ree}(e)){const n=Pee(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}(t),i=new mt(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;pr(n[l]).subscribe(Ns(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?Uee(r,a):a),s.complete())}))}});return e?i.pipe(function Bee(t){return Vf(e=>function Vee(t,e){return Lee(e)?t(...e):t(e)}(t,e))}(e)):i}let WF=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(C(Vi),C(Vn))},t.\u0275dir=X({type:t}),t})(),As=(()=>{class t extends WF{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=function Mt(t){return gr(()=>{const e=t.prototype.constructor,n=e[yr]||_p(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[yr]||_p(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}(t)))(r||t)}}(),t.\u0275dir=X({type:t,features:[ye]}),t})();const hr=new G("NgValueAccessor"),Hee={provide:hr,useExisting:De(()=>yf),multi:!0},qee=new G("CompositionEventMode");let yf=(()=>{class t extends WF{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Gee(){const t=Io()?Io().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(C(Vi),C(Vn),C(qee,8))},t.\u0275dir=X({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&vt("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[xe([Hee]),ye]}),t})();const zee=!1,Bt=new G("NgValidators"),Ti=new G("NgAsyncValidators");function iL(t){return null!=t}function sL(t){const e=Rl(t)?Zb(t):t;if(zee&&!iS(e)){let n="Expected async validator to return Promise or Observable.";throw"object"==typeof t&&(n+=" Are you using a synchronous validator where an async validator is expected?"),new k(-1101,n)}return e}function oL(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function aL(t,e){return e.map(n=>n(t))}function uL(t){return t.map(e=>function Kee(t){return!t.validate}(e)?e:n=>e.validate(n))}function ib(t){return null!=t?function cL(t){if(!t)return null;const e=t.filter(iL);return 0==e.length?null:function(n){return oL(aL(n,e))}}(uL(t)):null}function sb(t){return null!=t?function lL(t){if(!t)return null;const e=t.filter(iL);return 0==e.length?null:function(n){return $ee(aL(n,e).map(sL)).pipe(Vf(oL))}}(uL(t)):null}function dL(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function ob(t){return t?Array.isArray(t)?t:[t]:[]}function vf(t,e){return Array.isArray(t)?t.includes(e):t===e}function pL(t,e){const n=ob(e);return ob(t).forEach(i=>{vf(n,i)||n.push(i)}),n}function gL(t,e){return ob(e).filter(n=>!vf(t,n))}class mL{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ib(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=sb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Xt extends mL{get formDirective(){return null}get path(){return null}}class Ci extends mL{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class yL{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let _L=(()=>{class t extends yL{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(C(Ci,2))},t.\u0275dir=X({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&Fl("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[ye]}),t})(),vL=(()=>{class t extends yL{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(C(Xt,10))},t.\u0275dir=X({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&Fl("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[ye]}),t})();function wL(t,e){return t?`with name: '${e}'`:`at index: ${e}`}const cb=!1,Mc="VALID",If="INVALID",ga="PENDING",Nc="DISABLED";function lb(t){return(Ef(t)?t.validators:t)||null}function db(t,e){return(Ef(e)?e.asyncValidators:t)||null}function Ef(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class DL{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Mc}get invalid(){return this.status===If}get pending(){return this.status==ga}get disabled(){return this.status===Nc}get enabled(){return this.status!==Nc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(pL(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(pL(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(gL(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(gL(e,this._rawAsyncValidators))}hasValidator(e){return vf(this._rawValidators,e)}hasAsyncValidator(e){return vf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ga,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Nc,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Mc,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Mc||this.status===ga)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Nc:Mc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ga,this._hasOwnPendingAsyncValidator=!0;const n=sL(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Rt,this.statusChanges=new Rt}_calculateStatus(){return this._allControlsDisabled()?Nc:this.errors?If:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ga)?ga:this._anyControlsHaveStatus(If)?If:Mc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ef(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function tte(t){return Array.isArray(t)?ib(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function nte(t){return Array.isArray(t)?sb(t):t||null}(this._rawAsyncValidators)}}class hb extends DL{constructor(e,n,r){super(lb(n),db(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function EL(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new k(1002,cb?function ete(t,e){return`Must supply a value for form control ${wL(t,e)}`}(e,i):"")})})(this,!0,e),Object.keys(e).forEach(r=>{(function IL(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new k(1e3,cb?function Jee(t){return`\n    There are no form controls registered with this ${t?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!r[n])throw new k(1001,cb?function Zee(t,e){return`Cannot find form control ${wL(t,e)}`}(e,n):"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const ma=new G("CallSetDisabledState",{providedIn:"root",factory:()=>Df}),Df="always";function kc(t,e,n=Df){fb(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function ste(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&bL(t,e)})}(t,e),function ate(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function ote(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&bL(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function ite(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Cf(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function fb(t,e){const n=function hL(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(dL(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function fL(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(dL(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Cf(e._rawValidators,i),Cf(e._rawAsyncValidators,i)}function bL(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const hte={provide:Xt,useExisting:De(()=>Af)},Rc=(()=>Promise.resolve())();let Af=(()=>{class t extends Xt{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Rt,this.form=new hb({},ib(n),sb(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Rc.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),kc(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Rc.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Rc.then(()=>{const r=this._findContainer(n.path),i=new hb({});(function TL(t,e){fb(t,e)})(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Rc.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Rc.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,function CL(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}}return t.\u0275fac=function(n){return new(n||t)(C(Bt,10),C(Ti,10),C(ma,8))},t.\u0275dir=X({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){1&n&&vt("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[xe([hte]),ye]}),t})();function SL(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function AL(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const xL=class extends DL{constructor(e=null,n,r){super(lb(n),db(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ef(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=AL(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){SL(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){SL(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){AL(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},gte={provide:Ci,useExisting:De(()=>yb)},kL=(()=>Promise.resolve())();let yb=(()=>{class t extends Ci{constructor(n,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new xL,this._registered=!1,this.update=new Rt,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function mb(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===yf?n=s:function lte(t){return Object.getPrototypeOf(t.constructor)===As}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function gb(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){kc(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){kL.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&function fm(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}(r);kL.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function bf(t,e){return[...e.path,t]}(n,this._parent):[n]}}return t.\u0275fac=function(n){return new(n||t)(C(Xt,9),C(Bt,10),C(Ti,10),C(hr,10),C(Mx,8),C(ma,8))},t.\u0275dir=X({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[xe([gte]),ye,vr]}),t})(),RL=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=X({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),OL=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Pn({type:t}),t.\u0275inj=Dn({}),t})(),Bte=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Pn({type:t}),t.\u0275inj=Dn({imports:[OL]}),t})(),$te=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:ma,useValue:n.callSetDisabledState??Df}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Pn({type:t}),t.\u0275inj=Dn({imports:[Bte]}),t})();class bb{constructor(e,n,r){this.displayName=e,this.iconId=n,this.authProviderFactory=r}signIn(e){UQ(e,this.authProviderFactory())}}let ZL=(()=>{class t{constructor(n){this.firestore=n}profile(n){return Aee(this.firestore,"profiles",n).withConverter({fromFirestore:r=>r.data(),toFirestore:r=>r})}}return t.\u0275fac=function(n){return new(n||t)(ue(mf))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function jte(t,e){if(1&t){const n=kl();fo(0),M(1,"div",85)(2,"a",86),oe(3,"img",87),N(),M(4,"ul",88)(5,"li")(6,"a",89)(7,"strong",38),W(8),N()()(),M(9,"li")(10,"a",89),W(11),N()(),M(12,"li"),oe(13,"hr",90),N(),M(14,"li")(15,"a",91),W(16,"Profile"),N()(),M(17,"li")(18,"a",92),vt("click",function(){return Sa(n),Aa(ti().onSettingsButtonClick())}),W(19,"Settings"),N()(),M(20,"li"),oe(21,"hr",90),N(),M(22,"li")(23,"a",93),vt("click",function(){return Sa(n),Aa(ti().onSignOutButtonClick())}),W(24,"Sign out"),N()()()(),po()}if(2&t){const n=ti();Un(3),Pl("src",null==n.auth.currentUser?null:n.auth.currentUser.photoURL,Yp),Pl("alt",null==n.auth.currentUser?null:n.auth.currentUser.displayName),Un(5),Qa("@",null==n.currentProfile?null:n.currentProfile.username,""),Un(3),kg(null==n.auth.currentUser?null:n.auth.currentUser.displayName)}}function Hte(t,e){if(1&t){const n=kl();M(0,"li")(1,"a",93),vt("click",function(){const s=Sa(n).$implicit;return Aa(ti(2).onSignInButtonClick(s))}),oe(2,"span"),W(3),N()()}if(2&t){const n=e.$implicit;Un(2),BS("bi-",n.iconId," inquizitiv-icon fs-5"),Un(1),Qa(" Continue with ",n.displayName," ")}}function Gte(t,e){if(1&t&&(fo(0),M(1,"div",85)(2,"button",94),W(3,"Sign-in"),N(),M(4,"ul",88),ho(5,Hte,4,4,"li",69),N()(),po()),2&t){const n=ti();Un(5),ei("ngForOf",n.signInMethods)}}function qte(t,e){if(1&t){const n=kl();M(0,"input",95),vt("ngModelChange",function(i){return Sa(n),Aa(ti().formProfile.username=i)}),N()}2&t&&ei("ngModel",ti().formProfile.username)}function zte(t,e){1&t&&(fo(0),M(1,"div",96)(2,"h5"),oe(3,"span",97),N(),M(4,"ul",98)(5,"li",99)(6,"a",100),oe(7,"span",71),N()(),M(8,"li",99)(9,"a",100),oe(10,"span",101),N()(),M(11,"li",99)(12,"a",100),oe(13,"span",102),N()(),M(14,"li",99)(15,"a",100),oe(16,"span",103),N()(),M(17,"li",99)(18,"a",100),oe(19,"span",102),N()()()(),po())}const Wte=function(){return[1,2,3]};let Kte=(()=>{class t{constructor(n,r){var i=this;this.auth=n,this.databaseService=r,this._currentProfile=null,this._formProfile={username:""},BQ(n,function(){var s=g(function*(o){if(!o)return void(i.currentProfile=null);const a=r.profile(o.uid),u=yield xee(a);u.exists()?i.currentProfile=u.data():(i.currentProfile={username:"user"+(Math.floor(9e3*Math.random())+1e3).toString()},yield zF(a,i.currentProfile))});return function(o){return s.apply(this,arguments)}}())}get currentProfile(){return this._currentProfile}set currentProfile(n){this._currentProfile=n,n&&(this._formProfile.username=n.username)}get formProfile(){return this._formProfile}get signInMethods(){return[new bb("Microsoft","microsoft",()=>new es("microsoft.com")),new bb("GitHub","github",()=>new es("microsoft.com")),new bb("Google","google",()=>new jN)]}onDeleteProfileClick(){var n=this;const r=this.auth?.currentUser;r&&r.providerData.forEach(function(){var i=g(function*(s){"google.com"===s.providerId?(yield Ik(r,new jN),yield n.deleteUserAsync()):(yield Ik(r,new es(s.providerId)),yield n.deleteUserAsync())});return function(s){return i.apply(this,arguments)}}())}deleteUserAsync(){var n=this;return g(function*(){const r=n.auth?.currentUser;r&&(yield See(n.databaseService.profile(r.uid)),yield LQ(r))})()}onSignInButtonClick(n){n.signIn(this.auth)}onSignOutButtonClick(){$Q(this.auth)}onSettingsButtonClick(){this.currentProfile&&(this.formProfile.username=this.currentProfile.username)}onProfileFormSubmit(){const n=this.auth?.currentUser;if(!n)return;const r=this.databaseService.profile(n.uid);zF(r,{username:this.formProfile?.username},{merge:!0}).then(()=>{this.currentProfile=this.formProfile})}}return t.\u0275fac=function(n){return new(n||t)(C(Qd),C(ZL))},t.\u0275cmp=cT({type:t,selectors:[["app-root"]],decls:174,vars:5,consts:[[1,"p-3","mb-3","border-bottom","bg-body"],[1,"container"],[1,"d-flex","flex-wrap","align-items-center","justify-content-center","justify-content-lg-start"],["href","#",1,"d-flex","align-items-center","mb-3","mb-md-0","me-md-auto","link-secondary","text-decoration-none"],[1,"fs-4"],[1,"nav","col-12","col-lg-auto","me-lg-auto","mb-2","justify-content","mb-md-0"],["href","https://github.com/ishanpranav",1,"nav-link","px-2y","link-body-emphasis"],["href","#",1,"nav-link","px-2","link-secondary"],[4,"ngIf"],[1,"b-example-divider"],[1,"d-flex","align-items-center","p-3","my-3","text-white","bg-purple","rounded","shadow-sm"],["width","48","height","48","xmlns","http://www.w3.org/2000/svg","role","img","aria-label","Placeholder: 48x48","preserveAspectRatio","xMidYMid slice","focusable","false",1,"bd-placeholder-img","flex-shrink-0","me-2","rounded"],["width","100%","height","100%","fill","#eeeeee"],["x","50%","y","50%","fill","#eeeeee","dy",".3em"],[1,"lh-1"],[1,"h6","mb-0","text-white","lh-1"],[1,"my-3","p-3","bg-body","rounded","shadow-sm"],[1,"border-bottom","pb-2","mb-0"],[1,"d-flex","text-body-secondary","pt-3"],["width","32","height","32","xmlns","http://www.w3.org/2000/svg","role","img","aria-label","Placeholder: 32x32","preserveAspectRatio","xMidYMid slice","focusable","false",1,"bd-placeholder-img","flex-shrink-0","me-2","rounded"],["width","100%","height","100%","fill","#007bff"],["x","50%","y","50%","fill","#007bff","dy",".3em"],[1,"w-100","pb-3","mb-0","small","lh-sm","border-bottom"],[1,"d-block","text-gray-dark"],[1,"d-block","placeholder","col-1","mb-1"],[1,"d-block","placeholder","col-12","mb-1"],[1,"d-block","placeholder","col-7"],["width","100%","height","100%","fill","#e83e8c"],["x","50%","y","50%","fill","#e83e8c","dy",".3em"],[1,"d-block","placeholder","col-9"],["width","100%","height","100%","fill","#6f42c1"],["x","50%","y","50%","fill","#6f42c1","dy",".3em"],[1,"d-block","placeholder","col-2"],[1,"d-block","text-end","mt-3"],["href","#",1,"text-decoration-none"],[1,"pb-3","mb-0","small","lh-sm","border-bottom","w-100"],[1,"d-flex","justify-content-between"],[1,"text-gray-dark"],[1,"d-block"],["href","#","data-bs-toggle","modal","data-bs-target","#exampleModal",1,"text-decoration-none"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-scrollable"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["id","settingsModal","tabindex","-1","aria-labelledby","settingsModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-dialog-scrollable"],["id","settingsModalLabel",1,"modal-title","fs-5"],[3,"ngSubmit"],[1,"mb-3"],[1,"input-group"],[1,"input-group-text"],[1,"form-floating"],["type","text","class","form-control","id","usernameTextInput","aria-describedby","basic-addon3 basic-addon4","name","username","placeholder","@example",3,"ngModel","ngModelChange",4,"ngIf"],["for","usernameTextInput"],["id","basic-addon4",1,"form-text"],[1,"d-grid","gap-2"],["type","button","data-bs-target","#exampleModalToggle2","data-bs-toggle","modal",1,"btn","btn-outline-danger"],[1,"modal-footer"],["type","submit","data-bs-dismiss","modal",1,"btn","btn-primary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["id","exampleModalToggle2","aria-hidden","true","aria-labelledby","exampleModalToggleLabel2","tabindex","-1",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],["id","exampleModalToggleLabel2",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],[1,"py-5","bg-body"],[1,"row"],[4,"ngFor","ngForOf"],[1,"col-4","offset-1"],[1,"d-block","placeholder","col-4"],[1,"d-flex","w-100","gap-2"],["for","newsletter1",1,"visually-hidden"],["id","newsletter1","type","text","placeholder","Email address",1,"form-control","placeholder"],["type","button",1,"btn","btn-primary","disabled","placeholder","col-4"],[1,"d-flex","justify-content-between","py-4","my-4","border-top"],[1,"list-unstyled","d-flex"],[1,"ms-3"],["href","https://github.com/ishanpranav/inquizitiv","target","_blank",1,"link-dark"],[1,"bi-github","fs-3"],["href","#",1,"link-dark"],["width","24","height","24",1,"bi"],[0,"xlink","href","#instagram"],[0,"xlink","href","#facebook"],[1,"dropdown","text-end"],["href","#","data-bs-toggle","dropdown","aria-expanded","false",1,"d-block","link-dark","text-decoration-none","dropdown-toggle"],["referrerpolicy","no-referrer","width","32","height","32",1,"rounded-circle",3,"src","alt"],[1,"dropdown-menu","dropdown-menu-end","text-small"],[1,"dropdown-item","disabled"],[1,"dropdown-divider"],["href","#",1,"dropdown-item"],["href","#","data-bs-toggle","modal","data-bs-target","#settingsModal",1,"dropdown-item",3,"click"],["href","#",1,"dropdown-item",3,"click"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-primary"],["type","text","id","usernameTextInput","aria-describedby","basic-addon3 basic-addon4","name","username","placeholder","@example",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-2"],[1,"d-block","placeholder","col-8"],[1,"nav","flex-column"],[1,"nav-item","mb-2"],["href","#",1,"nav-link","p-0","text-muted"],[1,"d-block","placeholder","col-6"],[1,"d-block","placeholder","col-5"],[1,"d-block","placeholder","col-3"]],template:function(n,r){1&n&&(M(0,"header",0)(1,"div",1)(2,"div",2)(3,"a",3)(4,"span",4),W(5,"Inquizitiv"),N()(),M(6,"ul",5)(7,"li")(8,"a",6),W(9,"Home"),N()(),M(10,"li")(11,"a",7),W(12,"Inquizitiv"),N()()(),ho(13,jte,25,4,"ng-container",8),ho(14,Gte,6,1,"ng-container",8),N()()(),oe(15,"div",9),M(16,"main",1)(17,"div",10),Jr(),M(18,"svg",11)(19,"title"),W(20,"Placeholder"),N(),oe(21,"rect",12),M(22,"text",13),W(23,"32x32"),N()(),Ri(),M(24,"div",14)(25,"h1",15),W(26,"Inquizitiv"),N(),M(27,"small"),W(28,"Test your knowledge"),N()()(),M(29,"div",16)(30,"h6",17),W(31,"Recent updates"),N(),M(32,"div",18),Jr(),M(33,"svg",19)(34,"title"),W(35,"Placeholder"),N(),oe(36,"rect",20),M(37,"text",21),W(38,"32x32"),N()(),Ri(),M(39,"p",22)(40,"strong",23),oe(41,"span",24),N(),oe(42,"span",25)(43,"span",26),N()(),M(44,"div",18),Jr(),M(45,"svg",19)(46,"title"),W(47,"Placeholder"),N(),oe(48,"rect",27),M(49,"text",28),W(50,"32x32"),N()(),Ri(),M(51,"p",22)(52,"strong",23),oe(53,"span",24),N(),oe(54,"span",29),N()(),M(55,"div",18),Jr(),M(56,"svg",19)(57,"title"),W(58,"Placeholder"),N(),oe(59,"rect",30),M(60,"text",31),W(61,"32x32"),N()(),Ri(),M(62,"p",22)(63,"strong",23),oe(64,"span",24),N(),oe(65,"span",25)(66,"span",32),N()(),M(67,"small",33)(68,"a",34),W(69,"All updates"),N()()(),M(70,"div",16)(71,"h6",17),W(72,"Friends"),N(),M(73,"div",18),Jr(),M(74,"svg",19)(75,"title"),W(76,"Placeholder"),N(),oe(77,"rect",20),M(78,"text",21),W(79,"32x32"),N()(),Ri(),M(80,"div",35)(81,"div",36)(82,"strong",37),W(83,"Full name"),N(),M(84,"a",34),W(85,"Challenge"),N()(),M(86,"span",38),W(87,"@username"),N()()(),M(88,"small",33)(89,"a",39),W(90,"Invite a friend"),N()(),M(91,"div",40)(92,"div",41)(93,"div",42)(94,"div",43)(95,"h1",44),W(96,"Invite a friend"),N(),oe(97,"button",45),N(),M(98,"div",46),W(99," ... "),N()()()(),M(100,"div",47)(101,"div",48)(102,"div",42)(103,"div",43)(104,"h1",49),W(105,"Settings"),N(),oe(106,"button",45),N(),M(107,"form",50),vt("ngSubmit",function(){return r.onProfileFormSubmit()}),M(108,"div",46)(109,"div",51)(110,"div",52)(111,"span",53),W(112,"@"),N(),M(113,"div",54),ho(114,qte,1,1,"input",55),M(115,"label",56),W(116,"Username"),N()()(),M(117,"div",57),W(118,"This is your public-facing handle."),N()(),oe(119,"hr"),M(120,"div",58)(121,"button",59),W(122,"Delete account"),N()()(),M(123,"div",60)(124,"button",61),W(125,"Save changes"),N(),M(126,"button",62),W(127,"Cancel"),N()()()()()(),M(128,"div",63)(129,"div",64)(130,"div",42)(131,"div",43)(132,"h1",65),W(133,"Are you sure?"),N(),oe(134,"button",45),N(),M(135,"div",46),W(136,"You are about to delete your account and remove associated data. This action is not reversable. You will be asked to sign in again to confirm."),N(),M(137,"div",60)(138,"button",66),vt("click",function(){return r.onDeleteProfileClick()}),W(139,"Yes, delete my account"),N(),M(140,"button",62),W(141,"Cancel"),N()()()()()()(),oe(142,"div",9),M(143,"footer",67)(144,"div",1)(145,"div",68),ho(146,zte,20,0,"ng-container",69),M(147,"div",70)(148,"form")(149,"h5"),oe(150,"span",29),N(),M(151,"p"),oe(152,"span",25)(153,"span",71),N(),M(154,"div",72)(155,"label",73),W(156,"Email address"),N(),oe(157,"input",74)(158,"button",75),N()()()(),M(159,"div",76)(160,"p"),W(161,"\xa9 2023 Ishan Pranav. All rights reserved."),N(),M(162,"ul",77)(163,"li",78)(164,"a",79),oe(165,"span",80),N()(),M(166,"li",78)(167,"a",81),Jr(),M(168,"svg",82),oe(169,"use",83),N()()(),Ri(),M(170,"li",78)(171,"a",81),Jr(),M(172,"svg",82),oe(173,"use",84),N()()()()()()()),2&n&&(Un(13),ei("ngIf",null==r.auth?null:r.auth.currentUser),Un(1),ei("ngIf",!r.auth.currentUser),Un(100),ei("ngIf",r.formProfile),Un(32),ei("ngForOf",RA(4,Wte)))},dependencies:[Xx,Zx,RL,yf,_L,vL,yb,Af],styles:[".bd-placeholder-img[_ngcontent-%COMP%]{font-size:1.125rem;text-anchor:middle;-webkit-user-select:none;user-select:none}@media (min-width: 768px){.bd-placeholder-img-lg[_ngcontent-%COMP%]{font-size:3.5rem}}.b-example-vr[_ngcontent-%COMP%]{flex-shrink:0;width:1.5rem;height:100vh}.bi[_ngcontent-%COMP%]{vertical-align:-.125em;fill:currentColor}.nav-scroller[_ngcontent-%COMP%]{position:relative;z-index:2;height:2.75rem;overflow-y:hidden}.nav-scroller[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;padding-bottom:1rem;margin-top:-1px;overflow-x:auto;text-align:center;white-space:nowrap;-webkit-overflow-scrolling:touch}.btn-bd-primary[_ngcontent-%COMP%]{--bd-violet-bg: #712cf9;--bd-violet-rgb: 112.520718, 44.062154, 249.437846;--bs-btn-font-weight: 600;--bs-btn-color: var(--bs-white);--bs-btn-bg: var(--bd-violet-bg);--bs-btn-border-color: var(--bd-violet-bg);--bs-btn-hover-color: var(--bs-white);--bs-btn-hover-bg: #6528e0;--bs-btn-hover-border-color: #6528e0;--bs-btn-focus-shadow-rgb: var(--bd-violet-rgb);--bs-btn-active-color: var(--bs-btn-hover-color);--bs-btn-active-bg: #5a23c8;--bs-btn-active-border-color: #5a23c8}.bd-mode-toggle[_ngcontent-%COMP%]{z-index:1500}.bg-purple[_ngcontent-%COMP%]{background-color:#6f42c1}"]}),t})();const Qte=JSON.parse('{"apiKey":"AIzaSyDAEot7Sj1sP7fZh8NelsKSvGYakQ1jyrc","authDomain":"inquizitiv-2ca1f.firebaseapp.com","projectId":"inquizitiv-2ca1f","storageBucket":"inquizitiv-2ca1f.appspot.com","messagingSenderId":"53634781396","appId":"1:53634781396:web:21d1fe449438c8245eab41"}');var Yte=Sb.t(Qte,2);let Xte=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Pn({type:t,bootstrap:[Kte]}),t.\u0275inj=Dn({providers:[ZL],imports:[IW,$te,FQ(()=>VQ()),Cee(()=>Mee()),tK(()=>nK(Yte))]}),t})();wW().bootstrapModule(Xte).catch(t=>console.error(t))}},xf=>{xf(xf.s=276)}]);